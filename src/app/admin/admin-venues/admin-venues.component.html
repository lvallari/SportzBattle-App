<app-admin-sidemenu></app-admin-sidemenu>
<div class="contents contentsx">
    <div class="page_title">Venues</div>
    <table class="table">
        <thead>
            <tr>
                <th>Venue</th>
                <th class="text-center">Number of Players</th>
                <th class="text-center">Total Games</th>
                <th class="text-center">Today Games</th>
                <th class="text-center">Monthly Games</th>
            </tr>
        </thead>
        <tbody>
            @for (x of venues;track x.venue_id){
            <tr>
                <td>{{x.business_name}}</td>
                <td class="text-center clickable" (click)="showPlayers(x)">{{x.number_of_players}}</td>
                <td class="text-center">{{x.total_games}}</td>
                <td class="text-center">{{x.today_games}}</td>
                <td class="text-center">{{x.monthly_games}}</td>
            </tr>
            }
        </tbody>
    </table>
</div>

<div class="modal fade" id="usersModal" tabindex="-1" role="dialog" [hidden]="" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            @if(users){
            <div class="modal-body modal_body">
                <button class="btn btn-default modal_close_button" data-dismiss="modal"
                    (click)="closeModal('usersModal')">
                    <i class="fa fa-times modal_close_icon"></i>
                </button>

                <div class="venue_name">{{itemx.business_name}}</div>

                @for (user of users;track user.user_id){
                <div class="user_container">
                    <img class="user_image" src="{{user.image}}">&nbsp;&nbsp;{{user.username}}
                </div>
                }

                @if(users.length == 0){
                <div class="text-center" style="padding:30px 0;">
                    <em>There are no users registered to this venue.</em>
                </div>
                }

                <div class="text-center" style="padding: 35px 0 0 0;">
                    <button class="btn btn-default button_primary" (click)="closeModal('usersModal')">Ok</button>
                </div>

            </div>
            }
        </div>
    </div>
</div>