import{B as l,E as m,fb as d,gb as c,m as a,sb as u,u as o,x as n}from"./chunk-QLRFMCCZ.js";var _=(()=>{let t=class t{constructor(e){this.http=e,this.baseurl=u.baseurl+"/mailing",this.httpOptions={headers:new d({})}}verifyEmail(e){var s={user_id:e.user_id,email:e.email,first_name:e.first_name};this.sendMailRequest("verifyEmail",s).subscribe(r=>{console.log("new email for verification has been sent")})}passwordReset(e,s){var r={user_id:e.user_id,email:e.email,link_url:"https://sportzbattle.azurewebsites.net/password-reset?token="+s};this.sendMailRequest("passwordReset",r).subscribe(h=>{console.log("Password reset has been sent")})}requestInfo(e){var s={user_id:e.user_id,email:e.email,verification_link:"https://sportzbattle.azurewebsites.net/user-verification/"+e.token,rank:e.rank,prize:e.prize,date:e.date};this.sendMailRequest("requestInfo",s).subscribe(r=>{console.log("Password reset has been sent")})}tokensAwarded(e){var s={email:e.email,username:e.username,number_tokens:e.tokens,message_number:Math.ceil(Math.random()*3)};this.sendMailRequest("tokensAwarded",s).subscribe(r=>{console.log("Tokens awarded email has been sent")})}accountCreated(e){var s={user_id:e.user_id,first_name:e.first_name,email:e.email};this.sendMailRequest("accountCreated",s).subscribe(r=>{console.log("Password reset has been sent")})}sendMailRequest(e,s){return this.http.post(this.baseurl+"/"+e,s,this.httpOptions).pipe(n(0),o(this.errorHandl))}errorHandl(e){let s="";return e.error instanceof ErrorEvent?s=e.error.message:s=`Error Code: ${e.status}
Message: ${e.message}`,console.log(s),a(s)}};t.\u0275fac=function(s){return new(s||t)(m(c))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();export{_ as a};
