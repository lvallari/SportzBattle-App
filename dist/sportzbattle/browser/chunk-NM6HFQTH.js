import{a as bt,b as Fo,c as qo,d as yt,e as Xo}from"./chunk-RUCSM5RC.js";import{a as Ei}from"./chunk-M4X56ZH4.js";import{c as Wo,e as Ho,f as jo,k as Yo,l as Qo,m as Go}from"./chunk-YSJK22I2.js";import{$ as m,Aa as f,Ab as ze,C as Eo,Da as G,E as Oo,Ea as qt,Fa as Wt,Ga as Ht,H as ut,I as mt,Ia as g,Ja as A,Ka as Z,La as Oe,Ma as j,N as V,Na as Y,O as gt,Oa as Q,Q as me,Qa as Ge,R as v,S as C,Sa as ae,Ta as zo,W as ge,Wa as Vo,Xa as Bo,Z as H,_ as Po,a as Ee,aa as k,ab as Lo,b as Mo,c as N,cb as Ie,d as Ea,da as To,e as wi,ea as Ao,eb as fe,f as ue,hb as No,ia as T,ib as vt,ja as vn,k as So,ka as y,la as ft,ma as Mi,na as ko,ob as Uo,pa as J,pb as Ct,ra as _t,sa as xt,ta as p,tb as be,ua as d,va as S,vb as Cn,w as Ft,wa as Io,x as xn,xa as Ro,xb as Do,ya as R,yb as Si,za as M,zb as Re}from"./chunk-Z2M3T6G4.js";var Jo=N((sp,Ko)=>{"use strict";Ko.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Xe=N(it=>{"use strict";var bn,Oa=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];it.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};it.getSymbolTotalCodewords=function(t){return Oa[t]};it.getBCHDigit=function(o){let t=0;for(;o!==0;)t++,o>>>=1;return t};it.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');bn=t};it.isKanjiModeEnabled=function(){return typeof bn<"u"};it.toSJIS=function(t){return bn(t)}});var Oi=N(ye=>{"use strict";ye.L={bit:1};ye.M={bit:0};ye.Q={bit:3};ye.H={bit:2};function Pa(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return ye.L;case"m":case"medium":return ye.M;case"q":case"quartile":return ye.Q;case"h":case"high":return ye.H;default:throw new Error("Unknown EC Level: "+o)}}ye.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};ye.from=function(t,i){if(ye.isValid(t))return t;try{return Pa(t)}catch{return i}}});var er=N((lp,$o)=>{"use strict";function Zo(){this.buffer=[],this.length=0}Zo.prototype={get:function(o){let t=Math.floor(o/8);return(this.buffer[t]>>>7-o%8&1)===1},put:function(o,t){for(let i=0;i<t;i++)this.putBit((o>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),o&&(this.buffer[t]|=128>>>this.length%8),this.length++}};$o.exports=Zo});var ir=N((dp,tr)=>{"use strict";function jt(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}jt.prototype.set=function(o,t,i,e){let n=o*this.size+t;this.data[n]=i,e&&(this.reservedBit[n]=!0)};jt.prototype.get=function(o,t){return this.data[o*this.size+t]};jt.prototype.xor=function(o,t,i){this.data[o*this.size+t]^=i};jt.prototype.isReserved=function(o,t){return this.reservedBit[o*this.size+t]};tr.exports=jt});var nr=N(Pi=>{"use strict";var Ta=Xe().getSymbolSize;Pi.getRowColCoords=function(t){if(t===1)return[];let i=Math.floor(t/7)+2,e=Ta(t),n=e===145?26:Math.ceil((e-13)/(2*i-2))*2,r=[e-7];for(let s=1;s<i-1;s++)r[s]=r[s-1]-n;return r.push(6),r.reverse()};Pi.getPositions=function(t){let i=[],e=Pi.getRowColCoords(t),n=e.length;for(let r=0;r<n;r++)for(let s=0;s<n;s++)r===0&&s===0||r===0&&s===n-1||r===n-1&&s===0||i.push([e[r],e[s]]);return i}});var sr=N(rr=>{"use strict";var Aa=Xe().getSymbolSize,or=7;rr.getPositions=function(t){let i=Aa(t);return[[0,0],[i-or,0],[0,i-or]]}});var ar=N(D=>{"use strict";D.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var nt={N1:3,N2:3,N3:40,N4:10};D.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};D.from=function(t){return D.isValid(t)?parseInt(t,10):void 0};D.getPenaltyN1=function(t){let i=t.size,e=0,n=0,r=0,s=null,c=null;for(let h=0;h<i;h++){n=r=0,s=c=null;for(let x=0;x<i;x++){let w=t.get(h,x);w===s?n++:(n>=5&&(e+=nt.N1+(n-5)),s=w,n=1),w=t.get(x,h),w===c?r++:(r>=5&&(e+=nt.N1+(r-5)),c=w,r=1)}n>=5&&(e+=nt.N1+(n-5)),r>=5&&(e+=nt.N1+(r-5))}return e};D.getPenaltyN2=function(t){let i=t.size,e=0;for(let n=0;n<i-1;n++)for(let r=0;r<i-1;r++){let s=t.get(n,r)+t.get(n,r+1)+t.get(n+1,r)+t.get(n+1,r+1);(s===4||s===0)&&e++}return e*nt.N2};D.getPenaltyN3=function(t){let i=t.size,e=0,n=0,r=0;for(let s=0;s<i;s++){n=r=0;for(let c=0;c<i;c++)n=n<<1&2047|t.get(s,c),c>=10&&(n===1488||n===93)&&e++,r=r<<1&2047|t.get(c,s),c>=10&&(r===1488||r===93)&&e++}return e*nt.N3};D.getPenaltyN4=function(t){let i=0,e=t.data.length;for(let r=0;r<e;r++)i+=t.data[r];return Math.abs(Math.ceil(i*100/e/5)-10)*nt.N4};function ka(o,t,i){switch(o){case D.Patterns.PATTERN000:return(t+i)%2===0;case D.Patterns.PATTERN001:return t%2===0;case D.Patterns.PATTERN010:return i%3===0;case D.Patterns.PATTERN011:return(t+i)%3===0;case D.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2===0;case D.Patterns.PATTERN101:return t*i%2+t*i%3===0;case D.Patterns.PATTERN110:return(t*i%2+t*i%3)%2===0;case D.Patterns.PATTERN111:return(t*i%3+(t+i)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}D.applyMask=function(t,i){let e=i.size;for(let n=0;n<e;n++)for(let r=0;r<e;r++)i.isReserved(r,n)||i.xor(r,n,ka(t,r,n))};D.getBestMask=function(t,i){let e=Object.keys(D.Patterns).length,n=0,r=1/0;for(let s=0;s<e;s++){i(s),D.applyMask(s,t);let c=D.getPenaltyN1(t)+D.getPenaltyN2(t)+D.getPenaltyN3(t)+D.getPenaltyN4(t);D.applyMask(s,t),c<r&&(r=c,n=s)}return n}});var wn=N(yn=>{"use strict";var Ke=Oi(),Ti=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ai=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];yn.getBlocksCount=function(t,i){switch(i){case Ke.L:return Ti[(t-1)*4+0];case Ke.M:return Ti[(t-1)*4+1];case Ke.Q:return Ti[(t-1)*4+2];case Ke.H:return Ti[(t-1)*4+3];default:return}};yn.getTotalCodewordsCount=function(t,i){switch(i){case Ke.L:return Ai[(t-1)*4+0];case Ke.M:return Ai[(t-1)*4+1];case Ke.Q:return Ai[(t-1)*4+2];case Ke.H:return Ai[(t-1)*4+3];default:return}}});var cr=N(Ii=>{"use strict";var Yt=new Uint8Array(512),ki=new Uint8Array(256);(function(){let t=1;for(let i=0;i<255;i++)Yt[i]=t,ki[t]=i,t<<=1,t&256&&(t^=285);for(let i=255;i<512;i++)Yt[i]=Yt[i-255]})();Ii.log=function(t){if(t<1)throw new Error("log("+t+")");return ki[t]};Ii.exp=function(t){return Yt[t]};Ii.mul=function(t,i){return t===0||i===0?0:Yt[ki[t]+ki[i]]}});var lr=N(Qt=>{"use strict";var Mn=cr();Qt.mul=function(t,i){let e=new Uint8Array(t.length+i.length-1);for(let n=0;n<t.length;n++)for(let r=0;r<i.length;r++)e[n+r]^=Mn.mul(t[n],i[r]);return e};Qt.mod=function(t,i){let e=new Uint8Array(t);for(;e.length-i.length>=0;){let n=e[0];for(let s=0;s<i.length;s++)e[s]^=Mn.mul(i[s],n);let r=0;for(;r<e.length&&e[r]===0;)r++;e=e.slice(r)}return e};Qt.generateECPolynomial=function(t){let i=new Uint8Array([1]);for(let e=0;e<t;e++)i=Qt.mul(i,new Uint8Array([1,Mn.exp(e)]));return i}});var hr=N((_p,pr)=>{"use strict";var dr=lr();function Sn(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}Sn.prototype.initialize=function(t){this.degree=t,this.genPoly=dr.generateECPolynomial(this.degree)};Sn.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let i=new Uint8Array(t.length+this.degree);i.set(t);let e=dr.mod(i,this.genPoly),n=this.degree-e.length;if(n>0){let r=new Uint8Array(this.degree);return r.set(e,n),r}return e};pr.exports=Sn});var En=N(ur=>{"use strict";ur.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var On=N(Ue=>{"use strict";var mr="[0-9]+",Ia="[A-Z $%*+\\-./:]+",Gt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Gt=Gt.replace(/u/g,"\\u");var Ra="(?:(?![A-Z0-9 $%*+\\-./:]|"+Gt+`)(?:.|[\r
]))+`;Ue.KANJI=new RegExp(Gt,"g");Ue.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ue.BYTE=new RegExp(Ra,"g");Ue.NUMERIC=new RegExp(mr,"g");Ue.ALPHANUMERIC=new RegExp(Ia,"g");var za=new RegExp("^"+Gt+"$"),Va=new RegExp("^"+mr+"$"),Ba=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ue.testKanji=function(t){return za.test(t)};Ue.testNumeric=function(t){return Va.test(t)};Ue.testAlphanumeric=function(t){return Ba.test(t)}});var Je=N(ee=>{"use strict";var La=En(),Pn=On();ee.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};ee.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};ee.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};ee.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};ee.MIXED={bit:-1};ee.getCharCountIndicator=function(t,i){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!La.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?t.ccBits[0]:i<27?t.ccBits[1]:t.ccBits[2]};ee.getBestModeForData=function(t){return Pn.testNumeric(t)?ee.NUMERIC:Pn.testAlphanumeric(t)?ee.ALPHANUMERIC:Pn.testKanji(t)?ee.KANJI:ee.BYTE};ee.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};ee.isValid=function(t){return t&&t.bit&&t.ccBits};function Na(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return ee.NUMERIC;case"alphanumeric":return ee.ALPHANUMERIC;case"kanji":return ee.KANJI;case"byte":return ee.BYTE;default:throw new Error("Unknown mode: "+o)}}ee.from=function(t,i){if(ee.isValid(t))return t;try{return Na(t)}catch{return i}}});var vr=N(ot=>{"use strict";var Ri=Xe(),Ua=wn(),gr=Oi(),Ze=Je(),Tn=En(),_r=7973,fr=Ri.getBCHDigit(_r);function Da(o,t,i){for(let e=1;e<=40;e++)if(t<=ot.getCapacity(e,i,o))return e}function xr(o,t){return Ze.getCharCountIndicator(o,t)+4}function Fa(o,t){let i=0;return o.forEach(function(e){let n=xr(e.mode,t);i+=n+e.getBitsLength()}),i}function qa(o,t){for(let i=1;i<=40;i++)if(Fa(o,i)<=ot.getCapacity(i,t,Ze.MIXED))return i}ot.from=function(t,i){return Tn.isValid(t)?parseInt(t,10):i};ot.getCapacity=function(t,i,e){if(!Tn.isValid(t))throw new Error("Invalid QR Code version");typeof e>"u"&&(e=Ze.BYTE);let n=Ri.getSymbolTotalCodewords(t),r=Ua.getTotalCodewordsCount(t,i),s=(n-r)*8;if(e===Ze.MIXED)return s;let c=s-xr(e,t);switch(e){case Ze.NUMERIC:return Math.floor(c/10*3);case Ze.ALPHANUMERIC:return Math.floor(c/11*2);case Ze.KANJI:return Math.floor(c/13);case Ze.BYTE:default:return Math.floor(c/8)}};ot.getBestVersionForData=function(t,i){let e,n=gr.from(i,gr.M);if(Array.isArray(t)){if(t.length>1)return qa(t,n);if(t.length===0)return 1;e=t[0]}else e=t;return Da(e.mode,e.getLength(),n)};ot.getEncodedBits=function(t){if(!Tn.isValid(t)||t<7)throw new Error("Invalid QR Code version");let i=t<<12;for(;Ri.getBCHDigit(i)-fr>=0;)i^=_r<<Ri.getBCHDigit(i)-fr;return t<<12|i}});var wr=N(yr=>{"use strict";var An=Xe(),br=1335,Wa=21522,Cr=An.getBCHDigit(br);yr.getEncodedBits=function(t,i){let e=t.bit<<3|i,n=e<<10;for(;An.getBCHDigit(n)-Cr>=0;)n^=br<<An.getBCHDigit(n)-Cr;return(e<<10|n)^Wa}});var Sr=N((wp,Mr)=>{"use strict";var Ha=Je();function wt(o){this.mode=Ha.NUMERIC,this.data=o.toString()}wt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};wt.prototype.getLength=function(){return this.data.length};wt.prototype.getBitsLength=function(){return wt.getBitsLength(this.data.length)};wt.prototype.write=function(t){let i,e,n;for(i=0;i+3<=this.data.length;i+=3)e=this.data.substr(i,3),n=parseInt(e,10),t.put(n,10);let r=this.data.length-i;r>0&&(e=this.data.substr(i),n=parseInt(e,10),t.put(n,r*3+1))};Mr.exports=wt});var Or=N((Mp,Er)=>{"use strict";var ja=Je(),kn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Mt(o){this.mode=ja.ALPHANUMERIC,this.data=o}Mt.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Mt.prototype.getLength=function(){return this.data.length};Mt.prototype.getBitsLength=function(){return Mt.getBitsLength(this.data.length)};Mt.prototype.write=function(t){let i;for(i=0;i+2<=this.data.length;i+=2){let e=kn.indexOf(this.data[i])*45;e+=kn.indexOf(this.data[i+1]),t.put(e,11)}this.data.length%2&&t.put(kn.indexOf(this.data[i]),6)};Er.exports=Mt});var Tr=N((Sp,Pr)=>{"use strict";Pr.exports=function(t){for(var i=[],e=t.length,n=0;n<e;n++){var r=t.charCodeAt(n);if(r>=55296&&r<=56319&&e>n+1){var s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(r=(r-55296)*1024+s-56320+65536,n+=1)}if(r<128){i.push(r);continue}if(r<2048){i.push(r>>6|192),i.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){i.push(r>>12|224),i.push(r>>6&63|128),i.push(r&63|128);continue}if(r>=65536&&r<=1114111){i.push(r>>18|240),i.push(r>>12&63|128),i.push(r>>6&63|128),i.push(r&63|128);continue}i.push(239,191,189)}return new Uint8Array(i).buffer}});var kr=N((Ep,Ar)=>{"use strict";var Ya=Tr(),Qa=Je();function St(o){this.mode=Qa.BYTE,typeof o=="string"&&(o=Ya(o)),this.data=new Uint8Array(o)}St.getBitsLength=function(t){return t*8};St.prototype.getLength=function(){return this.data.length};St.prototype.getBitsLength=function(){return St.getBitsLength(this.data.length)};St.prototype.write=function(o){for(let t=0,i=this.data.length;t<i;t++)o.put(this.data[t],8)};Ar.exports=St});var Rr=N((Op,Ir)=>{"use strict";var Ga=Je(),Xa=Xe();function Et(o){this.mode=Ga.KANJI,this.data=o}Et.getBitsLength=function(t){return t*13};Et.prototype.getLength=function(){return this.data.length};Et.prototype.getBitsLength=function(){return Et.getBitsLength(this.data.length)};Et.prototype.write=function(o){let t;for(t=0;t<this.data.length;t++){let i=Xa.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),o.put(i,13)}};Ir.exports=Et});var zr=N((Pp,In)=>{"use strict";var Xt={single_source_shortest_paths:function(o,t,i){var e={},n={};n[t]=0;var r=Xt.PriorityQueue.make();r.push(t,0);for(var s,c,h,x,w,O,E,B,L;!r.empty();){s=r.pop(),c=s.value,x=s.cost,w=o[c]||{};for(h in w)w.hasOwnProperty(h)&&(O=w[h],E=x+O,B=n[h],L=typeof n[h]>"u",(L||B>E)&&(n[h]=E,r.push(h,E),e[h]=c))}if(typeof i<"u"&&typeof n[i]>"u"){var X=["Could not find a path from ",t," to ",i,"."].join("");throw new Error(X)}return e},extract_shortest_path_from_predecessor_list:function(o,t){for(var i=[],e=t,n;e;)i.push(e),n=o[e],e=o[e];return i.reverse(),i},find_path:function(o,t,i){var e=Xt.single_source_shortest_paths(o,t,i);return Xt.extract_shortest_path_from_predecessor_list(e,i)},PriorityQueue:{make:function(o){var t=Xt.PriorityQueue,i={},e;o=o||{};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i.queue=[],i.sorter=o.sorter||t.default_sorter,i},default_sorter:function(o,t){return o.cost-t.cost},push:function(o,t){var i={value:o,cost:t};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof In<"u"&&(In.exports=Xt)});var qr=N(Ot=>{"use strict";var U=Je(),Lr=Sr(),Nr=Or(),Ur=kr(),Dr=Rr(),Kt=On(),zi=Xe(),Ka=zr();function Vr(o){return unescape(encodeURIComponent(o)).length}function Jt(o,t,i){let e=[],n;for(;(n=o.exec(i))!==null;)e.push({data:n[0],index:n.index,mode:t,length:n[0].length});return e}function Fr(o){let t=Jt(Kt.NUMERIC,U.NUMERIC,o),i=Jt(Kt.ALPHANUMERIC,U.ALPHANUMERIC,o),e,n;return zi.isKanjiModeEnabled()?(e=Jt(Kt.BYTE,U.BYTE,o),n=Jt(Kt.KANJI,U.KANJI,o)):(e=Jt(Kt.BYTE_KANJI,U.BYTE,o),n=[]),t.concat(i,e,n).sort(function(s,c){return s.index-c.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Rn(o,t){switch(t){case U.NUMERIC:return Lr.getBitsLength(o);case U.ALPHANUMERIC:return Nr.getBitsLength(o);case U.KANJI:return Dr.getBitsLength(o);case U.BYTE:return Ur.getBitsLength(o)}}function Ja(o){return o.reduce(function(t,i){let e=t.length-1>=0?t[t.length-1]:null;return e&&e.mode===i.mode?(t[t.length-1].data+=i.data,t):(t.push(i),t)},[])}function Za(o){let t=[];for(let i=0;i<o.length;i++){let e=o[i];switch(e.mode){case U.NUMERIC:t.push([e,{data:e.data,mode:U.ALPHANUMERIC,length:e.length},{data:e.data,mode:U.BYTE,length:e.length}]);break;case U.ALPHANUMERIC:t.push([e,{data:e.data,mode:U.BYTE,length:e.length}]);break;case U.KANJI:t.push([e,{data:e.data,mode:U.BYTE,length:Vr(e.data)}]);break;case U.BYTE:t.push([{data:e.data,mode:U.BYTE,length:Vr(e.data)}])}}return t}function $a(o,t){let i={},e={start:{}},n=["start"];for(let r=0;r<o.length;r++){let s=o[r],c=[];for(let h=0;h<s.length;h++){let x=s[h],w=""+r+h;c.push(w),i[w]={node:x,lastCount:0},e[w]={};for(let O=0;O<n.length;O++){let E=n[O];i[E]&&i[E].node.mode===x.mode?(e[E][w]=Rn(i[E].lastCount+x.length,x.mode)-Rn(i[E].lastCount,x.mode),i[E].lastCount+=x.length):(i[E]&&(i[E].lastCount=x.length),e[E][w]=Rn(x.length,x.mode)+4+U.getCharCountIndicator(x.mode,t))}}n=c}for(let r=0;r<n.length;r++)e[n[r]].end=0;return{map:e,table:i}}function Br(o,t){let i,e=U.getBestModeForData(o);if(i=U.from(t,e),i!==U.BYTE&&i.bit<e.bit)throw new Error('"'+o+'" cannot be encoded with mode '+U.toString(i)+`.
 Suggested mode is: `+U.toString(e));switch(i===U.KANJI&&!zi.isKanjiModeEnabled()&&(i=U.BYTE),i){case U.NUMERIC:return new Lr(o);case U.ALPHANUMERIC:return new Nr(o);case U.KANJI:return new Dr(o);case U.BYTE:return new Ur(o)}}Ot.fromArray=function(t){return t.reduce(function(i,e){return typeof e=="string"?i.push(Br(e,null)):e.data&&i.push(Br(e.data,e.mode)),i},[])};Ot.fromString=function(t,i){let e=Fr(t,zi.isKanjiModeEnabled()),n=Za(e),r=$a(n,i),s=Ka.find_path(r.map,"start","end"),c=[];for(let h=1;h<s.length-1;h++)c.push(r.table[s[h]].node);return Ot.fromArray(Ja(c))};Ot.rawSplit=function(t){return Ot.fromArray(Fr(t,zi.isKanjiModeEnabled()))}});var Hr=N(Wr=>{"use strict";var Bi=Xe(),zn=Oi(),ec=er(),tc=ir(),ic=nr(),nc=sr(),Ln=ar(),Nn=wn(),oc=hr(),Vi=vr(),rc=wr(),sc=Je(),Vn=qr();function ac(o,t){let i=o.size,e=nc.getPositions(t);for(let n=0;n<e.length;n++){let r=e[n][0],s=e[n][1];for(let c=-1;c<=7;c++)if(!(r+c<=-1||i<=r+c))for(let h=-1;h<=7;h++)s+h<=-1||i<=s+h||(c>=0&&c<=6&&(h===0||h===6)||h>=0&&h<=6&&(c===0||c===6)||c>=2&&c<=4&&h>=2&&h<=4?o.set(r+c,s+h,!0,!0):o.set(r+c,s+h,!1,!0))}}function cc(o){let t=o.size;for(let i=8;i<t-8;i++){let e=i%2===0;o.set(i,6,e,!0),o.set(6,i,e,!0)}}function lc(o,t){let i=ic.getPositions(t);for(let e=0;e<i.length;e++){let n=i[e][0],r=i[e][1];for(let s=-2;s<=2;s++)for(let c=-2;c<=2;c++)s===-2||s===2||c===-2||c===2||s===0&&c===0?o.set(n+s,r+c,!0,!0):o.set(n+s,r+c,!1,!0)}}function dc(o,t){let i=o.size,e=Vi.getEncodedBits(t),n,r,s;for(let c=0;c<18;c++)n=Math.floor(c/3),r=c%3+i-8-3,s=(e>>c&1)===1,o.set(n,r,s,!0),o.set(r,n,s,!0)}function Bn(o,t,i){let e=o.size,n=rc.getEncodedBits(t,i),r,s;for(r=0;r<15;r++)s=(n>>r&1)===1,r<6?o.set(r,8,s,!0):r<8?o.set(r+1,8,s,!0):o.set(e-15+r,8,s,!0),r<8?o.set(8,e-r-1,s,!0):r<9?o.set(8,15-r-1+1,s,!0):o.set(8,15-r-1,s,!0);o.set(e-8,8,1,!0)}function pc(o,t){let i=o.size,e=-1,n=i-1,r=7,s=0;for(let c=i-1;c>0;c-=2)for(c===6&&c--;;){for(let h=0;h<2;h++)if(!o.isReserved(n,c-h)){let x=!1;s<t.length&&(x=(t[s]>>>r&1)===1),o.set(n,c-h,x),r--,r===-1&&(s++,r=7)}if(n+=e,n<0||i<=n){n-=e,e=-e;break}}}function hc(o,t,i){let e=new ec;i.forEach(function(h){e.put(h.mode.bit,4),e.put(h.getLength(),sc.getCharCountIndicator(h.mode,o)),h.write(e)});let n=Bi.getSymbolTotalCodewords(o),r=Nn.getTotalCodewordsCount(o,t),s=(n-r)*8;for(e.getLengthInBits()+4<=s&&e.put(0,4);e.getLengthInBits()%8!==0;)e.putBit(0);let c=(s-e.getLengthInBits())/8;for(let h=0;h<c;h++)e.put(h%2?17:236,8);return uc(e,o,t)}function uc(o,t,i){let e=Bi.getSymbolTotalCodewords(t),n=Nn.getTotalCodewordsCount(t,i),r=e-n,s=Nn.getBlocksCount(t,i),c=e%s,h=s-c,x=Math.floor(e/s),w=Math.floor(r/s),O=w+1,E=x-w,B=new oc(E),L=0,X=new Array(s),Me=new Array(s),q=0,W=new Uint8Array(o.buffer);for(let xe=0;xe<s;xe++){let pe=xe<h?w:O;X[xe]=W.slice(L,L+pe),Me[xe]=B.encode(X[xe]),L+=pe,q=Math.max(q,pe)}let se=new Uint8Array(e),qe=0,ne,oe;for(ne=0;ne<q;ne++)for(oe=0;oe<s;oe++)ne<X[oe].length&&(se[qe++]=X[oe][ne]);for(ne=0;ne<E;ne++)for(oe=0;oe<s;oe++)se[qe++]=Me[oe][ne];return se}function mc(o,t,i,e){let n;if(Array.isArray(o))n=Vn.fromArray(o);else if(typeof o=="string"){let x=t;if(!x){let w=Vn.rawSplit(o);x=Vi.getBestVersionForData(w,i)}n=Vn.fromString(o,x||40)}else throw new Error("Invalid data");let r=Vi.getBestVersionForData(n,i);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=r;else if(t<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let s=hc(t,i,n),c=Bi.getSymbolSize(t),h=new tc(c);return ac(h,t),cc(h),lc(h,t),Bn(h,i,0),t>=7&&dc(h,t),pc(h,s),isNaN(e)&&(e=Ln.getBestMask(h,Bn.bind(null,h,i))),Ln.applyMask(e,h),Bn(h,i,e),{modules:h,version:t,errorCorrectionLevel:i,maskPattern:e,segments:n}}Wr.create=function(t,i){if(typeof t>"u"||t==="")throw new Error("No input text");let e=zn.M,n,r;return typeof i<"u"&&(e=zn.from(i.errorCorrectionLevel,zn.M),n=Vi.from(i.version),r=Ln.from(i.maskPattern),i.toSJISFunc&&Bi.setToSJISFunction(i.toSJISFunc)),mc(t,n,e,r)}});var Un=N(rt=>{"use strict";function jr(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let t=o.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+o);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),t.length===6&&t.push("F","F");let i=parseInt(t.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+t.slice(0,6).join("")}}rt.getOptions=function(t){t||(t={}),t.color||(t.color={});let i=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,e=t.width&&t.width>=21?t.width:void 0,n=t.scale||4;return{width:e,scale:e?4:n,margin:i,color:{dark:jr(t.color.dark||"#000000ff"),light:jr(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};rt.getScale=function(t,i){return i.width&&i.width>=t+i.margin*2?i.width/(t+i.margin*2):i.scale};rt.getImageWidth=function(t,i){let e=rt.getScale(t,i);return Math.floor((t+i.margin*2)*e)};rt.qrToImageData=function(t,i,e){let n=i.modules.size,r=i.modules.data,s=rt.getScale(n,e),c=Math.floor((n+e.margin*2)*s),h=e.margin*s,x=[e.color.light,e.color.dark];for(let w=0;w<c;w++)for(let O=0;O<c;O++){let E=(w*c+O)*4,B=e.color.light;if(w>=h&&O>=h&&w<c-h&&O<c-h){let L=Math.floor((w-h)/s),X=Math.floor((O-h)/s);B=x[r[L*n+X]?1:0]}t[E++]=B.r,t[E++]=B.g,t[E++]=B.b,t[E]=B.a}}});var Yr=N(Li=>{"use strict";var Dn=Un();function gc(o,t,i){o.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=i,t.width=i,t.style.height=i+"px",t.style.width=i+"px"}function fc(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Li.render=function(t,i,e){let n=e,r=i;typeof n>"u"&&(!i||!i.getContext)&&(n=i,i=void 0),i||(r=fc()),n=Dn.getOptions(n);let s=Dn.getImageWidth(t.modules.size,n),c=r.getContext("2d"),h=c.createImageData(s,s);return Dn.qrToImageData(h.data,t,n),gc(c,r,s),c.putImageData(h,0,0),r};Li.renderToDataURL=function(t,i,e){let n=e;typeof n>"u"&&(!i||!i.getContext)&&(n=i,i=void 0),n||(n={});let r=Li.render(t,i,n),s=n.type||"image/png",c=n.rendererOpts||{};return r.toDataURL(s,c.quality)}});var Xr=N(Gr=>{"use strict";var _c=Un();function Qr(o,t){let i=o.a/255,e=t+'="'+o.hex+'"';return i<1?e+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':e}function Fn(o,t,i){let e=o+t;return typeof i<"u"&&(e+=" "+i),e}function xc(o,t,i){let e="",n=0,r=!1,s=0;for(let c=0;c<o.length;c++){let h=Math.floor(c%t),x=Math.floor(c/t);!h&&!r&&(r=!0),o[c]?(s++,c>0&&h>0&&o[c-1]||(e+=r?Fn("M",h+i,.5+x+i):Fn("m",n,0),n=0,r=!1),h+1<t&&o[c+1]||(e+=Fn("h",s),s=0)):n++}return e}Gr.render=function(t,i,e){let n=_c.getOptions(i),r=t.modules.size,s=t.modules.data,c=r+n.margin*2,h=n.color.light.a?"<path "+Qr(n.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",x="<path "+Qr(n.color.dark,"stroke")+' d="'+xc(s,r,n.margin)+'"/>',w='viewBox="0 0 '+c+" "+c+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+w+' shape-rendering="crispEdges">'+h+x+`</svg>
`;return typeof e=="function"&&e(null,E),E}});var Jr=N(Zt=>{"use strict";var vc=Jo(),qn=Hr(),Kr=Yr(),Cc=Xr();function Wn(o,t,i,e,n){let r=[].slice.call(arguments,1),s=r.length,c=typeof r[s-1]=="function";if(!c&&!vc())throw new Error("Callback required as last argument");if(c){if(s<2)throw new Error("Too few arguments provided");s===2?(n=i,i=t,t=e=void 0):s===3&&(t.getContext&&typeof n>"u"?(n=e,e=void 0):(n=e,e=i,i=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(i=t,t=e=void 0):s===2&&!t.getContext&&(e=i,i=t,t=void 0),new Promise(function(h,x){try{let w=qn.create(i,e);h(o(w,t,e))}catch(w){x(w)}})}try{let h=qn.create(i,e);n(null,o(h,t,e))}catch(h){n(h)}}Zt.create=qn.create;Zt.toCanvas=Wn.bind(null,Kr.render);Zt.toDataURL=Wn.bind(null,Kr.renderToDataURL);Zt.toString=Wn.bind(null,function(o,t,i){return Cc.render(o,i)})});var es=N((Wp,Di)=>{"use strict";(function(o,t,i,e){"use strict";var n=["","webkit","Moz","MS","ms","o"],r=t.createElement("div"),s="function",c=Math.round,h=Math.abs,x=Date.now;function w(a,l,u){return setTimeout(W(a,u),l)}function O(a,l,u){return Array.isArray(a)?(E(a,u[l],u),!0):!1}function E(a,l,u){var _;if(a)if(a.forEach)a.forEach(l,u);else if(a.length!==e)for(_=0;_<a.length;)l.call(u,a[_],_,a),_++;else for(_ in a)a.hasOwnProperty(_)&&l.call(u,a[_],_,a)}function B(a,l,u){var _="DEPRECATED METHOD: "+l+`
`+u+` AT 
`;return function(){var b=new Error("get-stack-trace"),P=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",I=o.console&&(o.console.warn||o.console.log);return I&&I.call(o.console,_,P),a.apply(this,arguments)}}var L;typeof Object.assign!="function"?L=function(l){if(l===e||l===null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(l),_=1;_<arguments.length;_++){var b=arguments[_];if(b!==e&&b!==null)for(var P in b)b.hasOwnProperty(P)&&(u[P]=b[P])}return u}:L=Object.assign;var X=B(function(l,u,_){for(var b=Object.keys(u),P=0;P<b.length;)(!_||_&&l[b[P]]===e)&&(l[b[P]]=u[b[P]]),P++;return l},"extend","Use `assign`."),Me=B(function(l,u){return X(l,u,!0)},"merge","Use `assign`.");function q(a,l,u){var _=l.prototype,b;b=a.prototype=Object.create(_),b.constructor=a,b._super=_,u&&L(b,u)}function W(a,l){return function(){return a.apply(l,arguments)}}function se(a,l){return typeof a==s?a.apply(l&&l[0]||e,l):a}function qe(a,l){return a===e?l:a}function ne(a,l,u){E(lt(l),function(_){a.addEventListener(_,u,!1)})}function oe(a,l,u){E(lt(l),function(_){a.removeEventListener(_,u,!1)})}function xe(a,l){for(;a;){if(a==l)return!0;a=a.parentNode}return!1}function pe(a,l){return a.indexOf(l)>-1}function lt(a){return a.trim().split(/\s+/g)}function We(a,l,u){if(a.indexOf&&!u)return a.indexOf(l);for(var _=0;_<a.length;){if(u&&a[_][u]==l||!u&&a[_]===l)return _;_++}return-1}function He(a){return Array.prototype.slice.call(a,0)}function dt(a,l,u){for(var _=[],b=[],P=0;P<a.length;){var I=l?a[P][l]:a[P];We(b,I)<0&&_.push(a[P]),b[P]=I,P++}return u&&(l?_=_.sort(function(re,de){return re[l]>de[l]}):_=_.sort()),_}function Ve(a,l){for(var u,_,b=l[0].toUpperCase()+l.slice(1),P=0;P<n.length;){if(u=n[P],_=u?u+b:l,_ in a)return _;P++}return e}var pi=1;function sn(){return pi++}function hi(a){var l=a.ownerDocument||a;return l.defaultView||l.parentWindow||o}var pt=/mobile|tablet|ip(ad|hone|od)|android/i,It="ontouchstart"in o,je=Ve(o,"PointerEvent")!==e,Ye=It&&pt.test(navigator.userAgent),Rt="touch",Ks="pen",an="mouse",Js="kinect",Zs=25,le=1,$e=2,K=4,he=8,ui=1,zt=2,Vt=4,Bt=8,Lt=16,Te=zt|Vt,et=Bt|Lt,oo=Te|et,ro=["x","y"],mi=["clientX","clientY"];function ve(a,l){var u=this;this.manager=a,this.callback=l,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(_){se(a.options.enable,[a])&&u.handler(_)},this.init()}ve.prototype={handler:function(){},init:function(){this.evEl&&ne(this.element,this.evEl,this.domHandler),this.evTarget&&ne(this.target,this.evTarget,this.domHandler),this.evWin&&ne(hi(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&oe(this.element,this.evEl,this.domHandler),this.evTarget&&oe(this.target,this.evTarget,this.domHandler),this.evWin&&oe(hi(this.element),this.evWin,this.domHandler)}};function $s(a){var l,u=a.options.inputClass;return u?l=u:je?l=ln:Ye?l=_i:It?l=dn:l=fi,new l(a,ea)}function ea(a,l,u){var _=u.pointers.length,b=u.changedPointers.length,P=l&le&&_-b===0,I=l&(K|he)&&_-b===0;u.isFirst=!!P,u.isFinal=!!I,P&&(a.session={}),u.eventType=l,ta(a,u),a.emit("hammer.input",u),a.recognize(u),a.session.prevInput=u}function ta(a,l){var u=a.session,_=l.pointers,b=_.length;u.firstInput||(u.firstInput=so(l)),b>1&&!u.firstMultiple?u.firstMultiple=so(l):b===1&&(u.firstMultiple=!1);var P=u.firstInput,I=u.firstMultiple,ie=I?I.center:P.center,re=l.center=ao(_);l.timeStamp=x(),l.deltaTime=l.timeStamp-P.timeStamp,l.angle=cn(ie,re),l.distance=gi(ie,re),ia(u,l),l.offsetDirection=lo(l.deltaX,l.deltaY);var de=co(l.deltaTime,l.deltaX,l.deltaY);l.overallVelocityX=de.x,l.overallVelocityY=de.y,l.overallVelocity=h(de.x)>h(de.y)?de.x:de.y,l.scale=I?ra(I.pointers,_):1,l.rotation=I?oa(I.pointers,_):0,l.maxPointers=u.prevInput?l.pointers.length>u.prevInput.maxPointers?l.pointers.length:u.prevInput.maxPointers:l.pointers.length,na(u,l);var ke=a.element;xe(l.srcEvent.target,ke)&&(ke=l.srcEvent.target),l.target=ke}function ia(a,l){var u=l.center,_=a.offsetDelta||{},b=a.prevDelta||{},P=a.prevInput||{};(l.eventType===le||P.eventType===K)&&(b=a.prevDelta={x:P.deltaX||0,y:P.deltaY||0},_=a.offsetDelta={x:u.x,y:u.y}),l.deltaX=b.x+(u.x-_.x),l.deltaY=b.y+(u.y-_.y)}function na(a,l){var u=a.lastInterval||l,_=l.timeStamp-u.timeStamp,b,P,I,ie;if(l.eventType!=he&&(_>Zs||u.velocity===e)){var re=l.deltaX-u.deltaX,de=l.deltaY-u.deltaY,ke=co(_,re,de);P=ke.x,I=ke.y,b=h(ke.x)>h(ke.y)?ke.x:ke.y,ie=lo(re,de),a.lastInterval=l}else b=u.velocity,P=u.velocityX,I=u.velocityY,ie=u.direction;l.velocity=b,l.velocityX=P,l.velocityY=I,l.direction=ie}function so(a){for(var l=[],u=0;u<a.pointers.length;)l[u]={clientX:c(a.pointers[u].clientX),clientY:c(a.pointers[u].clientY)},u++;return{timeStamp:x(),pointers:l,center:ao(l),deltaX:a.deltaX,deltaY:a.deltaY}}function ao(a){var l=a.length;if(l===1)return{x:c(a[0].clientX),y:c(a[0].clientY)};for(var u=0,_=0,b=0;b<l;)u+=a[b].clientX,_+=a[b].clientY,b++;return{x:c(u/l),y:c(_/l)}}function co(a,l,u){return{x:l/a||0,y:u/a||0}}function lo(a,l){return a===l?ui:h(a)>=h(l)?a<0?zt:Vt:l<0?Bt:Lt}function gi(a,l,u){u||(u=ro);var _=l[u[0]]-a[u[0]],b=l[u[1]]-a[u[1]];return Math.sqrt(_*_+b*b)}function cn(a,l,u){u||(u=ro);var _=l[u[0]]-a[u[0]],b=l[u[1]]-a[u[1]];return Math.atan2(b,_)*180/Math.PI}function oa(a,l){return cn(l[1],l[0],mi)+cn(a[1],a[0],mi)}function ra(a,l){return gi(l[0],l[1],mi)/gi(a[0],a[1],mi)}var sa={mousedown:le,mousemove:$e,mouseup:K},aa="mousedown",ca="mousemove mouseup";function fi(){this.evEl=aa,this.evWin=ca,this.pressed=!1,ve.apply(this,arguments)}q(fi,ve,{handler:function(l){var u=sa[l.type];u&le&&l.button===0&&(this.pressed=!0),u&$e&&l.which!==1&&(u=K),this.pressed&&(u&K&&(this.pressed=!1),this.callback(this.manager,u,{pointers:[l],changedPointers:[l],pointerType:an,srcEvent:l}))}});var la={pointerdown:le,pointermove:$e,pointerup:K,pointercancel:he,pointerout:he},da={2:Rt,3:Ks,4:an,5:Js},po="pointerdown",ho="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(po="MSPointerDown",ho="MSPointerMove MSPointerUp MSPointerCancel");function ln(){this.evEl=po,this.evWin=ho,ve.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}q(ln,ve,{handler:function(l){var u=this.store,_=!1,b=l.type.toLowerCase().replace("ms",""),P=la[b],I=da[l.pointerType]||l.pointerType,ie=I==Rt,re=We(u,l.pointerId,"pointerId");P&le&&(l.button===0||ie)?re<0&&(u.push(l),re=u.length-1):P&(K|he)&&(_=!0),!(re<0)&&(u[re]=l,this.callback(this.manager,P,{pointers:u,changedPointers:[l],pointerType:I,srcEvent:l}),_&&u.splice(re,1))}});var pa={touchstart:le,touchmove:$e,touchend:K,touchcancel:he},ha="touchstart",ua="touchstart touchmove touchend touchcancel";function uo(){this.evTarget=ha,this.evWin=ua,this.started=!1,ve.apply(this,arguments)}q(uo,ve,{handler:function(l){var u=pa[l.type];if(u===le&&(this.started=!0),!!this.started){var _=ma.call(this,l,u);u&(K|he)&&_[0].length-_[1].length===0&&(this.started=!1),this.callback(this.manager,u,{pointers:_[0],changedPointers:_[1],pointerType:Rt,srcEvent:l})}}});function ma(a,l){var u=He(a.touches),_=He(a.changedTouches);return l&(K|he)&&(u=dt(u.concat(_),"identifier",!0)),[u,_]}var ga={touchstart:le,touchmove:$e,touchend:K,touchcancel:he},fa="touchstart touchmove touchend touchcancel";function _i(){this.evTarget=fa,this.targetIds={},ve.apply(this,arguments)}q(_i,ve,{handler:function(l){var u=ga[l.type],_=_a.call(this,l,u);_&&this.callback(this.manager,u,{pointers:_[0],changedPointers:_[1],pointerType:Rt,srcEvent:l})}});function _a(a,l){var u=He(a.touches),_=this.targetIds;if(l&(le|$e)&&u.length===1)return _[u[0].identifier]=!0,[u,u];var b,P,I=He(a.changedTouches),ie=[],re=this.target;if(P=u.filter(function(de){return xe(de.target,re)}),l===le)for(b=0;b<P.length;)_[P[b].identifier]=!0,b++;for(b=0;b<I.length;)_[I[b].identifier]&&ie.push(I[b]),l&(K|he)&&delete _[I[b].identifier],b++;if(ie.length)return[dt(P.concat(ie),"identifier",!0),ie]}var xa=2500,mo=25;function dn(){ve.apply(this,arguments);var a=W(this.handler,this);this.touch=new _i(this.manager,a),this.mouse=new fi(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}q(dn,ve,{handler:function(l,u,_){var b=_.pointerType==Rt,P=_.pointerType==an;if(!(P&&_.sourceCapabilities&&_.sourceCapabilities.firesTouchEvents)){if(b)va.call(this,u,_);else if(P&&Ca.call(this,_))return;this.callback(l,u,_)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function va(a,l){a&le?(this.primaryTouch=l.changedPointers[0].identifier,go.call(this,l)):a&(K|he)&&go.call(this,l)}function go(a){var l=a.changedPointers[0];if(l.identifier===this.primaryTouch){var u={x:l.clientX,y:l.clientY};this.lastTouches.push(u);var _=this.lastTouches,b=function(){var P=_.indexOf(u);P>-1&&_.splice(P,1)};setTimeout(b,xa)}}function Ca(a){for(var l=a.srcEvent.clientX,u=a.srcEvent.clientY,_=0;_<this.lastTouches.length;_++){var b=this.lastTouches[_],P=Math.abs(l-b.x),I=Math.abs(u-b.y);if(P<=mo&&I<=mo)return!0}return!1}var fo=Ve(r.style,"touchAction"),_o=fo!==e,xo="compute",vo="auto",pn="manipulation",tt="none",Nt="pan-x",Ut="pan-y",xi=ya();function hn(a,l){this.manager=a,this.set(l)}hn.prototype={set:function(a){a==xo&&(a=this.compute()),_o&&this.manager.element.style&&xi[a]&&(this.manager.element.style[fo]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return E(this.manager.recognizers,function(l){se(l.options.enable,[l])&&(a=a.concat(l.getTouchAction()))}),ba(a.join(" "))},preventDefaults:function(a){var l=a.srcEvent,u=a.offsetDirection;if(this.manager.session.prevented){l.preventDefault();return}var _=this.actions,b=pe(_,tt)&&!xi[tt],P=pe(_,Ut)&&!xi[Ut],I=pe(_,Nt)&&!xi[Nt];if(b){var ie=a.pointers.length===1,re=a.distance<2,de=a.deltaTime<250;if(ie&&re&&de)return}if(!(I&&P)&&(b||P&&u&Te||I&&u&et))return this.preventSrc(l)},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};function ba(a){if(pe(a,tt))return tt;var l=pe(a,Nt),u=pe(a,Ut);return l&&u?tt:l||u?l?Nt:Ut:pe(a,pn)?pn:vo}function ya(){if(!_o)return!1;var a={},l=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(u){a[u]=l?o.CSS.supports("touch-action",u):!0}),a}var vi=1,Ce=2,ht=4,Qe=8,Be=Qe,Dt=16,Ae=32;function Le(a){this.options=L({},this.defaults,a||{}),this.id=sn(),this.manager=null,this.options.enable=qe(this.options.enable,!0),this.state=vi,this.simultaneous={},this.requireFail=[]}Le.prototype={defaults:{},set:function(a){return L(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(O(a,"recognizeWith",this))return this;var l=this.simultaneous;return a=Ci(a,this),l[a.id]||(l[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return O(a,"dropRecognizeWith",this)?this:(a=Ci(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(O(a,"requireFailure",this))return this;var l=this.requireFail;return a=Ci(a,this),We(l,a)===-1&&(l.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(O(a,"dropRequireFailure",this))return this;a=Ci(a,this);var l=We(this.requireFail,a);return l>-1&&this.requireFail.splice(l,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){var l=this,u=this.state;function _(b){l.manager.emit(b,a)}u<Qe&&_(l.options.event+Co(u)),_(l.options.event),a.additionalEvent&&_(a.additionalEvent),u>=Qe&&_(l.options.event+Co(u))},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=Ae},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(Ae|vi)))return!1;a++}return!0},recognize:function(a){var l=L({},a);if(!se(this.options.enable,[this,l])){this.reset(),this.state=Ae;return}this.state&(Be|Dt|Ae)&&(this.state=vi),this.state=this.process(l),this.state&(Ce|ht|Qe|Dt)&&this.tryEmit(l)},process:function(a){},getTouchAction:function(){},reset:function(){}};function Co(a){return a&Dt?"cancel":a&Qe?"end":a&ht?"move":a&Ce?"start":""}function bo(a){return a==Lt?"down":a==Bt?"up":a==zt?"left":a==Vt?"right":""}function Ci(a,l){var u=l.manager;return u?u.get(a):a}function Se(){Le.apply(this,arguments)}q(Se,Le,{defaults:{pointers:1},attrTest:function(a){var l=this.options.pointers;return l===0||a.pointers.length===l},process:function(a){var l=this.state,u=a.eventType,_=l&(Ce|ht),b=this.attrTest(a);return _&&(u&he||!b)?l|Dt:_||b?u&K?l|Qe:l&Ce?l|ht:Ce:Ae}});function bi(){Se.apply(this,arguments),this.pX=null,this.pY=null}q(bi,Se,{defaults:{event:"pan",threshold:10,pointers:1,direction:oo},getTouchAction:function(){var a=this.options.direction,l=[];return a&Te&&l.push(Ut),a&et&&l.push(Nt),l},directionTest:function(a){var l=this.options,u=!0,_=a.distance,b=a.direction,P=a.deltaX,I=a.deltaY;return b&l.direction||(l.direction&Te?(b=P===0?ui:P<0?zt:Vt,u=P!=this.pX,_=Math.abs(a.deltaX)):(b=I===0?ui:I<0?Bt:Lt,u=I!=this.pY,_=Math.abs(a.deltaY))),a.direction=b,u&&_>l.threshold&&b&l.direction},attrTest:function(a){return Se.prototype.attrTest.call(this,a)&&(this.state&Ce||!(this.state&Ce)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var l=bo(a.direction);l&&(a.additionalEvent=this.options.event+l),this._super.emit.call(this,a)}});function un(){Se.apply(this,arguments)}q(un,Se,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&Ce)},emit:function(a){if(a.scale!==1){var l=a.scale<1?"in":"out";a.additionalEvent=this.options.event+l}this._super.emit.call(this,a)}});function mn(){Le.apply(this,arguments),this._timer=null,this._input=null}q(mn,Le,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[vo]},process:function(a){var l=this.options,u=a.pointers.length===l.pointers,_=a.distance<l.threshold,b=a.deltaTime>l.time;if(this._input=a,!_||!u||a.eventType&(K|he)&&!b)this.reset();else if(a.eventType&le)this.reset(),this._timer=w(function(){this.state=Be,this.tryEmit()},l.time,this);else if(a.eventType&K)return Be;return Ae},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===Be&&(a&&a.eventType&K?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=x(),this.manager.emit(this.options.event,this._input)))}});function gn(){Se.apply(this,arguments)}q(gn,Se,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&Ce)}});function fn(){Se.apply(this,arguments)}q(fn,Se,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Te|et,pointers:1},getTouchAction:function(){return bi.prototype.getTouchAction.call(this)},attrTest:function(a){var l=this.options.direction,u;return l&(Te|et)?u=a.overallVelocity:l&Te?u=a.overallVelocityX:l&et&&(u=a.overallVelocityY),this._super.attrTest.call(this,a)&&l&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&h(u)>this.options.velocity&&a.eventType&K},emit:function(a){var l=bo(a.offsetDirection);l&&this.manager.emit(this.options.event+l,a),this.manager.emit(this.options.event,a)}});function yi(){Le.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}q(yi,Le,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pn]},process:function(a){var l=this.options,u=a.pointers.length===l.pointers,_=a.distance<l.threshold,b=a.deltaTime<l.time;if(this.reset(),a.eventType&le&&this.count===0)return this.failTimeout();if(_&&b&&u){if(a.eventType!=K)return this.failTimeout();var P=this.pTime?a.timeStamp-this.pTime<l.interval:!0,I=!this.pCenter||gi(this.pCenter,a.center)<l.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,!I||!P?this.count=1:this.count+=1,this._input=a;var ie=this.count%l.taps;if(ie===0)return this.hasRequireFailures()?(this._timer=w(function(){this.state=Be,this.tryEmit()},l.interval,this),Ce):Be}return Ae},failTimeout:function(){return this._timer=w(function(){this.state=Ae},this.options.interval,this),Ae},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Be&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Ne(a,l){return l=l||{},l.recognizers=qe(l.recognizers,Ne.defaults.preset),new _n(a,l)}Ne.VERSION="2.0.7",Ne.defaults={domEvents:!1,touchAction:xo,enable:!0,inputTarget:null,inputClass:null,preset:[[gn,{enable:!1}],[un,{enable:!1},["rotate"]],[fn,{direction:Te}],[bi,{direction:Te},["swipe"]],[yi],[yi,{event:"doubletap",taps:2},["tap"]],[mn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wa=1,yo=2;function _n(a,l){this.options=L({},Ne.defaults,l||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=$s(this),this.touchAction=new hn(this,this.options.touchAction),wo(this,!0),E(this.options.recognizers,function(u){var _=this.add(new u[0](u[1]));u[2]&&_.recognizeWith(u[2]),u[3]&&_.requireFailure(u[3])},this)}_n.prototype={set:function(a){return L(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?yo:wa},recognize:function(a){var l=this.session;if(!l.stopped){this.touchAction.preventDefaults(a);var u,_=this.recognizers,b=l.curRecognizer;(!b||b&&b.state&Be)&&(b=l.curRecognizer=null);for(var P=0;P<_.length;)u=_[P],l.stopped!==yo&&(!b||u==b||u.canRecognizeWith(b))?u.recognize(a):u.reset(),!b&&u.state&(Ce|ht|Qe)&&(b=l.curRecognizer=u),P++}},get:function(a){if(a instanceof Le)return a;for(var l=this.recognizers,u=0;u<l.length;u++)if(l[u].options.event==a)return l[u];return null},add:function(a){if(O(a,"add",this))return this;var l=this.get(a.options.event);return l&&this.remove(l),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(O(a,"remove",this))return this;if(a=this.get(a),a){var l=this.recognizers,u=We(l,a);u!==-1&&(l.splice(u,1),this.touchAction.update())}return this},on:function(a,l){if(a!==e&&l!==e){var u=this.handlers;return E(lt(a),function(_){u[_]=u[_]||[],u[_].push(l)}),this}},off:function(a,l){if(a!==e){var u=this.handlers;return E(lt(a),function(_){l?u[_]&&u[_].splice(We(u[_],l),1):delete u[_]}),this}},emit:function(a,l){this.options.domEvents&&Ma(a,l);var u=this.handlers[a]&&this.handlers[a].slice();if(!(!u||!u.length)){l.type=a,l.preventDefault=function(){l.srcEvent.preventDefault()};for(var _=0;_<u.length;)u[_](l),_++}},destroy:function(){this.element&&wo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function wo(a,l){var u=a.element;if(u.style){var _;E(a.options.cssProps,function(b,P){_=Ve(u.style,P),l?(a.oldCssProps[_]=u.style[_],u.style[_]=b):u.style[_]=a.oldCssProps[_]||""}),l||(a.oldCssProps={})}}function Ma(a,l){var u=t.createEvent("Event");u.initEvent(a,!0,!0),u.gesture=l,l.target.dispatchEvent(u)}L(Ne,{INPUT_START:le,INPUT_MOVE:$e,INPUT_END:K,INPUT_CANCEL:he,STATE_POSSIBLE:vi,STATE_BEGAN:Ce,STATE_CHANGED:ht,STATE_ENDED:Qe,STATE_RECOGNIZED:Be,STATE_CANCELLED:Dt,STATE_FAILED:Ae,DIRECTION_NONE:ui,DIRECTION_LEFT:zt,DIRECTION_RIGHT:Vt,DIRECTION_UP:Bt,DIRECTION_DOWN:Lt,DIRECTION_HORIZONTAL:Te,DIRECTION_VERTICAL:et,DIRECTION_ALL:oo,Manager:_n,Input:ve,TouchAction:hn,TouchInput:_i,MouseInput:fi,PointerEventInput:ln,TouchMouseInput:dn,SingleTouchInput:uo,Recognizer:Le,AttrRecognizer:Se,Tap:yi,Pan:bi,Swipe:fn,Pinch:un,Rotate:gn,Press:mn,on:ne,off:oe,each:E,merge:Me,extend:X,assign:L,inherit:q,bindFn:W,prefixed:Ve});var Sa=typeof o<"u"?o:typeof self<"u"?self:{};Sa.Hammer=Ne,typeof define=="function"&&define.amd?define(function(){return Ne}):typeof Di<"u"&&Di.exports?Di.exports=Ne:o[i]=Ne})(window,document,"Hammer")});var Pt=wi(Jr(),1);var bc=["qrcElement"],Ni=(()=>{let t=class t{constructor(e,n){this.renderer=e,this.sanitizer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new ge,this.context=null}ngOnChanges(){return ue(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(e){return this.allowEmptyString===!1?!(typeof e>"u"||e===""||e==="null"||e===null):!(typeof e>"u")}toDataURL(e){return new Promise((n,r)=>{(0,Pt.toDataURL)(this.qrdata,e,(s,c)=>{s?r(s):n(c)})})}toCanvas(e,n){return new Promise((r,s)=>{(0,Pt.toCanvas)(e,this.qrdata,n,c=>{c?s(c):r("success")})})}toSVG(e){return new Promise((n,r)=>{(0,Pt.toString)(this.qrdata,e,(s,c)=>{s?r(s):n(c)})})}renderElement(e){for(let n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){return ue(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let e={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},n=this.imageSrc,r=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let c=this.renderer.createElement("canvas");this.context=c.getContext("2d"),this.toCanvas(c,e).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(c,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(c,"title",`${this.title}`),n&&this.context){this.centerImage=new Image(s,r),n!==this.centerImage.src&&(this.centerImage.src=n),r!==this.centerImage.height&&(this.centerImage.height=r),s!==this.centerImage.width&&(this.centerImage.width=s);let h=this.centerImage;h&&(h.onload=()=>{this.context?.drawImage(h,c.width/2-s/2,c.height/2-r/2,s,r)})}this.renderElement(c),this.emitQRCodeURL(c)}).catch(h=>{console.error("[angularx-qrcode] canvas error:",h)});break}case"svg":{let c=this.renderer.createElement("div");this.toSVG(e).then(h=>{this.renderer.setProperty(c,"innerHTML",h);let x=c.firstChild;this.renderer.setAttribute(x,"height",`${this.width}`),this.renderer.setAttribute(x,"width",`${this.width}`),this.renderElement(x),this.emitQRCodeURL(x)}).catch(h=>{console.error("[angularx-qrcode] svg error:",h)});break}case"url":case"img":default:{let c=this.renderer.createElement("img");this.toDataURL(e).then(h=>{this.alt&&c.setAttribute("alt",this.alt),this.ariaLabel&&c.setAttribute("aria-label",this.ariaLabel),c.setAttribute("src",h),this.title&&c.setAttribute("title",this.title),this.renderElement(c),this.emitQRCodeURL(c)}).catch(h=>{console.error("[angularx-qrcode] img/url error:",h)})}}}catch(e){console.error("[angularx-qrcode] Error generating QR Code:",e.message)}})}emitQRCodeURL(e){let n=e.constructor.name;if(n===SVGSVGElement.name){let s=e.outerHTML,c=new Blob([s],{type:"image/svg+xml"}),h=URL.createObjectURL(c),x=this.sanitizer.bypassSecurityTrustUrl(h);this.qrCodeURL.emit(x);return}let r="";n===HTMLCanvasElement.name&&(r=e.toDataURL("image/png")),n===HTMLImageElement.name&&(r=e.src),fetch(r).then(s=>s.blob()).then(s=>URL.createObjectURL(s)).then(s=>this.sanitizer.bypassSecurityTrustUrl(s)).then(s=>{this.qrCodeURL.emit(s)}).catch(s=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+s)})}};t.\u0275fac=function(n){return new(n||t)(k(To),k(Ct))},t.\u0275cmp=V({type:t,selectors:[["qrcode"]],viewQuery:function(n,r){if(n&1&&qt(bc,7),n&2){let s;Wt(s=Ht())&&(r.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[me],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,r){n&1&&S(0,"div",null,0),n&2&&ko(r.cssClass)},encapsulation:2,changeDetection:0});let o=t;return o})(),Ui=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let o=t;return o})();var dh=wi(es());var yc=["wrapper"],wc=["sourceImage"];function Mc(o,t){if(o&1){let i=R();p(0,"img",5,1),M("load",function(){v(i);let n=f();return C(n.imageLoadedInView())})("mousedown",function(n){v(i);let r=f();return C(r.startMove(n,r.moveTypes.Drag))})("touchstart",function(n){v(i);let r=f();return C(r.startMove(n,r.moveTypes.Drag))})("error",function(n){v(i);let r=f();return C(r.loadImageError(n))}),d()}if(o&2){let i=f();ft("visibility",i.imageVisible?"visible":"hidden")("transform",i.safeTransformStyle),Mi("ngx-ic-draggable",!i.disabled&&i.allowMoveImage),y("src",i.safeImgDataUrl,H),vn("alt",i.imageAltText)}}function Sc(o,t){if(o&1){let i=R();Io(0),p(1,"span",9),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"topleft"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"topleft"))}),S(2,"span",10),d(),p(3,"span",11),S(4,"span",10),d(),p(5,"span",12),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"topright"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"topright"))}),S(6,"span",10),d(),p(7,"span",13),S(8,"span",10),d(),p(9,"span",14),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"bottomright"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"bottomright"))}),S(10,"span",10),d(),p(11,"span",15),S(12,"span",10),d(),p(13,"span",16),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"bottomleft"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"bottomleft"))}),S(14,"span",10),d(),p(15,"span",17),S(16,"span",10),d(),p(17,"span",18),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"top"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"top"))}),d(),p(18,"span",19),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"right"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"right"))}),d(),p(19,"span",20),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"bottom"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"bottom"))}),d(),p(20,"span",21),M("mousedown",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"left"))})("touchstart",function(n){v(i);let r=f(2);return C(r.startMove(n,r.moveTypes.Resize,"left"))}),d(),Ro()}}function Ec(o,t){if(o&1){let i=R();p(0,"div",6),M("keydown",function(n){v(i);let r=f();return C(r.keyboardAccess(n))}),p(1,"div",7),M("mousedown",function(n){v(i);let r=f();return C(r.startMove(n,r.moveTypes.Move))})("touchstart",function(n){v(i);let r=f();return C(r.startMove(n,r.moveTypes.Move))}),d(),T(2,Sc,21,0,"ng-container",8),d()}if(o&2){let i=f();ft("top",i.cropper.y1,"px")("left",i.cropper.x1,"px")("width",i.cropper.x2-i.cropper.x1,"px")("height",i.cropper.y2-i.cropper.y1,"px")("margin-left",i.alignImage==="center"?i.marginLeft:null)("visibility",i.imageVisible?"visible":"hidden"),Mi("ngx-ic-round",i.roundCropper),vn("aria-label",i.cropperFrameAriaLabel),m(2),y("ngIf",!i.hideResizeSquares)}}var Hn=class{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(t){Object.keys(t).filter(i=>i in this).forEach(i=>this[i]=t[i]),this.validateOptions()}setOptionsFromChanges(t){Object.keys(t).filter(i=>i in this).forEach(i=>this[i]=t[i].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}},we=function(o){return o.Drag="drag",o.Move="move",o.Resize="resize",o.Pinch="pinch",o}(we||{});function Oc(o){switch(o){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function Pc(o){switch(o){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function Tc(o,t){switch(o){case"ArrowUp":return{clientX:0,clientY:t*-1};case"ArrowRight":return{clientX:t,clientY:0};case"ArrowDown":return{clientX:0,clientY:t};case"ArrowLeft":default:return{clientX:t*-1,clientY:0}}}function Ac(o,t,i){let e=o.width,n=o.height;t=Math.round(t),i=Math.round(i);let r=e/t,s=n/i,c=Math.ceil(r/2),h=Math.ceil(s/2),x=o.getContext("2d");if(x){let w=x.getImageData(0,0,e,n),O=x.createImageData(t,i),E=w.data,B=O.data;for(let L=0;L<i;L++)for(let X=0;X<t;X++){let Me=(X+L*t)*4,q=L*s,W=0,se=0,qe=0,ne=0,oe=0,xe=0,pe=0,lt=Math.floor(X*r),We=Math.floor(L*s),He=Math.ceil((X+1)*r),dt=Math.ceil((L+1)*s);He=Math.min(He,e),dt=Math.min(dt,n);for(let Ve=We;Ve<dt;Ve++){let pi=Math.abs(q-Ve)/h,sn=X*r,hi=pi*pi;for(let pt=lt;pt<He;pt++){let It=Math.abs(sn-pt)/c,je=Math.sqrt(hi+It*It);if(je>=1)continue;W=2*je*je*je-3*je*je+1;let Ye=4*(pt+Ve*e);pe+=W*E[Ye+3],qe+=W,E[Ye+3]<255&&(W=W*E[Ye+3]/250),ne+=W*E[Ye],oe+=W*E[Ye+1],xe+=W*E[Ye+2],se+=W}}B[Me]=ne/se,B[Me+1]=oe/se,B[Me+2]=xe/se,B[Me+3]=pe/qe}o.width=t,o.height=i,x.putImageData(O,0,0)}}function ts(o,t){return o/100*t}var kc=(()=>{let t=class t{crop(e,n,r,s,c){let h=this.getImagePosition(e,n,r,c),x=h.x2-h.x1,w=h.y2-h.y1,O=document.createElement("canvas");O.width=x,O.height=w;let E=O.getContext("2d");if(!E)return null;r.backgroundColor!=null&&(E.fillStyle=r.backgroundColor,E.fillRect(0,0,x,w));let B=(r.transform.scale||1)*(r.transform.flipH?-1:1),L=(r.transform.scale||1)*(r.transform.flipV?-1:1),{translateH:X,translateV:Me}=this.getCanvasTranslate(e,r,c),q=e.transformed;E.setTransform(B,0,0,L,q.size.width/2+X,q.size.height/2+Me),E.translate(-h.x1/B,-h.y1/L),E.rotate((r.transform.rotate||0)*Math.PI/180),E.drawImage(q.image,-q.size.width/2,-q.size.height/2);let W={width:x,height:w,imagePosition:h,cropperPosition:Ee({},n)};r.containWithinAspectRatio&&(W.offsetImagePosition=this.getOffsetImagePosition(e,n,r,c));let se=this.getResizeRatio(x,w,r);return se!==1&&(W.width=Math.round(x*se),W.height=r.maintainAspectRatio?Math.round(W.width/r.aspectRatio):Math.round(w*se),Ac(O,W.width,W.height)),s==="blob"?this.cropToBlob(W,O,r):(W.base64=O.toDataURL("image/"+r.format,this.getQuality(r)),W)}cropToBlob(e,n,r){return ue(this,null,function*(){return e.blob=yield new Promise(s=>n.toBlob(s,"image/"+r.format,this.getQuality(r))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e,n,r){if(n.transform.translateUnit==="px"){let s=this.getRatio(e,r);return{translateH:(n.transform.translateH||0)*s,translateV:(n.transform.translateV||0)*s}}else return{translateH:n.transform.translateH?ts(n.transform.translateH,e.transformed.size.width):0,translateV:n.transform.translateV?ts(n.transform.translateV,e.transformed.size.height):0}}getRatio(e,n){return e.transformed.size.width/n.width}getImagePosition(e,n,r,s){let c=this.getRatio(e,s),h={x1:Math.round(n.x1*c),y1:Math.round(n.y1*c),x2:Math.round(n.x2*c),y2:Math.round(n.y2*c)};return r.containWithinAspectRatio||(h.x1=Math.max(h.x1,0),h.y1=Math.max(h.y1,0),h.x2=Math.min(h.x2,e.transformed.size.width),h.y2=Math.min(h.y2,e.transformed.size.height)),h}getOffsetImagePosition(e,n,r,s){let c=r.canvasRotation+e.exifTransform.rotate,h=this.getRatio(e,s),x,w;c%2?(x=(e.transformed.size.width-e.original.size.height)/2,w=(e.transformed.size.height-e.original.size.width)/2):(x=(e.transformed.size.width-e.original.size.width)/2,w=(e.transformed.size.height-e.original.size.height)/2);let O={x1:Math.round(n.x1*h)-x,y1:Math.round(n.y1*h)-w,x2:Math.round(n.x2*h)-x,y2:Math.round(n.y2*h)-w};return r.containWithinAspectRatio||(O.x1=Math.max(O.x1,0),O.y1=Math.max(O.y1,0),O.x2=Math.min(O.x2,e.transformed.size.width),O.y2=Math.min(O.y2,e.transformed.size.height)),O}getResizeRatio(e,n,r){let s=r.resizeToWidth/e,c=r.resizeToHeight/n,h=new Array;r.resizeToWidth>0&&h.push(s),r.resizeToHeight>0&&h.push(c);let x=h.length===0?1:Math.min(...h);return x>1&&!r.onlyScaleDown?x:Math.min(x,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Ic=(()=>{let t=class t{resetCropperPosition(e,n,r,s){if(e?.nativeElement)if(r.cropperStaticHeight&&r.cropperStaticWidth)n.x1=0,n.x2=s.width>r.cropperStaticWidth?r.cropperStaticWidth:s.width,n.y1=0,n.y2=s.height>r.cropperStaticHeight?r.cropperStaticHeight:s.height;else{let c=Math.min(r.cropperScaledMaxWidth,s.width),h=Math.min(r.cropperScaledMaxHeight,s.height);if(!r.maintainAspectRatio)n.x1=0,n.x2=c,n.y1=0,n.y2=h;else if(s.width/r.aspectRatio<s.height){n.x1=0,n.x2=c;let x=c/r.aspectRatio;n.y1=(s.height-x)/2,n.y2=n.y1+x}else{n.y1=0,n.y2=h;let x=h*r.aspectRatio;n.x1=(s.width-x)/2,n.x2=n.x1+x}}}move(e,n,r){let s=this.getClientX(e)-n.clientX,c=this.getClientY(e)-n.clientY;r.x1=n.x1+s,r.y1=n.y1+c,r.x2=n.x2+s,r.y2=n.y2+c}resize(e,n,r,s,c){let h=this.getClientX(e)-n.clientX,x=this.getClientY(e)-n.clientY;switch(n.position){case"left":r.x1=Math.min(Math.max(n.x1+h,r.x2-c.cropperScaledMaxWidth),r.x2-c.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(n.x1+h,r.x2-c.cropperScaledMaxWidth),r.x2-c.cropperScaledMinWidth),r.y1=Math.min(Math.max(n.y1+x,r.y2-c.cropperScaledMaxHeight),r.y2-c.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(n.y1+x,r.y2-c.cropperScaledMaxHeight),r.y2-c.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(n.x2+h,r.x1+c.cropperScaledMaxWidth),r.x1+c.cropperScaledMinWidth),r.y1=Math.min(Math.max(n.y1+x,r.y2-c.cropperScaledMaxHeight),r.y2-c.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(n.x2+h,r.x1+c.cropperScaledMaxWidth),r.x1+c.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(n.x2+h,r.x1+c.cropperScaledMaxWidth),r.x1+c.cropperScaledMinWidth),r.y2=Math.max(Math.min(n.y2+x,r.y1+c.cropperScaledMaxHeight),r.y1+c.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(n.y2+x,r.y1+c.cropperScaledMaxHeight),r.y1+c.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(n.x1+h,r.x2-c.cropperScaledMaxWidth),r.x2-c.cropperScaledMinWidth),r.y2=Math.max(Math.min(n.y2+x,r.y1+c.cropperScaledMaxHeight),r.y1+c.cropperScaledMinHeight);break;case"center":let w=e.scale,O=Math.min(Math.max(c.cropperScaledMinWidth,Math.abs(n.x2-n.x1)*w),c.cropperScaledMaxWidth),E=Math.min(Math.max(c.cropperScaledMinHeight,Math.abs(n.y2-n.y1)*w),c.cropperScaledMaxHeight);r.x1=n.clientX-O/2,r.x2=n.clientX+O/2,r.y1=n.clientY-E/2,r.y2=n.clientY+E/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>s.width&&(r.x1-=r.x2-s.width,r.x2=s.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>s.height&&(r.y1-=r.y2-s.height,r.y2=s.height);break}c.maintainAspectRatio&&this.checkAspectRatio(n.position,r,s,c)}checkAspectRatio(e,n,r,s){let c=0,h=0;switch(e){case"top":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,c=Math.max(n.x2-r.width,0),h=Math.max(0-n.y1,0),(c>0||h>0)&&(n.x2-=h*s.aspectRatio>c?h*s.aspectRatio:c,n.y1+=h*s.aspectRatio>c?h:c/s.aspectRatio);break;case"bottom":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,c=Math.max(n.x2-r.width,0),h=Math.max(n.y2-r.height,0),(c>0||h>0)&&(n.x2-=h*s.aspectRatio>c?h*s.aspectRatio:c,n.y2-=h*s.aspectRatio>c?h:c/s.aspectRatio);break;case"topleft":n.y1=n.y2-(n.x2-n.x1)/s.aspectRatio,c=Math.max(0-n.x1,0),h=Math.max(0-n.y1,0),(c>0||h>0)&&(n.x1+=h*s.aspectRatio>c?h*s.aspectRatio:c,n.y1+=h*s.aspectRatio>c?h:c/s.aspectRatio);break;case"topright":n.y1=n.y2-(n.x2-n.x1)/s.aspectRatio,c=Math.max(n.x2-r.width,0),h=Math.max(0-n.y1,0),(c>0||h>0)&&(n.x2-=h*s.aspectRatio>c?h*s.aspectRatio:c,n.y1+=h*s.aspectRatio>c?h:c/s.aspectRatio);break;case"right":case"bottomright":n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio,c=Math.max(n.x2-r.width,0),h=Math.max(n.y2-r.height,0),(c>0||h>0)&&(n.x2-=h*s.aspectRatio>c?h*s.aspectRatio:c,n.y2-=h*s.aspectRatio>c?h:c/s.aspectRatio);break;case"left":case"bottomleft":n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio,c=Math.max(0-n.x1,0),h=Math.max(n.y2-r.height,0),(c>0||h>0)&&(n.x1+=h*s.aspectRatio>c?h*s.aspectRatio:c,n.y2-=h*s.aspectRatio>c?h:c/s.aspectRatio);break;case"center":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio;let x=Math.max(0-n.x1,0),w=Math.max(n.x2-r.width,0),O=Math.max(n.y2-r.height,0),E=Math.max(0-n.y1,0);(x>0||w>0||O>0||E>0)&&(n.x1+=O*s.aspectRatio>x?O*s.aspectRatio:x,n.x2-=E*s.aspectRatio>w?E*s.aspectRatio:w,n.y1+=E*s.aspectRatio>w?E:w/s.aspectRatio,n.y2-=O*s.aspectRatio>x?O:x/s.aspectRatio);break}}getClientX(e){return"touches"in e&&e.touches[0]?e.touches[0].clientX:"clientX"in e?e.clientX:0}getClientY(e){return"touches"in e&&e.touches[0]?e.touches[0].clientY:"clientX"in e?e.clientY:0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Rc="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function zc(){return new Promise(o=>{let t=new Image;t.onload=()=>{let i=t.width===1&&t.height===2;o(i)},t.src=Rc})}function Vc(o){switch(typeof o=="object"&&(o=Bc(o)),o){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function Bc(o){let t=new DataView(o);if(t.getUint16(0,!1)!==65496)return-2;let i=t.byteLength,e=2;for(;e<i;){if(t.getUint16(e+2,!1)<=8)return-1;let n=t.getUint16(e,!1);if(e+=2,n==65505){if(t.getUint32(e+=2,!1)!==1165519206)return-1;let r=t.getUint16(e+=6,!1)==18761;e+=t.getUint32(e+4,r);let s=t.getUint16(e,r);e+=2;for(let c=0;c<s;c++)if(t.getUint16(e+c*12,r)==274)return t.getUint16(e+c*12+8,r)}else{if((n&65280)!==65280)break;e+=t.getUint16(e,!1)}}return-1}var Lc=(()=>{let t=class t{constructor(){this.autoRotateSupported=zc()}loadImageFile(e,n){return ue(this,null,function*(){let r=yield e.arrayBuffer();return yield this.checkImageTypeAndLoadImageFromArrayBuffer(r,e.type,n)})}checkImageTypeAndLoadImageFromArrayBuffer(e,n,r){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(e,r,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,n){return ue(this,null,function*(){let s=yield(yield fetch(e)).blob(),c=yield s.arrayBuffer();return yield this.loadImageFromArrayBuffer(c,n,s.type)})}loadBase64Image(e,n){let r=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(r,n)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let n=atob(e),r=n.length,s=new Uint8Array(r);for(let c=0;c<r;c++)s[c]=n.charCodeAt(c);return s.buffer}loadImageFromArrayBuffer(e,n,r){return ue(this,null,function*(){let s=yield new Promise((c,h)=>ue(this,null,function*(){try{let x=new Blob([e],r?{type:r}:void 0),w=URL.createObjectURL(x),O=new Image,B=r==="image/svg+xml"?yield this.getSvgImageSize(x):void 0;O.onload=()=>c({originalImage:O,originalImageSize:B,originalObjectUrl:w,originalArrayBuffer:e}),O.onerror=h,O.src=w}catch(x){h(x)}}));return yield this.transformImageFromArrayBuffer(s,n,s.originalImageSize!=null)})}getSvgImageSize(e){return ue(this,null,function*(){let s=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!s)throw Error("Failed to parse SVG image");let c=s.getAttribute("width"),h=s.getAttribute("height");if(c&&h)return null;let x=s.getAttribute("viewBox")||s.getAttribute("viewbox");if(x){let w=x.split(" ");return{width:+w[2],height:+w[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,n,r=!1){return ue(this,null,function*(){let s=yield this.autoRotateSupported,c=Vc(s?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let h={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:c};return this.transformLoadedImage(h,n,r)})}transformLoadedImage(e,n,r=!1){return ue(this,null,function*(){let s=n.canvasRotation+e.exifTransform.rotate,c=e.original.size;if(!r&&s===0&&!e.exifTransform.flip&&!n.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:Ee({},c)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:Ee({},c)},exifTransform:e.exifTransform};let h=this.getTransformedSize(c,e.exifTransform,n),x=document.createElement("canvas");x.width=h.width,x.height=h.height;let w=x.getContext("2d");w?.setTransform(e.exifTransform.flip?-1:1,0,0,1,x.width/2,x.height/2),w?.rotate(Math.PI*(s/2)),w?.drawImage(e.original.image,-c.width/2,-c.height/2);let O=yield new Promise(L=>x.toBlob(L,n.format));if(!O)throw new Error("Failed to get Blob for transformed image.");let E=URL.createObjectURL(O),B=yield this.loadImageFromObjectUrl(E);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:Ee({},c)},transformed:{objectUrl:E,image:B,size:{width:B.width,height:B.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((n,r)=>{let s=new Image;s.onload=()=>n(s),s.onerror=r,s.src=e})}getTransformedSize(e,n,r){let s=r.canvasRotation+n.rotate;if(r.containWithinAspectRatio)if(s%2){let c=e.width*r.aspectRatio,h=e.height/r.aspectRatio;return{width:Math.max(e.height,c),height:Math.max(e.width,h)}}else{let c=e.height*r.aspectRatio,h=e.width/r.aspectRatio;return{width:Math.max(e.width,c),height:Math.max(e.height,h)}}return s%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Fi=(()=>{let t=class t{constructor(e,n,r,s,c,h,x){this.cropService=e,this.cropperPositionService=n,this.loadImageService=r,this.sanitizer=s,this.cd=c,this.zone=h,this.hammerLoader=x,this.settings=new Hn,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=we,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new ge,this.startCropImage=new ge,this.imageLoaded=new ge,this.cropperReady=new ge,this.loadImageFailed=new ge,this.transformChange=new ge,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage?.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(this.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(e.maintainAspectRatio||e.aspectRatio)?this.resetCropperPosition():e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop())),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let e=this.imageChangedEvent?.target?.files;return e instanceof FileList&&e.length>0}setCssTransform(){let e=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${e}, ${this.transform.translateV||0}${e}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.objectUrl),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){this.loadedImage!=null&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Ee({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let e=Ee({},this.maxSize);this.setMaxSize(),this.resizeCropperPosition(e),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){return ue(this,null,function*(){yield this.hammerLoader?.();let e=window?.Hammer||null;if(e){let n=new e(this.wrapper.nativeElement);n.get("pinch").set({enable:!0}),n.on("pinchmove",this.onPinch.bind(this)),n.on("pinchend",this.pinchStop.bind(this)),n.on("pinchstart",this.startPinch.bind(this))}else Vo()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/e.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/e.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/e.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/e.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){let n=+e.key;n>=1&&n<=9&&(this.settings.stepSize=n)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;let r=e.shiftKey?we.Resize:we.Move,s=e.altKey?Pc(e.key):Oc(e.key),c=Tc(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},r,s),this.handleMouseMove(c),this.handleMouseUp()}startMove(e,n,r=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===we.Pinch||n===we.Drag&&!this.allowMoveImage||("preventDefault"in e&&e.preventDefault(),this.moveStart=Ee({active:!0,type:n,position:r,transform:Ee({},this.transform),clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper),this.initMouseMove())}initMouseMove(){xn(Ft(document,"mousemove"),Ft(document,"touchmove")).pipe(Oo(xn(Ft(document,"mouseup"),Ft(document,"touchend")).pipe(Eo()))).subscribe({next:e=>this.zone.run(()=>{this.handleMouseMove(e),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart=Ee({active:!0,type:we.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}handleMouseMove(e){if(this.moveStart.active){if("stopPropagation"in e&&e.stopPropagation(),"preventDefault"in e&&e.preventDefault(),this.moveStart.type===we.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===we.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===we.Drag){let n=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,r=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform=Mo(Ee({},this.transform),{translateH:(this.moveStart.transform?.translateH||0)+n,translateV:(this.moveStart.transform?.translateV||0)+r}),this.setCssTransform()}}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===we.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){let e=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(e.width),this.maxSize.height=parseFloat(e.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===we.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(e=this.settings.output){if(this.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),e==="blob")return this.cropToBlob();if(e==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((e,n)=>this.zone.run(()=>ue(this,null,function*(){let r=yield this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);r?(this.imageCropped.emit(r),e(r)):n("Crop image failed")})))}cropToBase64(){let e=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return e?(this.imageCropped.emit(e),e):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}};t.\u0275fac=function(n){return new(n||t)(k(kc),k(Ic),k(Lc),k(Ct),k(Bo),k(Ao),k(Uo,8))},t.\u0275cmp=V({type:t,selectors:[["image-cropper"]],viewQuery:function(n,r){if(n&1&&(qt(yc,7),qt(wc,5)),n&2){let s;Wt(s=Ht())&&(r.wrapper=s.first),Wt(s=Ht())&&(r.sourceImage=s.first)}},hostVars:6,hostBindings:function(n,r){n&1&&M("resize",function(){return r.onResize()},!1,Po),n&2&&(ft("text-align",r.alignImage),Mi("disabled",r.disabled)("ngx-ix-hidden",r.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},standalone:!0,features:[me,Ge],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(n,r){n&1&&(p(0,"div",null,0),T(2,Mc,2,8,"img",2),S(3,"div",3),T(4,Ec,3,16,"div",4),d()),n&2&&(ft("background",r.imageVisible&&r.backgroundColor),m(2),y("ngIf",r.safeImgDataUrl),m(),ft("width",r.maxSize.width,"px")("height",r.maxSize.height,"px")("margin-left",r.alignImage==="center"?r.marginLeft:null),m(),y("ngIf",r.imageVisible))},dependencies:[fe],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0});let o=t;return o})();var Uc=o=>({visibility:o}),is=o=>({circular:o});function Dc(o,t){if(o&1){let i=R();p(0,"image-cropper",7),M("imageCropped",function(n){v(i);let r=f();return C(r.imageCropped(n))})("imageLoaded",function(){v(i);let n=f();return C(n.imageLoaded())})("cropperReady",function(){v(i);let n=f();return C(n.cropperReady())})("loadImageFailed",function(){v(i);let n=f();return C(n.loadImageFailed())}),d()}if(o&2){let i=f();y("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!0)("output","base64")("aspectRatio",i.ratio)}}function Fc(o,t){if(o&1&&S(0,"img",11),o&2){let i=f(2);G("src",i.previewUrl,H),y("ngClass",ae(2,is,i.shape=="circular"))}}function qc(o,t){if(o&1&&S(0,"img",12),o&2){let i=f(2);y("ngClass",ae(1,is,i.shape=="circular"))}}function Wc(o,t){if(o&1&&(p(0,"div",8),T(1,Fc,1,4,"img",9)(2,qc,1,3,"img",10),d()),o&2){let i=f();m(),y("ngIf",i.previewUrl),m(),y("ngIf",!i.previewUrl)}}function Hc(o,t){if(o&1){let i=R();p(0,"div",13)(1,"button",14),M("click",function(){v(i);let n=f();return C(n.cancelImageOnAdd())}),g(2,"CANCEL"),d(),p(3,"button",15),M("click",function(){v(i);let n=f();return C(n.setImageOnAdd())}),g(4,"SAVE"),d()()}}var ns=(()=>{let t=class t{constructor(e){this.sanitizer=e,this.imageLoadedEvent=new ge,this.cropperActiveEvent=new ge,this.image_is_preview=!1}ngOnChanges(){this.previewUrlo=this.previewUrl}fileChangeEvent(e){this.imageChangedEvent=e,this.cropperActiveEvent.emit(!0)}imageCropped(e){this.croppedImage=e.base64,this.previewUrl=e.base64,this.image_is_preview=!0}imageLoaded(){}cropperReady(){}loadImageFailed(){}cancelImageOnAdd(){this.imageChangedEvent=void 0,this.previewUrl=this.previewUrlo,this.imageLoadedEvent.emit(this.previewUrl)}setImageOnAdd(){this.previewUrl=this.croppedImage,console.log("this.previewUrl",this.previewUrl),this.imageChangedEvent=void 0,this.imageLoadedEvent.emit(this.previewUrl),this.cropperActiveEvent.emit(!1)}};t.\u0275fac=function(n){return new(n||t)(k(Ct))},t.\u0275cmp=V({type:t,selectors:[["app-profile-image-upload"]],inputs:{previewUrl:"previewUrl",ratio:"ratio",shape:"shape"},outputs:{imageLoadedEvent:"imageLoadedEvent",cropperActiveEvent:"cropperActiveEvent"},features:[me],decls:8,vars:6,consts:[[1,"form-group",2,"margin-bottom","0"],[1,"btn","btn-default","button_secondary",3,"ngStyle"],[1,"fa","fa-image"],["type","file","name","image",2,"display","none",3,"change"],["format","png","class","image_cropper_container",3,"imageChangedEvent","maintainAspectRatio","output","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed",4,"ngIf"],["class","image_container",4,"ngIf"],["class","text-center","style","padding:40px 0;",4,"ngIf"],["format","png",1,"image_cropper_container",3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","imageChangedEvent","maintainAspectRatio","output","aspectRatio"],[1,"image_container"],["class","image_preview_on_edit",3,"src","ngClass",4,"ngIf"],["src","../../../../assets/images/noimage.png","class","image_preview_on_edit",3,"ngClass",4,"ngIf"],[1,"image_preview_on_edit",3,"src","ngClass"],["src","../../../../assets/images/noimage.png",1,"image_preview_on_edit",3,"ngClass"],[1,"text-center",2,"padding","40px 0"],[1,"btn","btn-default","button_secondary",2,"margin","0 5px",3,"click"],[1,"btn","btn-default","button_primary",2,"margin","0 5px",3,"click"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"label",1),S(2,"i",2),g(3,"\xA0Upload image"),p(4,"input",3),M("change",function(c){return r.fileChangeEvent(c)}),d()()(),T(5,Dc,1,4,"image-cropper",4)(6,Wc,3,2,"div",5)(7,Hc,5,0,"div",6)),n&2&&(m(),y("ngStyle",ae(4,Uc,r.imageChangedEvent?"hidden":"visible")),m(4),y("ngIf",r.imageChangedEvent),m(),y("ngIf",!r.imageChangedEvent),m(),y("ngIf",r.imageChangedEvent))},dependencies:[Ie,fe,No,Fi],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.image_cropper_container[_ngcontent-%COMP%]{width:250px;margin:auto}.image_preview_on_edit[_ngcontent-%COMP%]{height:125px;width:125px;display:block;margin:auto;object-fit:cover;object-position:center;border:solid 1px lightgrey;border-radius:50%}.image_container[_ngcontent-%COMP%]{padding:20px 0}']});let o=t;return o})();function Gc(o,t){o&1&&(p(0,"div",2)(1,"em"),g(2,"You can edit or modify your account settings here. Your profile image is shown on the leaderboard table, make it a good one!"),d()())}function Xc(o,t){o&1&&(p(0,"div",2)(1,"em"),g(2,"You can edit or modify your account settings here."),d()())}function Kc(o,t){if(o&1){let i=R();p(0,"i",37),M("click",function(){v(i);let n=f(3);return C(n.editProfileImage())}),d()}}function Jc(o,t){if(o&1&&(p(0,"div",28),S(1,"img",35),T(2,Kc,1,0,"i",36),d()),o&2){let i=f(2);m(),G("src",i.user.image,H),m(),y("ngIf",i.user)}}function Zc(o,t){o&1&&(p(0,"span"),S(1,"i",38),d())}function $c(o,t){o&1&&(p(0,"span"),S(1,"i",39),d())}function el(o,t){if(o&1){let i=R();p(0,"div",26)(1,"div",27),T(2,Jc,3,2,"div",28),p(3,"ul",29)(4,"li",30),g(5),p(6,"span")(7,"button",31),M("click",function(){v(i);let n=f();return C(n.showEditName())}),g(8,"Edit"),d()()(),p(9,"li",30),g(10),T(11,Zc,2,0,"span",32)(12,$c,2,0,"span",32),p(13,"span")(14,"button",31),M("click",function(){v(i);let n=f();return C(n.showEditEmail())}),g(15),d()()(),p(16,"li",30),g(17,"Password "),p(18,"span")(19,"button",31),M("click",function(){v(i);let n=f();return C(n.showEditPassword())}),g(20,"Edit"),d()()(),p(21,"li",33),M("click",function(){v(i);let n=f();return C(n.logout())}),g(22,"Logout "),d(),p(23,"li",34),M("click",function(){v(i);let n=f();return C(n.confirmDelete())}),g(24,"Delete Account "),d()()()()}if(o&2){let i=f();m(2),J(2,i.user.account_type=="player"?2:-1),m(3),Z("",i.user.username," "),m(5),Z("",i.user.email," \xA0 "),m(),y("ngIf",i.user.email_has_been_verified==!0),m(),y("ngIf",i.user.email_has_been_verified!=!0),m(3),Z(" ",i.user.email_has_been_verified==!0?"Edit":"Verify"," ")}}function tl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(2);m(),A(i.invalid_user_name)}}function il(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("editNameModal"))}),S(2,"i",19),d(),p(3,"h1",40),g(4,"Edit Username"),d(),p(5,"div",41)(6,"input",23),Q("ngModelChange",function(n){v(i);let r=f();return Y(r.user_name,n)||(r.user_name=n),C(n)}),M("ngModelChange",function(){v(i);let n=f();return C(n.clearAlerts())}),d()(),T(7,tl,2,1,"div",42),p(8,"div",24)(9,"button",43),M("click",function(){v(i);let n=f();return C(n.saveName())}),g(10,"SAVE"),d()()()}if(o&2){let i=f();m(6),j("ngModel",i.user_name),m(),y("ngIf",i.invalid_user_name)}}function nl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(3);m(),A(i.invalid_user_email)}}function ol(o,t){if(o&1){let i=R();p(0,"div",48)(1,"h1",40),g(2,"Edit Email"),d(),p(3,"div",49)(4,"input",23),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.user_email,n)||(r.user_email=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.clearAlerts())}),d()(),T(5,nl,2,1,"div",42),p(6,"p",50),S(7,"i",51),g(8,"\xA0Editing will require verification"),d()()}if(o&2){let i=f(2);m(4),j("ngModel",i.user_email),m(),y("ngIf",i.invalid_user_email)}}function rl(o,t){o&1&&(p(0,"div",44),g(1,"Code is incorrect"),d())}function sl(o,t){if(o&1){let i=R();p(0,"div",52)(1,"p"),g(2,"Please enter the verification code that was sent to "),p(3,"em"),g(4),d()(),p(5,"div",53)(6,"input",54),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_1e,n)||(r.digit_1e=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodeEmail(1))}),d(),p(7,"input",55),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_2e,n)||(r.digit_2e=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodeEmail(2))}),d(),p(8,"input",56),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_3e,n)||(r.digit_3e=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodeEmail(3))}),d(),p(9,"input",57),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_4e,n)||(r.digit_4e=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodeEmail(4))}),d(),p(10,"input",58),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_5e,n)||(r.digit_5e=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodeEmail(5))}),d(),p(11,"input",59),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_6e,n)||(r.digit_6e=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodeEmail(6))}),d()(),p(12,"div",60)(13,"input",23),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digits,n)||(r.digits=n),C(n)}),d()(),T(14,rl,2,0,"div",42),d()}if(o&2){let i=f(2);m(4),A(i.user.email),m(2),j("ngModel",i.digit_1e),m(),j("ngModel",i.digit_2e),m(),j("ngModel",i.digit_3e),m(),j("ngModel",i.digit_4e),m(),j("ngModel",i.digit_5e),m(),j("ngModel",i.digit_6e),m(2),j("ngModel",i.digits),m(),y("ngIf",i.email_verification_code_failed==!0)}}function al(o,t){if(o&1){let i=R();p(0,"button",43),M("click",function(){v(i);let n=f(2);return C(n.verifyEmail())}),g(1,"VERIFY"),d()}}function cl(o,t){if(o&1){let i=R();p(0,"button",43),M("click",function(){v(i);let n=f(2);return C(n.submitEmailVerificationCode())}),g(1,"SUBMIT"),d()}}function ll(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("editEmailModal"))}),S(2,"i",19),d(),T(3,ol,9,2,"div",45)(4,sl,15,9,"div",46),p(5,"div",24),T(6,al,2,0,"button",47)(7,cl,2,0,"button",47),d()()}if(o&2){let i=f();m(3),y("ngIf",i.email_change_step==1),m(),y("ngIf",i.email_change_step==2),m(2),y("ngIf",i.email_change_step==1),m(),y("ngIf",i.email_change_step==2)}}function dl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(3);m(),A(i.invalid_user_phone)}}function pl(o,t){if(o&1){let i=R();p(0,"div",48)(1,"h1",40),g(2,"Phone Verification"),d(),p(3,"p"),g(4,"Add a phone number to your account to receive notifications. "),d(),p(5,"div",49)(6,"label"),g(7,"Mobile number"),d(),S(8,"br"),p(9,"input",23),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.user_phone,n)||(r.user_phone=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.clearAlerts())}),d(),T(10,dl,2,1,"div",42),d()()}if(o&2){let i=f(2);m(9),j("ngModel",i.user_phone),m(),y("ngIf",i.invalid_user_phone)}}function hl(o,t){if(o&1){let i=R();p(0,"div",52)(1,"p"),g(2,"Please enter the verification code that was sent to "),p(3,"em"),g(4),d()(),p(5,"div",53)(6,"input",63),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_1p,n)||(r.digit_1p=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodePhone(1))}),d(),p(7,"input",64),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_2p,n)||(r.digit_2p=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodePhone(2))}),d(),p(8,"input",65),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_3p,n)||(r.digit_3p=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodePhone(3))}),d(),p(9,"input",66),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_4p,n)||(r.digit_4p=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodePhone(4))}),d(),p(10,"input",67),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_5p,n)||(r.digit_5p=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodePhone(5))}),d(),p(11,"input",68),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digit_6p,n)||(r.digit_6p=n),C(n)}),M("ngModelChange",function(){v(i);let n=f(2);return C(n.evalAccessCodePhone(6))}),d()(),p(12,"div",60)(13,"input",23),Q("ngModelChange",function(n){v(i);let r=f(2);return Y(r.digits,n)||(r.digits=n),C(n)}),d()()()}if(o&2){let i=f(2);m(4),A(i.user_phone),m(2),j("ngModel",i.digit_1p),m(),j("ngModel",i.digit_2p),m(),j("ngModel",i.digit_3p),m(),j("ngModel",i.digit_4p),m(),j("ngModel",i.digit_5p),m(),j("ngModel",i.digit_6p),m(2),j("ngModel",i.digits)}}function ul(o,t){if(o&1){let i=R();p(0,"button",69),M("click",function(){v(i);let n=f(2);return C(n.sendPhoneCode())}),g(1,"SEND CODE"),d()}}function ml(o,t){if(o&1){let i=R();p(0,"button",69),M("click",function(){v(i);let n=f(2);return C(n.confirmPhoneCode())}),g(1,"CONFIRM"),d()}}function gl(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("editPhoneModal"))}),S(2,"i",19),d(),T(3,pl,11,2,"div",45)(4,hl,14,8,"div",46),p(5,"div",24)(6,"button",61),M("click",function(){v(i);let n=f();return C(n.closeModal("editPhoneModal"))}),g(7,"CANCEL"),d(),T(8,ul,2,0,"button",62)(9,ml,2,0,"button",62),d()()}if(o&2){let i=f();m(3),y("ngIf",i.phone_change_step==1),m(),y("ngIf",i.phone_change_step==2),m(4),y("ngIf",i.phone_change_step==1),m(),y("ngIf",i.phone_change_step==2)}}function fl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(2);m(),A(i.invalid_user_zipcode)}}function _l(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("editLocationModal"))}),S(2,"i",19),d(),p(3,"h1",40),g(4,"Set Location"),d(),p(5,"p"),g(6,"Set your location so we can personalize your experience showing you distance to certain classes"),d(),p(7,"div",70)(8,"label"),g(9,"Zip Code"),d(),S(10,"br"),p(11,"input",71),Q("ngModelChange",function(n){v(i);let r=f();return Y(r.user_zipcode,n)||(r.user_zipcode=n),C(n)}),M("ngModelChange",function(){v(i);let n=f();return n.evalZipCode(),C(n.clearAlerts())}),d(),T(12,fl,2,1,"div",42),p(13,"p",72),g(14),d()(),p(15,"div",24)(16,"button",69),M("click",function(){v(i);let n=f();return C(n.saveZipCode())}),g(17,"SAVE"),d()()()}if(o&2){let i=f();m(11),j("ngModel",i.user_zipcode),m(),y("ngIf",i.invalid_user_zipcode),m(2),Oe("",i.location.city,", ",i.location.state,"")}}function xl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(2);m(),A(i.invalid_password_current)}}function vl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(2);m(),A(i.invalid_password_new)}}function Cl(o,t){if(o&1&&(p(0,"div",44),g(1),d()),o&2){let i=f(2);m(),Z("",i.invalid_password_new_confirm," ")}}function bl(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("editPasswordModal"))}),S(2,"i",19),d(),p(3,"h1",40),g(4,"Reset Password"),d(),p(5,"div",73)(6,"label"),g(7,"Current Password"),d(),S(8,"br"),p(9,"input",74),Q("ngModelChange",function(n){v(i);let r=f();return Y(r.password_current,n)||(r.password_current=n),C(n)}),M("ngModelChange",function(){v(i);let n=f();return C(n.clearAlerts())}),d()(),T(10,xl,2,1,"div",42),p(11,"div",49)(12,"label"),g(13,"New Password"),d(),S(14,"br"),p(15,"input",74),Q("ngModelChange",function(n){v(i);let r=f();return Y(r.password_new,n)||(r.password_new=n),C(n)}),M("ngModelChange",function(){v(i);let n=f();return C(n.clearAlerts())}),d(),T(16,vl,2,1,"div",42),p(17,"label"),g(18,"Confirm Password"),d(),S(19,"br"),p(20,"input",74),Q("ngModelChange",function(n){v(i);let r=f();return Y(r.password_new_confirm,n)||(r.password_new_confirm=n),C(n)}),M("ngModelChange",function(){v(i);let n=f();return C(n.clearAlerts())}),d(),T(21,Cl,2,1,"div",42),d(),p(22,"div",24)(23,"button",69),M("click",function(){v(i);let n=f();return C(n.savePassword())}),g(24,"SUBMIT"),d()()()}if(o&2){let i=f();m(9),j("ngModel",i.password_current),m(),y("ngIf",i.invalid_password_current),m(5),j("ngModel",i.password_new),m(),y("ngIf",i.invalid_password_new),m(4),j("ngModel",i.password_new_confirm),m(),y("ngIf",i.invalid_password_new_confirm)}}function yl(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("emailVerificationSuccessModal"))}),S(2,"i",19),d(),p(3,"p",75),g(4,"Thank you! Your email has been verified successfully."),d(),p(5,"div",24)(6,"button",69),M("click",function(){v(i);let n=f();return C(n.closeModal("emailVerificationSuccessModal"))}),g(7,"OK"),d()()()}}function wl(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("phoneVerificationSuccessModal"))}),S(2,"i",19),d(),p(3,"p",75),g(4,"Thank you! Your phone has been verified successfully."),d(),p(5,"div",24)(6,"button",69),M("click",function(){v(i);let n=f();return C(n.closeModal("phoneVerificationSuccessModal"))}),g(7,"OK"),d()()()}}function Ml(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("changePasswordSuccessModal"))}),S(2,"i",19),d(),p(3,"p",75),g(4,"Your password has been changed."),d(),p(5,"div",24)(6,"button",69),M("click",function(){v(i);let n=f();return C(n.closeModal("changePasswordSuccessModal"))}),g(7,"OK"),d()()()}}function Sl(o,t){if(o&1){let i=R();p(0,"div",24)(1,"button",69),M("click",function(){v(i);let n=f(2);return C(n.closeModal("profileImageModal"))}),g(2,"OK"),d()()}}function El(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("profileImageModal"))}),S(2,"i",19),d(),p(3,"app-profile-image-upload",76),M("imageLoadedEvent",function(n){v(i);let r=f();return C(r.saveProfileImage(n))})("cropperActiveEvent",function(n){v(i);let r=f();return C(r.setCropperActive(n))}),d(),T(4,Sl,3,0,"div",77),d()}if(o&2){let i=f();m(3),y("previewUrl",i.user.image)("ratio",1/1)("shape","rectangular"),m(),y("ngIf",i.cropper_active!=!0)}}function Ol(o,t){if(o&1){let i=R();p(0,"div",24)(1,"button",69),M("click",function(){v(i);let n=f(2);return C(n.closeModal("profileImageModal"))}),g(2,"OK"),d()()}}function Pl(o,t){if(o&1){let i=R();p(0,"div",17)(1,"button",18),M("click",function(){v(i);let n=f();return C(n.closeModal("profileImageModal"))}),S(2,"i",19),d(),p(3,"app-profile-image-upload",76),M("imageLoadedEvent",function(n){v(i);let r=f();return C(r.saveProfileImage(n))})("cropperActiveEvent",function(n){v(i);let r=f();return C(r.setCropperActive(n))}),d(),T(4,Ol,3,0,"div",77),d()}if(o&2){let i=f();m(3),y("previewUrl",i.user.image)("ratio",1/1)("shape","rectangular"),m(),y("ngIf",i.cropper_active!=!0)}}var rs=(()=>{let t=class t{constructor(e,n,r,s,c,h){this.userService=e,this.tablesService=n,this.commonService=r,this.myblobService=s,this.router=c,this.document=h,this.user_name="",this.user_email="",this.user_zipcode="",this.user_phone="",this.password_current="",this.password_new="",this.password_new_confirm="",this.invalid_user_name="",this.invalid_user_email="",this.invalid_user_phone="",this.invalid_user_zipcode="",this.invalid_password_current="",this.invalid_password_new="",this.invalid_password_new_confirm="",this.email_verification_code_failed=!1,this.email_change_step=0,this.phone_change_step=0,this.digit_1e="",this.digit_2e="",this.digit_3e="",this.digit_4e="",this.digit_5e="",this.digit_6e="",this.digit_1p="",this.digit_2p="",this.digit_3p="",this.digit_4p="",this.digit_5p="",this.digit_6p="",this.digits="",this.location={},this.profile_image_filename="",this.cropper_active=!1,this.delete_confirm="",this.image_is_preview=!1}ngOnInit(){this.userService._getUser.subscribe(e=>{this.user=e,console.log("this.user",this.user),this.user&&(this.user.sign_up_date&&(this.user.sign_up_date_humanized=this.commonService.getDate(this.user.sign_up_date)),this.notify_via_sms=this.user.notify_by_sms,this.user_zipcode=this.user.location_zipcode,this.location={city:this.user.location_city,state:this.user.location_state})}),this.myblobService._profileImageUploaded.subscribe(e=>{e&&(console.log("filename----",e),this.user.image="https://sportzbattle.blob.core.windows.net/users/"+e,this.saveUserObjectInMemory())})}showEditName(){this.user_name=this.user.username,$("#editNameModal").modal("show")}showEditEmail(){this.clearDigits(),this.email_change_step=1,this.user_email=this.user.email,$("#editEmailModal").modal("show")}showEditPhone(){this.clearDigits(),this.phone_change_step=1,this.user_phone="",$("#editPhoneModal").modal("show")}showEditLocation(){console.log("this.user",this.user),this.user_zipcode=this.user.location_zipcode,this.location.city=this.user.location_city,this.location.state=this.user.location_state,$("#editLocationModal").modal("show")}showEditPassword(){$("#editPasswordModal").modal("show")}saveName(){if(console.log("save name"),!this.user_name){this.invalid_user_name="Please enter a valid name";return}var e={user_id:this.user.user_id,username:this.user_name};this.tablesService.UpdateItem("users","user_id",e).subscribe(()=>{this.user.username=this.user_name,$("#editNameModal").modal("hide"),this.saveUserObjectInMemory()})}clearAlerts(){this.invalid_user_name="",this.invalid_user_email="",this.invalid_user_phone="",this.invalid_user_zipcode="",this.invalid_password_current="",this.invalid_password_new="",this.invalid_password_new_confirm=""}saveUserObjectInMemory(){localStorage.setItem("user",JSON.stringify(this.user))}verifyEmail(){if(!this.user_email)this.invalid_user_email="Please enter a valid email";else{var e=this.user_email.match(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/);e||(this.invalid_user_email="Please enter a valid email")}this.invalid_user_email||(this.email_change_step=2)}evalAccessCodeEmail(e){if(e==1){if(this.digit_1e.length==1){var n=this.document.getElementById("digit_2e");n&&n.focus()}}else if(e==2){if(this.digit_2e.length==1){var n=this.document.getElementById("digit_3e");n&&n.focus()}}else if(e==3){if(this.digit_3e.length==1){var n=this.document.getElementById("digit_4e");n&&n.focus()}}else if(e==4){if(this.digit_4e.length==1){var n=this.document.getElementById("digit_5e");n&&n.focus()}}else if(e==5){if(this.digit_5e.length==1){var n=this.document.getElementById("digit_6e");n&&n.focus()}}else e==6;this.email_verification_code_failed=!1}submitEmailVerificationCode(){}emailVerificationSuccess(){}sendPhoneCode(){}evalAccessCodePhone(e){if(e==1){if(this.digit_1p.length==1){var n=this.document.getElementById("digit_2p");n&&n.focus()}}else if(e==2){if(this.digit_2p.length==1){var n=this.document.getElementById("digit_3p");n&&n.focus()}}else if(e==3){if(this.digit_3p.length==1){var n=this.document.getElementById("digit_4p");n&&n.focus()}}else if(e==4){if(this.digit_4p.length==1){var n=this.document.getElementById("digit_5p");n&&n.focus()}}else if(e==5){if(this.digit_5p.length==1){var n=this.document.getElementById("digit_6p");n&&n.focus()}}else e==6;this.email_verification_code_failed=!1}confirmPhoneCode(){}phoneVerificationSuccess(){}evalZipCode(){}saveZipCode(){if(!this.user_zipcode)this.invalid_user_zipcode="Please enter a valid zip code";else{var e=this.user_zipcode.match(/^\d{5}/);e||(this.invalid_user_zipcode="Please enter a valid zip code")}if(!this.invalid_user_zipcode&&this.location){var n={user_id:this.user.user_id,location_zipcode:this.user_zipcode,location_city:this.location.city,location_state:this.location.state,location_lat:this.location.lat,location_lng:this.location.lng};this.user.location_zipcode=this.user_zipcode,this.tablesService.UpdateItem("users","user_id",n).subscribe(()=>{$("#editLocationModal").modal("hide")})}}savePassword(){}editProfileImage(){console.log("------------------------"),$("#profileImageModal").modal("show")}saveProfileImage(e){console.log("save profile image"),this.profile_image_filename=this.commonService.generateImageName()+".jpeg";var n=this;this.commonService.resizeImage(e,200,.75,this.profile_image_filename).then(function(r){n.user.image=r.base64,n.image_is_preview=!0,n.myblobService.uploadProfileImageBlob(r.base64,n.user.user_id+"/"+r.filename);var s={user_id:n.user.user_id,image:"https://sportzbattle.blob.core.windows.net/users/"+n.user.user_id+"/"+n.profile_image_filename};n.tablesService.UpdateItem("users","user_id",s).subscribe(c=>{})})}clearDigits(){this.digit_1e="",this.digit_2e="",this.digit_3e="",this.digit_4e="",this.digit_5e="",this.digit_6e="",this.digit_1p="",this.digit_2p="",this.digit_3p="",this.digit_4p="",this.digit_5p="",this.digit_6p=""}setCropperActive(e){this.cropper_active=e}goBack(){}logout(){this.userService.logoutUser()}closeModal(e){$("#"+e).modal("hide")}confirmDelete(){$("#confirmDeleteModal").modal("show")}deleteAccount(){}goto(e){this.router.navigate([e])}notifyViaSMS(){setTimeout(()=>{var e={user_id:this.user.user_id,notify_by_sms:this.notify_via_sms};this.user.notify_by_sms=this.notify_via_sms,this.tablesService.UpdateItem("users","user_id",e).subscribe()},200)}};t.\u0275fac=function(n){return new(n||t)(k(ze),k(Si),k(Re),k(Ei),k(be),k(Lo))},t.\u0275cmp=V({type:t,selectors:[["app-settings"]],decls:67,vars:13,consts:[[1,"background","backgroundx"],[1,"page_title"],[1,"text-start",2,"padding","30px 0"],["class","content_container","style","max-width:450px;",4,"ngIf"],["id","editNameModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],["id","editEmailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editPhoneModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editLocationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editPasswordModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","emailVerificationSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","phoneVerificationSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","changePasswordSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","profileImageModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","confirmDeleteModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"delete_account_title"],[2,"padding-top","26px","text-align","left"],[1,"text-left"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-danger",2,"min-width","150px",3,"click"],[1,"content_container",2,"max-width","450px"],[1,"settings_container"],[2,"position","relative","width","fit-content","display","block","margin","auto"],[2,"list-style-type","none","max-width","400px","padding","0"],[1,"list_itemx"],[1,"btn","btn-default","settings_edit_button",3,"click"],[4,"ngIf"],[1,"list_itemx","logout_button",3,"click"],[1,"list_itemx","delete_account_button",3,"click"],[1,"profile_image",3,"src"],["class","fa fa-pencil edit_image_icon",3,"click",4,"ngIf"],[1,"fa","fa-pencil","edit_image_icon",3,"click"],[1,"fa","fa-check","verified_icon"],[1,"fa","fa-minus","not_verified_icon"],[1,"modal_title"],[2,"padding","30px 0 10px 0"],["class","alert_message",4,"ngIf"],["type","button",1,"btn","btn-default","button_primary",3,"click"],[1,"alert_message"],["class","form-group col-12",4,"ngIf"],["class","form-group col-12","style","padding-top: 30px;",4,"ngIf"],["type","button","class","btn btn-default button_primary",3,"click",4,"ngIf"],[1,"form-group","col-12"],[2,"padding","30px 0"],[2,"padding-left","10px","color","grey"],[1,"fa","fa-lock"],[1,"form-group","col-12",2,"padding-top","30px"],[1,"d-none","d-md-block","text-center"],["id","digit_1e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_2e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_3e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_4e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_5e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_6e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],[1,"d-block","d-md-none","text-center"],["type","button",1,"btn","btn-default","button_secondary",2,"margin","0 7px",3,"click"],["type","button","class","btn btn-default button_primary","style","min-width:150px",3,"click",4,"ngIf"],["id","digit_1p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_2p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_3p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_4p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_5p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_6p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-default","button_primary",2,"min-width","150px",3,"click"],[2,"padding","30px 0","max-width","225px","margin","auto"],["type","text",1,"form-control",2,"text-align","center",3,"ngModelChange","ngModel"],[1,"location_text"],[2,"padding-top","30px"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[2,"padding-top","40px","text-align","center"],[3,"imageLoadedEvent","cropperActiveEvent","previewUrl","ratio","shape"],["class","text-center","style","padding: 25px 0;",4,"ngIf"]],template:function(n,r){n&1&&(S(0,"app-user-sidemenu"),p(1,"div",0)(2,"div",1),g(3,"Account"),d(),T(4,Gc,3,0,"div",2)(5,Xc,3,0)(6,el,25,6,"div",3),d(),p(7,"div",4)(8,"div",5)(9,"div",6),T(10,il,11,2,"div",7),d()()(),p(11,"div",8)(12,"div",5)(13,"div",6),T(14,ll,8,4,"div",7),d()()(),p(15,"div",9)(16,"div",5)(17,"div",6),T(18,gl,10,4,"div",7),d()()(),p(19,"div",10)(20,"div",5)(21,"div",6),T(22,_l,18,4,"div",7),d()()(),p(23,"div",11)(24,"div",5)(25,"div",6),T(26,bl,25,6,"div",7),d()()(),p(27,"div",12)(28,"div",5)(29,"div",6),T(30,yl,8,0,"div",7),d()()(),p(31,"div",13)(32,"div",5)(33,"div",6),T(34,wl,8,0,"div",7),d()()(),p(35,"div",14)(36,"div",5)(37,"div",6),T(38,Ml,8,0,"div",7),d()()(),p(39,"div",15)(40,"div",5)(41,"div",6),T(42,El,5,4,"div",7),d()()(),p(43,"div",16)(44,"div",5)(45,"div",6)(46,"div",17)(47,"button",18),M("click",function(){return r.closeModal("confirmDeleteModal")}),S(48,"i",19),d(),p(49,"p",20)(50,"strong"),g(51,"Delete Account"),d()(),p(52,"p",21),g(53,"Please confirm you wish to delete your account. This can not be undone. Your account will be permanently deleted."),d(),p(54,"div",22),g(55," To confirm delete, please type "),p(56,"em"),g(57,"DELETE"),d(),g(58," and click confirm. "),p(59,"input",23),Q("ngModelChange",function(c){return Y(r.delete_confirm,c)||(r.delete_confirm=c),c}),d()(),p(60,"div",24)(61,"button",25),M("click",function(){return r.deleteAccount()}),g(62,"Confirm delete"),d()()()()()(),p(63,"div",15)(64,"div",5)(65,"div",6),T(66,Pl,5,4,"div",7),d()()()),n&2&&(m(4),J(4,r.user.account_type=="player"?4:5),m(2),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(4),y("ngIf",r.user),m(17),j("ngModel",r.delete_confirm),m(7),y("ngIf",r.user))},dependencies:[fe,Wo,Ho,Yo,jo,bt,ns],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.backgroundx[_ngcontent-%COMP%]{padding-left:260px;color:#fff;padding-right:40px}.content_container[_ngcontent-%COMP%]{max-width:450px;display:block;margin:auto}.profile_image[_ngcontent-%COMP%]{width:125px;height:125px;border:solid 1px lightgrey;border-radius:50%}.stats_button[_ngcontent-%COMP%]{width:100px;font-size:18px}.ccx[_ngcontent-%COMP%]{padding-top:0}.no_items_image[_ngcontent-%COMP%]{width:275px;margin:auto;display:block}.no_items_label[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:18px;padding:30px 0}.profile_name_container[_ngcontent-%COMP%]{display:block;padding:15px 0}.list_itemx[_ngcontent-%COMP%]{border-bottom:solid 1px lightgrey;padding:15px 0}.settings_edit_button[_ngcontent-%COMP%]{float:right;color:#3cf}.digit_input[_ngcontent-%COMP%]{width:35px;display:inline-block;margin:0 3px}.location_text[_ngcontent-%COMP%]{text-align:center;padding:5px;margin:0;font-style:italic;color:gray}.edit_image_icon[_ngcontent-%COMP%]{position:absolute;border:solid 1px lightgrey;border-radius:50%;padding:7px;color:gray;background-color:#fff;right:calc(50% - 70px);cursor:pointer}.edit_image_icon[_ngcontent-%COMP%]:hover{background-color:#3cf;color:#fff;border-color:#3cf}.verified_icon[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;padding:6px;border-radius:50%}.not_verified_icon[_ngcontent-%COMP%]{color:#fff;background-color:#d3d3d3;padding:6px;border-radius:50%}.delete_account_title[_ngcontent-%COMP%]{color:#ff4500;margin:0;font-size:26px}.delete_account_button[_ngcontent-%COMP%]{color:gray;text-align:right;border-bottom:none;cursor:pointer}.profile_button[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;color:gray}.profile_button[_ngcontent-%COMP%]:hover{text-decoration:underline}.logout_button[_ngcontent-%COMP%]{cursor:pointer}.logout_button[_ngcontent-%COMP%]:hover{text-decoration:underline}.not_verified_message[_ngcontent-%COMP%]{background-color:#ff0;color:#000;width:100%;padding:15px 30px}@media only screen and (max-width: 768px){.ccx[_ngcontent-%COMP%]{padding-top:0;top:0}.backgroundx[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}']});let o=t;return o})();var Tl=(o,t)=>t.user_id,jn=o=>({selected:o});function Al(o,t){if(o&1&&(p(0,"tr")(1,"td",8),S(2,"img",9),d(),p(3,"td",8),g(4),d(),p(5,"td",8),g(6),d(),p(7,"td",8),g(8),d()()),o&2){let i=t.$implicit,e=f(2);m(2),G("src",i.image,H),m(2),A(i.username),m(2),A(i.games),m(2),A(e.tab=="daily"?i.max_score:i.points)}}function kl(o,t){if(o&1&&(p(0,"table",7)(1,"thead")(2,"tr"),S(3,"th",8),p(4,"th",8),g(5,"Username"),d(),p(6,"th",8),g(7,"Games"),d(),p(8,"th",8),g(9),d()()(),p(10,"tbody"),_t(11,Al,9,4,"tr",null,Tl),d()()),o&2){let i=f();m(9),A(i.tab=="daily"?"High Score":"Total Points"),m(2),xt(i.players)}}function Il(o,t){o&1&&(p(0,"div",10),g(1,"There are no players to show"),d())}var ss=(()=>{let t=class t{constructor(e,n,r){this.userService=e,this.commonService=n,this.router=r,this.players=[],this.data=[],this.games=[],this.tab="all-time",this.data_ready=!1,this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight(),this.monthly_start_time=this.commonService.getFirstDayOfMonthEpoch()}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.loadData()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}loadData(){this.userService.getAllGames().subscribe(e=>{this.games=e,this.filterPlayers()})}filterPlayers(){this.data_ready=!1;var e=[];this.tab=="all-time"?e=this.games:this.tab=="monthly"?e=this.games.filter(n=>n.timestamp>=this.monthly_start_time):this.tab=="daily"&&(e=this.games.filter(n=>n.timestamp>=this.daily_start_time)),this.players=[],e.forEach(n=>{var r=this.players.find(s=>s.user_id==n.user_id);r||this.players.push({user_id:n.user_id,username:n.username,image:n.user_image})}),this.players.forEach(n=>{var r=e.filter(h=>h.user_id==n.user_id);n.games=r.length;var s=0,c=0;r.forEach(h=>{s+=h.score?h.score:0,h.score>c&&(c=h.score)}),n.points=s,n.max_score=c}),this.players=this.players.sort((n,r)=>r.points-n.points),this.data_ready=!0}};t.\u0275fac=function(n){return new(n||t)(k(ze),k(Re),k(be))},t.\u0275cmp=V({type:t,selectors:[["app-leaderboard"]],decls:17,vars:10,consts:[[1,"background","backgroundx"],[1,"contentsx"],[1,"page_title"],[1,"submenu_container"],[1,"submenu_item",3,"click","ngClass"],[1,"table_container"],[1,"graph_title"],[1,"table","tablex"],[1,"tc"],[1,"player_image",3,"src"],[1,"note"]],template:function(n,r){n&1&&(S(0,"app-user-sidemenu"),p(1,"div",0)(2,"div",1)(3,"div",2),g(4,"Leaderboard"),d(),p(5,"div",3)(6,"div",4),M("click",function(){return r.tab="daily",r.filterPlayers()}),g(7,"Daily"),d(),p(8,"div",4),M("click",function(){return r.tab="monthly",r.filterPlayers()}),g(9,"Monthly"),d(),p(10,"div",4),M("click",function(){return r.tab="all-time",r.filterPlayers()}),g(11,"All-Time"),d()(),p(12,"div",5)(13,"div",6),g(14,"Top Players"),d(),T(15,kl,13,1,"table",7)(16,Il,2,0),d()()()),n&2&&(m(6),y("ngClass",ae(4,jn,r.tab=="daily")),m(2),y("ngClass",ae(6,jn,r.tab=="monthly")),m(2),y("ngClass",ae(8,jn,r.tab=="all-time")),m(5),J(15,r.players.length>0?15:16))},dependencies:[Ie,bt],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.submenu_container[_ngcontent-%COMP%]{padding:20px 0}.submenu_item[_ngcontent-%COMP%]{font-size:20px;display:inline-block;padding:0 15px;color:#fff;font-family:orbitron-medium;cursor:pointer}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.table_container[_ngcontent-%COMP%]{padding:30px 0}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:28px;color:#fff;text-align:center;padding:0 0 20px}.tablex[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:auto}.player_image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.selected[_ngcontent-%COMP%]{border-bottom:solid 2px white}.contentsx[_ngcontent-%COMP%]{padding:50px}.note[_ngcontent-%COMP%]{padding:30px 0;font-style:italic;color:#fff;font-size:20px;text-align:center}@media screen and (max-width: 768px){.contentsx[_ngcontent-%COMP%]{padding:20px}}']});let o=t;return o})();var Pe=Object.create(null);Pe.open="0";Pe.close="1";Pe.ping="2";Pe.pong="3";Pe.message="4";Pe.upgrade="5";Pe.noop="6";var ei=Object.create(null);Object.keys(Pe).forEach(o=>{ei[Pe[o]]=o});var ti={type:"error",data:"parser error"};var ls=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ds=typeof ArrayBuffer=="function",ps=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,ii=({type:o,data:t},i,e)=>ls&&t instanceof Blob?i?e(t):as(t,e):ds&&(t instanceof ArrayBuffer||ps(t))?i?e(t):as(new Blob([t]),e):e(Pe[o]+(t||"")),as=(o,t)=>{let i=new FileReader;return i.onload=function(){let e=i.result.split(",")[1];t("b"+(e||""))},i.readAsDataURL(o)};function cs(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}var Yn;function hs(o,t){if(ls&&o.data instanceof Blob)return o.data.arrayBuffer().then(cs).then(t);if(ds&&(o.data instanceof ArrayBuffer||ps(o.data)))return t(cs(o.data));ii(o,!1,i=>{Yn||(Yn=new TextEncoder),t(Yn.encode(i))})}var us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ni=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<us.length;o++)ni[us.charCodeAt(o)]=o;var ms=o=>{let t=o.length*.75,i=o.length,e,n=0,r,s,c,h;o[o.length-1]==="="&&(t--,o[o.length-2]==="="&&t--);let x=new ArrayBuffer(t),w=new Uint8Array(x);for(e=0;e<i;e+=4)r=ni[o.charCodeAt(e)],s=ni[o.charCodeAt(e+1)],c=ni[o.charCodeAt(e+2)],h=ni[o.charCodeAt(e+3)],w[n++]=r<<2|s>>4,w[n++]=(s&15)<<4|c>>2,w[n++]=(c&3)<<6|h&63;return x};var Rl=typeof ArrayBuffer=="function",oi=(o,t)=>{if(typeof o!="string")return{type:"message",data:gs(o,t)};let i=o.charAt(0);return i==="b"?{type:"message",data:zl(o.substring(1),t)}:ei[i]?o.length>1?{type:ei[i],data:o.substring(1)}:{type:ei[i]}:ti},zl=(o,t)=>{if(Rl){let i=ms(o);return gs(i,t)}else return{base64:!0,data:o}},gs=(o,t)=>{switch(t){case"blob":return o instanceof Blob?o:new Blob([o]);case"arraybuffer":default:return o instanceof ArrayBuffer?o:o.buffer}};var fs="",_s=(o,t)=>{let i=o.length,e=new Array(i),n=0;o.forEach((r,s)=>{ii(r,!1,c=>{e[s]=c,++n===i&&t(e.join(fs))})})},xs=(o,t)=>{let i=o.split(fs),e=[];for(let n=0;n<i.length;n++){let r=oi(i[n],t);if(e.push(r),r.type==="error")break}return e};function vs(){return new TransformStream({transform(o,t){hs(o,i=>{let e=i.length,n;if(e<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,e);else if(e<65536){n=new Uint8Array(3);let r=new DataView(n.buffer);r.setUint8(0,126),r.setUint16(1,e)}else{n=new Uint8Array(9);let r=new DataView(n.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(e))}o.data&&typeof o.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(i)})}})}var Qn;function Hi(o){return o.reduce((t,i)=>t+i.length,0)}function ji(o,t){if(o[0].length===t)return o.shift();let i=new Uint8Array(t),e=0;for(let n=0;n<t;n++)i[n]=o[0][e++],e===o[0].length&&(o.shift(),e=0);return o.length&&e<o[0].length&&(o[0]=o[0].slice(e)),i}function Cs(o,t){Qn||(Qn=new TextDecoder);let i=[],e=0,n=-1,r=!1;return new TransformStream({transform(s,c){for(i.push(s);;){if(e===0){if(Hi(i)<1)break;let h=ji(i,1);r=(h[0]&128)===128,n=h[0]&127,n<126?e=3:n===126?e=1:e=2}else if(e===1){if(Hi(i)<2)break;let h=ji(i,2);n=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),e=3}else if(e===2){if(Hi(i)<8)break;let h=ji(i,8),x=new DataView(h.buffer,h.byteOffset,h.length),w=x.getUint32(0);if(w>Math.pow(2,21)-1){c.enqueue(ti);break}n=w*Math.pow(2,32)+x.getUint32(4),e=3}else{if(Hi(i)<n)break;let h=ji(i,n);c.enqueue(oi(r?h:Qn.decode(h),t)),e=0}if(n===0||n>o){c.enqueue(ti);break}}}})}var Gn=4;function F(o){if(o)return Vl(o)}function Vl(o){for(var t in F.prototype)o[t]=F.prototype[t];return o}F.prototype.on=F.prototype.addEventListener=function(o,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(t),this};F.prototype.once=function(o,t){function i(){this.off(o,i),t.apply(this,arguments)}return i.fn=t,this.on(o,i),this};F.prototype.off=F.prototype.removeListener=F.prototype.removeAllListeners=F.prototype.removeEventListener=function(o,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+o];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var e,n=0;n<i.length;n++)if(e=i[n],e===t||e.fn===t){i.splice(n,1);break}return i.length===0&&delete this._callbacks["$"+o],this};F.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+o],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(i){i=i.slice(0);for(var e=0,n=i.length;e<n;++e)i[e].apply(this,t)}return this};F.prototype.emitReserved=F.prototype.emit;F.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]};F.prototype.hasListeners=function(o){return!!this.listeners(o).length};var ce=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Yi(o,...t){return t.reduce((i,e)=>(o.hasOwnProperty(e)&&(i[e]=o[e]),i),{})}var Bl=ce.setTimeout,Ll=ce.clearTimeout;function De(o,t){t.useNativeTimers?(o.setTimeoutFn=Bl.bind(ce),o.clearTimeoutFn=Ll.bind(ce)):(o.setTimeoutFn=ce.setTimeout.bind(ce),o.clearTimeoutFn=ce.clearTimeout.bind(ce))}var Nl=1.33;function bs(o){return typeof o=="string"?Ul(o):Math.ceil((o.byteLength||o.size)*Nl)}function Ul(o){let t=0,i=0;for(let e=0,n=o.length;e<n;e++)t=o.charCodeAt(e),t<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(e++,i+=4);return i}function ys(o){let t="";for(let i in o)o.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(o[i]));return t}function ws(o){let t={},i=o.split("&");for(let e=0,n=i.length;e<n;e++){let r=i[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}var Qi=class extends Error{constructor(t,i,e){super(t),this.description=i,this.context=e,this.type="TransportError"}},Fe=class extends F{constructor(t){super(),this.writable=!1,De(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,i,e){return super.emitReserved("error",new Qi(t,i,e)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let i=oi(t,this.socket.binaryType);this.onPacket(i)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,i={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let i=ys(t);return i.length?"?"+i:""}};var Os="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Xn=64,Dl={},Ms=0,Gi=0,Ss;function Es(o){let t="";do t=Os[o%Xn]+t,o=Math.floor(o/Xn);while(o>0);return t}function Xi(){let o=Es(+new Date);return o!==Ss?(Ms=0,Ss=o):o+"."+Es(Ms++)}for(;Gi<Xn;Gi++)Dl[Os[Gi]]=Gi;var Ps=!1;try{Ps=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Ts=Ps;function Kn(o){let t=o.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ts))return new XMLHttpRequest}catch{}if(!t)try{return new ce[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Fl(){}var ql=function(){return new Kn({xdomain:!1}).responseType!=null}(),Ji=class extends Fe{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}let i=t&&t.forceBase64;this.supportsBinary=ql&&!i,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";let i=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",function(){--e||i()})),this.writable||(e++,this.once("drain",function(){--e||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let i=e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};xs(t,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_s(t,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Xi()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(t,i)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ki(this.uri(),t)}doWrite(t,i){let e=this.request({method:"POST",data:t});e.on("success",i),e.on("error",(n,r)=>{this.onError("xhr post error",n,r)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(i,e)=>{this.onError("xhr poll error",i,e)}),this.pollXhr=t}},Ki=(()=>{class o extends F{constructor(i,e){super(),De(this,e),this.opts=e,this.method=e.method||"GET",this.uri=i,this.data=e.data!==void 0?e.data:null,this.create()}create(){var i;let e=Yi(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;let n=this.xhr=new Kn(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(i=this.opts.cookieJar)===null||i===void 0||i.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=o.requestsCount++,o.requests[this.index]=this)}onError(i){this.emitReserved("error",i,this.xhr),this.cleanup(!0)}cleanup(i){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Fl,i)try{this.xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this.index],this.xhr=null}}onLoad(){let i=this.xhr.responseText;i!==null&&(this.emitReserved("data",i),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return o.requestsCount=0,o.requests={},o})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",As);else if(typeof addEventListener=="function"){let o="onpagehide"in ce?"pagehide":"unload";addEventListener(o,As,!1)}}function As(){for(let o in Ki.requests)Ki.requests.hasOwnProperty(o)&&Ki.requests[o].abort()}var at=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,i)=>i(t,0),ri=ce.WebSocket||ce.MozWebSocket,Zi=!0,ks="arraybuffer";var Is=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",$i=class extends Fe{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let t=this.uri(),i=this.opts.protocols,e=Is?{}:Yi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(e.headers=this.opts.extraHeaders);try{this.ws=Zi&&!Is?i?new ri(t,i):new ri(t):new ri(t,i,e)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let i=0;i<t.length;i++){let e=t[i],n=i===t.length-1;ii(e,this.supportsBinary,r=>{let s={};Zi||(e.options&&(s.compress=e.options.compress),this.opts.perMessageDeflate&&(typeof r=="string"?Buffer.byteLength(r):r.length)<this.opts.perMessageDeflate.threshold&&(s.compress=!1));try{Zi?this.ws.send(r):this.ws.send(r,s)}catch{}n&&at(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Xi()),this.supportsBinary||(i.b64=1),this.createUri(t,i)}check(){return!!ri}};var en=class extends Fe{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{let i=Cs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),e=t.readable.pipeThrough(i).getReader(),n=vs();n.readable.pipeTo(t.writable),this.writer=n.writable.getWriter();let r=()=>{e.read().then(({done:c,value:h})=>{c||(this.onPacket(h),r())}).catch(c=>{})};r();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let i=0;i<t.length;i++){let e=t[i],n=i===t.length-1;this.writer.write(e).then(()=>{n&&at(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}};var Jn={websocket:$i,webtransport:en,polling:Ji};var Wl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Tt(o){if(o.length>2e3)throw"URI too long";let t=o,i=o.indexOf("["),e=o.indexOf("]");i!=-1&&e!=-1&&(o=o.substring(0,i)+o.substring(i,e).replace(/:/g,";")+o.substring(e,o.length));let n=Wl.exec(o||""),r={},s=14;for(;s--;)r[Hl[s]]=n[s]||"";return i!=-1&&e!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=jl(r,r.path),r.queryKey=Yl(r,r.query),r}function jl(o,t){let i=/\/{2,9}/g,e=t.replace(i,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&e.splice(0,1),t.slice(-1)=="/"&&e.splice(e.length-1,1),e}function Yl(o,t){let i={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,n,r){n&&(i[n]=r)}),i}var tn=(()=>{class o extends F{constructor(i,e={}){super(),this.binaryType=ks,this.writeBuffer=[],i&&typeof i=="object"&&(e=i,i=null),i?(i=Tt(i),e.hostname=i.host,e.secure=i.protocol==="https"||i.protocol==="wss",e.port=i.port,i.query&&(e.query=i.query)):e.host&&(e.hostname=Tt(e.host).host),De(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ws(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(i){let e=Object.assign({},this.opts.query);e.EIO=Gn,e.transport=i,this.id&&(e.sid=this.id);let n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[i]);return new Jn[i](n)}open(){let i;if(this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)i="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else i=this.transports[0];this.readyState="opening";try{i=this.createTransport(i)}catch{this.transports.shift(),this.open();return}i.open(),this.setTransport(i)}setTransport(i){this.transport&&this.transport.removeAllListeners(),this.transport=i,i.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(i){let e=this.createTransport(i),n=!1;o.priorWebsocketSuccess=!1;let r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",E=>{if(!n)if(E.type==="pong"&&E.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;o.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(O(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let B=new Error("probe error");B.transport=e.name,this.emitReserved("upgradeError",B)}}))};function s(){n||(n=!0,O(),e.close(),e=null)}let c=E=>{let B=new Error("probe error: "+E);B.transport=e.name,s(),this.emitReserved("upgradeError",B)};function h(){c("transport closed")}function x(){c("socket closed")}function w(E){e&&E.name!==e.name&&s()}let O=()=>{e.removeListener("open",r),e.removeListener("error",c),e.removeListener("close",h),this.off("close",x),this.off("upgrading",w)};e.once("open",r),e.once("error",c),e.once("close",h),this.once("close",x),this.once("upgrading",w),this.upgrades.indexOf("webtransport")!==-1&&i!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onOpen(){if(this.readyState="open",o.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let i=0,e=this.upgrades.length;for(;i<e;i++)this.probe(this.upgrades[i])}}onPacket(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",i),this.emitReserved("heartbeat"),this.resetPingTimeout(),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let e=new Error("server error");e.code=i.data,this.onError(e);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}}onHandshake(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.maxPayload=i.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let i=this.getWritablePackets();this.transport.send(i),this.prevBufferLen=i.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){let r=this.writeBuffer[n].data;if(r&&(e+=bs(r)),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}write(i,e,n){return this.sendPacket("message",i,e,n),this}send(i,e,n){return this.sendPacket("message",i,e,n),this}sendPacket(i,e,n,r){if(typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:i,data:e,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){let i=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),i()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():i()}):this.upgrading?n():i()),this}onError(i){o.priorWebsocketSuccess=!1,this.emitReserved("error",i),this.onClose("transport error",i)}onClose(i,e){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",i,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(i){let e=[],n=0,r=i.length;for(;n<r;n++)~this.transports.indexOf(i[n])&&e.push(i[n]);return e}}return o.protocol=Gn,o})();var yu=tn.protocol;function Rs(o,t="",i){let e=o;i=i||typeof location<"u"&&location,o==null&&(o=i.protocol+"//"+i.host),typeof o=="string"&&(o.charAt(0)==="/"&&(o.charAt(1)==="/"?o=i.protocol+o:o=i.host+o),/^(https?|wss?):\/\//.test(o)||(typeof i<"u"?o=i.protocol+"//"+o:o="https://"+o),e=Tt(o)),e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443")),e.path=e.path||"/";let r=e.host.indexOf(":")!==-1?"["+e.host+"]":e.host;return e.id=e.protocol+"://"+r+":"+e.port+t,e.href=e.protocol+"://"+r+(i&&i.port===e.port?"":":"+e.port),e}var no={};Ea(no,{Decoder:()=>to,Encoder:()=>eo,PacketType:()=>z,protocol:()=>Ns});var Ql=typeof ArrayBuffer=="function",Gl=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,zs=Object.prototype.toString,Xl=typeof Blob=="function"||typeof Blob<"u"&&zs.call(Blob)==="[object BlobConstructor]",Kl=typeof File=="function"||typeof File<"u"&&zs.call(File)==="[object FileConstructor]";function ai(o){return Ql&&(o instanceof ArrayBuffer||Gl(o))||Xl&&o instanceof Blob||Kl&&o instanceof File}function si(o,t){if(!o||typeof o!="object")return!1;if(Array.isArray(o)){for(let i=0,e=o.length;i<e;i++)if(si(o[i]))return!0;return!1}if(ai(o))return!0;if(o.toJSON&&typeof o.toJSON=="function"&&arguments.length===1)return si(o.toJSON(),!0);for(let i in o)if(Object.prototype.hasOwnProperty.call(o,i)&&si(o[i]))return!0;return!1}function Vs(o){let t=[],i=o.data,e=o;return e.data=Zn(i,t),e.attachments=t.length,{packet:e,buffers:t}}function Zn(o,t){if(!o)return o;if(ai(o)){let i={_placeholder:!0,num:t.length};return t.push(o),i}else if(Array.isArray(o)){let i=new Array(o.length);for(let e=0;e<o.length;e++)i[e]=Zn(o[e],t);return i}else if(typeof o=="object"&&!(o instanceof Date)){let i={};for(let e in o)Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=Zn(o[e],t));return i}return o}function Bs(o,t){return o.data=$n(o.data,t),delete o.attachments,o}function $n(o,t){if(!o)return o;if(o&&o._placeholder===!0){if(typeof o.num=="number"&&o.num>=0&&o.num<t.length)return t[o.num];throw new Error("illegal attachments")}else if(Array.isArray(o))for(let i=0;i<o.length;i++)o[i]=$n(o[i],t);else if(typeof o=="object")for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&(o[i]=$n(o[i],t));return o}var Jl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ns=5,z=function(o){return o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK",o}(z||{}),eo=class{constructor(t){this.replacer=t}encode(t){return(t.type===z.EVENT||t.type===z.ACK)&&si(t)?this.encodeAsBinary({type:t.type===z.EVENT?z.BINARY_EVENT:z.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let i=""+t.type;return(t.type===z.BINARY_EVENT||t.type===z.BINARY_ACK)&&(i+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(i+=t.nsp+","),t.id!=null&&(i+=t.id),t.data!=null&&(i+=JSON.stringify(t.data,this.replacer)),i}encodeAsBinary(t){let i=Vs(t),e=this.encodeAsString(i.packet),n=i.buffers;return n.unshift(e),n}};function Ls(o){return Object.prototype.toString.call(o)==="[object Object]"}var to=class o extends F{constructor(t){super(),this.reviver=t}add(t){let i;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(t);let e=i.type===z.BINARY_EVENT;e||i.type===z.BINARY_ACK?(i.type=e?z.EVENT:z.ACK,this.reconstructor=new io(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(ai(t)||t.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(t),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let i=0,e={type:Number(t.charAt(0))};if(z[e.type]===void 0)throw new Error("unknown packet type "+e.type);if(e.type===z.BINARY_EVENT||e.type===z.BINARY_ACK){let r=i+1;for(;t.charAt(++i)!=="-"&&i!=t.length;);let s=t.substring(r,i);if(s!=Number(s)||t.charAt(i)!=="-")throw new Error("Illegal attachments");e.attachments=Number(s)}if(t.charAt(i+1)==="/"){let r=i+1;for(;++i&&!(t.charAt(i)===","||i===t.length););e.nsp=t.substring(r,i)}else e.nsp="/";let n=t.charAt(i+1);if(n!==""&&Number(n)==n){let r=i+1;for(;++i;){let s=t.charAt(i);if(s==null||Number(s)!=s){--i;break}if(i===t.length)break}e.id=Number(t.substring(r,i+1))}if(t.charAt(++i)){let r=this.tryParse(t.substr(i));if(o.isPayloadValid(e.type,r))e.data=r;else throw new Error("invalid payload")}return e}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,i){switch(t){case z.CONNECT:return Ls(i);case z.DISCONNECT:return i===void 0;case z.CONNECT_ERROR:return typeof i=="string"||Ls(i);case z.EVENT:case z.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&Jl.indexOf(i[0])===-1);case z.ACK:case z.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},io=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let i=Bs(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function _e(o,t,i){return o.on(t,i),function(){o.off(t,i)}}var Zl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),At=class extends F{constructor(t,i,e){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=i,e&&e.auth&&(this.auth=e.auth),this._opts=Object.assign({},e),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[_e(t,"open",this.onopen.bind(this)),_e(t,"packet",this.onpacket.bind(this)),_e(t,"error",this.onerror.bind(this)),_e(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...i){if(Zl.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(i.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;let e={type:z.EVENT,data:i};if(e.options={},e.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){let s=this.ids++,c=i.pop();this._registerAckCallback(s,c),e.id=s}let n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e)),this.flags={},this}_registerAckCallback(t,i){var e;let n=(e=this.flags.timeout)!==null&&e!==void 0?e:this._opts.ackTimeout;if(n===void 0){this.acks[t]=i;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);i.call(this,new Error("operation has timed out"))},n),s=(...c)=>{this.io.clearTimeoutFn(r),i.apply(this,c)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...i){return new Promise((e,n)=>{let r=(s,c)=>s?n(s):e(c);r.withError=!0,i.push(r),this.emit(t,...i)})}_addToQueue(t){let i;typeof t[t.length-1]=="function"&&(i=t.pop());let e={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...r)=>e!==this._queue[0]?void 0:(n!==null?e.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(n)):(this._queue.shift(),i&&i(null,...r)),e.pending=!1,this._drainQueue())),this._queue.push(e),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let i=this._queue[0];i.pending&&!t||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:z.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(e=>String(e.id)===t)){let e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case z.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case z.EVENT:case z.BINARY_EVENT:this.onevent(t);break;case z.ACK:case z.BINARY_ACK:this.onack(t);break;case z.DISCONNECT:this.ondisconnect();break;case z.CONNECT_ERROR:this.destroy();let e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e);break}}onevent(t){let i=t.data||[];t.id!=null&&i.push(this.ack(t.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let i=this._anyListeners.slice();for(let e of i)e.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let i=this,e=!1;return function(...n){e||(e=!0,i.packet({type:z.ACK,id:t,data:n}))}}onack(t){let i=this.acks[t.id];typeof i=="function"&&(delete this.acks[t.id],i.withError&&t.data.unshift(null),i.apply(this,t.data))}onconnect(t,i){this.id=t,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:z.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let i=this._anyListeners;for(let e=0;e<i.length;e++)if(t===i[e])return i.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let i=this._anyOutgoingListeners;for(let e=0;e<i.length;e++)if(t===i[e])return i.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let i=this._anyOutgoingListeners.slice();for(let e of i)e.apply(this,t.data)}}};function ct(o){o=o||{},this.ms=o.min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}ct.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*o);o=Math.floor(t*10)&1?o+i:o-i}return Math.min(o,this.max)|0};ct.prototype.reset=function(){this.attempts=0};ct.prototype.setMin=function(o){this.ms=o};ct.prototype.setMax=function(o){this.max=o};ct.prototype.setJitter=function(o){this.jitter=o};var kt=class extends F{constructor(t,i){var e;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(i=t,t=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,De(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((e=i.randomizationFactor)!==null&&e!==void 0?e:.5),this.backoff=new ct({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=t;let n=i.parser||no;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var i;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(i=this.backoff)===null||i===void 0||i.setMin(t),this)}randomizationFactor(t){var i;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(i=this.backoff)===null||i===void 0||i.setJitter(t),this)}reconnectionDelayMax(t){var i;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(i=this.backoff)===null||i===void 0||i.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tn(this.uri,this.opts);let i=this.engine,e=this;this._readyState="opening",this.skipReconnect=!1;let n=_e(i,"open",function(){e.onopen(),t&&t()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},s=_e(i,"error",r);if(this._timeout!==!1){let c=this._timeout,h=this.setTimeoutFn(()=>{n(),r(new Error("timeout")),i.close()},c);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(n),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(_e(t,"ping",this.onping.bind(this)),_e(t,"data",this.ondata.bind(this)),_e(t,"error",this.onerror.bind(this)),_e(t,"close",this.onclose.bind(this)),_e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(i){this.onclose("parse error",i)}}ondecoded(t){at(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,i){let e=this.nsps[t];return e?this._autoConnect&&!e.active&&e.connect():(e=new At(this,t,i),this.nsps[t]=e),e}_destroy(t){let i=Object.keys(this.nsps);for(let e of i)if(this.nsps[e].active)return;this._close()}_packet(t){let i=this.encoder.encode(t);for(let e=0;e<i.length;e++)this.engine.write(i[e],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let i=this.backoff.duration();this._reconnecting=!0;let e=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},i);this.opts.autoUnref&&e.unref(),this.subs.push(()=>{this.clearTimeoutFn(e)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var ci={};function li(o,t){typeof o=="object"&&(t=o,o=void 0),t=t||{};let i=Rs(o,t.path||"/socket.io"),e=i.source,n=i.id,r=i.path,s=ci[n]&&r in ci[n].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||s,h;return c?h=new kt(e,t):(ci[n]||(ci[n]=new kt(e,t)),h=ci[n]),i.query&&!t.query&&(t.query=i.queryKey),h.socket(i.path,t)}Object.assign(li,{Manager:kt,Socket:At,io:li,connect:li});var Us=(()=>{let t=class t{constructor(){this._getMessage=new So(void 0),this.connect()}connect(){this.socket=li(Do.baseurl),this.socket.on("connect",()=>{console.log("Connected to the server")}),this.socket.on("disconnect",()=>{console.log("Disconnected from the server")}),this.socket.on("message",e=>{this._getMessage.next(e),this._getMessage.next(void 0)})}sendMessage(e){this.socket.emit("message",e)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var ed=o=>({"animated-circle":o}),nn=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-timer"]],inputs:{time:"time"},standalone:!0,features:[Ge],decls:2,vars:4,consts:[[1,"timer",3,"ngClass"]],template:function(n,r){n&1&&(p(0,"div",0),g(1),d()),n&2&&(y("ngClass",ae(2,ed,r.time<4&&r.time>0)),m(),Z(" ",r.time,`
`))},dependencies:[vt,Ie],styles:[".timer[_ngcontent-%COMP%]{width:80px;height:80px;background-color:transparent;border-radius:50%;position:absolute;top:0;right:1%;font-size:3em;padding:0 .4em;color:#fff;border:solid 3px;font-family:orbitron-medium}.animated-circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_colorChange 1s infinite}@media screen and (max-width: 768px){.timer[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2em;padding:.2em .5em;font-family:orbitron-medium;margin-top:5px}}@media screen and (min-width: 768px){.animated-circle[_ngcontent-%COMP%]{animation:none}}@keyframes _ngcontent-%COMP%_colorChange{0%,to{background-color:transparent}50%{background-color:red}}@media screen and (max-height: 500px){.timer[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2em;padding:.2em .5em;font-family:orbitron-medium;margin-top:5px}}"]});let o=t;return o})();var di=o=>({green:o});function id(o,t){if(o&1&&(S(0,"div",9)(1,"div",9)(2,"div",9)(3,"div",9)(4,"div",9),g(5," \xA0 ")),o&2){let i=f(2);y("ngClass",ae(5,di,i.user.lives>=1)),m(),y("ngClass",ae(7,di,i.user.lives>=2)),m(),y("ngClass",ae(9,di,i.user.lives>=3)),m(),y("ngClass",ae(11,di,i.user.lives>=4)),m(),y("ngClass",ae(13,di,i.user.lives==5))}}function nd(o,t){if(o&1){let i=R();p(0,"div",0),S(1,"img",5),g(2,"\xA0 "),S(3,"i",6),g(4),T(5,id,6,15),S(6,"i",7),g(7),p(8,"button",8),M("click",function(){v(i);let n=f();return C(n.confirmExit())}),g(9,"Exit"),d()()}if(o&2){let i=f();m(),G("src",i.user.image,H),m(3),Oe("\xA0",i.user.points," | ",i.user.daily_high?i.user.daily_high:i.user.points," \xA0 "),m(),J(5,i.show_lives?5:-1),m(2),Z("\xA0",i.active_players," ")}}function od(o,t){if(o&1){let i=R();p(0,"div",10)(1,"em"),S(2,"i",7),g(3),d(),p(4,"button",8),M("click",function(){v(i);let n=f();return C(n.confirmExit())}),g(5,"Exit"),d()()}if(o&2){let i=f();m(3),Z("\xA0\xA0Total Daily Plays: ",i.active_players,"")}}function rd(o,t){if(o&1){let i=R();p(0,"div",11)(1,"button",12),M("click",function(){v(i);let n=f();return C(n.closeModal("confirmExitModal"))}),S(2,"i",13),d(),p(3,"h1",14),g(4,"Are you sure you want to exit the game?"),d(),p(5,"div",15)(6,"button",16),M("click",function(){v(i);let n=f();return C(n.exitGame())}),g(7,"YES"),d(),S(8,"br")(9,"br"),p(10,"button",16),M("click",function(){v(i);let n=f();return C(n.closeModal("confirmExitModal"))}),g(11,"NO"),d()()()}}var on=(()=>{let t=class t{constructor(e){this.router=e}ngOnChanges(e){this.number_of_users=10+Math.round(Math.random()*10)}confirmExit(){$("#confirmExitModal").modal("show")}exitGame(){$("#confirmExitModal").modal("hide"),this.user.account_type=="player"?this.router.navigate(["user/user-dashboard"]):this.router.navigate(["business/business-dashboard"])}closeModal(e){$("#"+e).modal("hide")}};t.\u0275fac=function(n){return new(n||t)(k(be))},t.\u0275cmp=V({type:t,selectors:[["app-user-stats"]],inputs:{user:"user",counter:"counter",active_players:"active_players",show_lives:"show_lives"},standalone:!0,features:[me,Ge],decls:6,vars:2,consts:[[1,"user_stats"],["id","confirmExitModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],[1,"user_image",3,"src"],[1,"fa-solid","fa-arrow-trend-up","trend_icon"],[1,"fa-solid","fa-user","user_icon"],[1,"btn","btn-default","button_primary","button_exit",3,"click"],[1,"life_circle",3,"ngClass"],[1,"game_stats"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"modal_title"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-default","button_primary",3,"click"]],template:function(n,r){n&1&&(T(0,nd,10,5,"div",0)(1,od,6,1),p(2,"div",1)(3,"div",2)(4,"div",3),T(5,rd,12,0,"div",4),d()()()),n&2&&(J(0,r.user.account_type=="player"?0:1),m(5),y("ngIf",r.user))},dependencies:[vt,Ie,fe],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_stats[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;padding:0 10px 20px}.life_circle[_ngcontent-%COMP%]{width:12px;height:12px;display:inline-block;border-radius:50%;background-color:red;margin:0 1px;vertical-align:middle}.green[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.trend_icon[_ngcontent-%COMP%]{color:#adff2f;font-size:18px}.game_stats[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;padding:1% 0 0 1%}.user_icon[_ngcontent-%COMP%]{color:#3cf;font-size:20px}.user_image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%;display:inline-block}.button_exit[_ngcontent-%COMP%]{font-size:16px;padding:0 10px;min-width:auto;display:inline-block;margin:0 7px}@media screen and (max-height: 500px){.game_stats[_ngcontent-%COMP%]{font-size:1em}}']});let o=t;return o})();var rn=(()=>{let t=class t{ngOnChanges(e){var n=Math.floor(Math.random()*this.banners.length);n==this.banners.length&&(n-=1),this.banner="https://sportzbattle.blob.core.windows.net/advertisements/"+this.banners[n]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-question-footer4"]],inputs:{counter:"counter",venue_id:"venue_id",banners:"banners"},standalone:!0,features:[me,Ge],decls:11,vars:6,consts:[[1,"banner",3,"src"],[1,"row","join_container"],[1,"col-12","col-md-6","qrcode_container"],[1,"join_text"],[1,"text-center"],[3,"qrdata","width","margin","errorCorrectionLevel"],[1,"join_url"],[1,"col-12","col-md-6","logo_container"],["src","../../../assets/images/logo.png",1,"logo_with_words"]],template:function(n,r){n&1&&(S(0,"img",0),p(1,"div",1)(2,"div",2)(3,"div",3),g(4,"Join the battle and win money. Its FREE!!!"),d(),p(5,"div",4),S(6,"qrcode",5),d(),p(7,"div",6),g(8),d()(),p(9,"div",7),S(10,"img",8),d()()),n&2&&(G("src",r.banner,H),m(6),y("qrdata","sptzba.com/join/"+r.venue_id)("width",175)("margin",2)("errorCorrectionLevel","M"),m(2),A("sptzba.com/join/"+r.venue_id))},dependencies:[Ui,Ni],styles:[".join_container[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin:3% 0;padding-bottom:2%;width:100%;height:20vh}.join_text[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;text-align:center;padding:0 0 1.5%;font-family:orbitron-medium}.join_url[_ngcontent-%COMP%]{color:#ff0;font-size:1.5em;font-family:roboto-bold;text-align:center;padding-top:1.5%}.logo_with_words[_ngcontent-%COMP%]{height:100%;margin:auto;display:block;object-fit:contain}.qrcode_container[_ngcontent-%COMP%]{height:100%}.qr_code[_ngcontent-%COMP%]{height:60%;margin:auto;display:block}.logo_container[_ngcontent-%COMP%]{height:100%}.logo_words_container[_ngcontent-%COMP%]{display:none}.logo_words[_ngcontent-%COMP%]{width:80%;margin:auto;display:block}.button_invite_friend[_ngcontent-%COMP%]{background-color:#b30000;color:#fff;font-family:orbitron-medium;font-size:20px}.invite_friend_container[_ngcontent-%COMP%]{display:none}.banner[_ngcontent-%COMP%]{height:8%;margin:1% auto;display:block}@media screen and (max-width: 768px){.logo_with_words[_ngcontent-%COMP%]{display:none}.join_text[_ngcontent-%COMP%]{padding-top:0}.join_url[_ngcontent-%COMP%]{font-size:1em}.logo_words_container[_ngcontent-%COMP%]{display:block}.qrcode_container[_ngcontent-%COMP%], .logo_container[_ngcontent-%COMP%]{display:none}.join_container[_ngcontent-%COMP%]{height:auto}.invite_friend_container[_ngcontent-%COMP%]{display:block}.banner[_ngcontent-%COMP%]{width:100%;height:auto;margin:3% auto}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:3%}.join_container[_ngcontent-%COMP%]{margin:2% 0}}@media screen and (max-height: 500px){.join_text[_ngcontent-%COMP%], .join_url[_ngcontent-%COMP%]{font-size:.75em}}"]});let o=t;return o})();var Ds=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-splash"]],decls:9,vars:0,consts:[["src","../../../assets/images/logo.png",1,"logo"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[2,"position","relative"],[1,"hero_text"],[1,"loading"],[1,"est"]],template:function(n,r){n&1&&(S(0,"img",0)(1,"img",1),p(2,"div",2)(3,"p",3),g(4,"Battle On"),d(),p(5,"div",4),g(6,"Loading..."),d(),p(7,"div",5),g(8,"Est. 2024"),d()())},styles:[".logo[_ngcontent-%COMP%]{width:100%;max-height:50%;margin:auto;display:block;object-fit:contain;padding-top:5%;animation:_ngcontent-%COMP%_blurToClear 3s ease-out forwards}@keyframes _ngcontent-%COMP%_blurToClear{0%{filter:blur(15px)}to{filter:blur(0px)}}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:100%;max-width:760px}.hero_text[_ngcontent-%COMP%]{color:#fff;font-size:2em;text-align:center;font-family:orbitron-bold;padding:0 10px}.loading[_ngcontent-%COMP%]{font-family:orbitron-regular;font-size:1.2em;text-align:center;color:#fff}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%]{width:90%;padding-top:35px}.logo_words[_ngcontent-%COMP%]{width:90%}.hero_text[_ngcontent-%COMP%]{font-size:1.6em}}.est[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:calc(50% - 45px);color:#fff;font-family:orbitron-bold}@media screen and (max-height: 500px){.logo[_ngcontent-%COMP%]{max-height:45%;width:auto;padding-top:35px}.logo_words[_ngcontent-%COMP%]{width:70%}.hero_text[_ngcontent-%COMP%]{font-size:1.2em}}"]});let o=t;return o})();var ld=(o,t)=>t.user_id;function dd(o,t){if(o&1&&(p(0,"div",6),g(1),d()),o&2){let i=f();m(),A(i.countdown)}}function pd(o,t){o&1&&(p(0,"div"),g(1,"$50"),d())}function hd(o,t){o&1&&(p(0,"div"),g(1,"$25"),d())}function ud(o,t){o&1&&(p(0,"div"),g(1,"$15"),d())}function md(o,t){o&1&&(p(0,"div"),g(1,"$10"),d())}function gd(o,t){o&1&&(p(0,"div"),g(1,"$0"),d())}function fd(o,t){if(o&1&&(p(0,"tr")(1,"td",3),g(2),d(),p(3,"td",4),S(4,"img",7),g(5),d(),p(6,"td",3),g(7),d(),p(8,"td",3),T(9,pd,2,0,"div",8)(10,hd,2,0,"div",8)(11,ud,2,0,"div",8)(12,md,2,0,"div",8)(13,gd,2,0,"div",8),d()()),o&2){let i=t.$implicit;m(2),A(i.position),m(2),G("src",i.image,H),m(),Z("\xA0\xA0\xA0",i.username," "),m(2),A(i.max_score),m(2),y("ngIf",i.position==1),m(),y("ngIf",i.position==2),m(),y("ngIf",i.position==3),m(),y("ngIf",i.position==4),m(),y("ngIf",i.position>4)}}var Fs=(()=>{let t=class t{constructor(e,n){this.userService=e,this.commonService=n,this.is_mobile=window.innerWidth<768,this.users_o=[],this.games=[],this.players=[],this.data_ready=!1,this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight()}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(n=>{this.user=n,this.loadData()}),this.position_label=this.is_mobile?"Pos.":"Position",this.points_label=this.is_mobile?"Pts.":"Points",this.winnings_label=this.is_mobile?"PW":"Potential Winnings",this.users=this.users_o.slice(0,5),setTimeout(()=>{this.users=this.users_o.slice(5,10)},7e3),this.countdown_interval=setInterval(()=>{this.countdown=this.timeUntil3AMET()},1e3);var e=Math.floor(Math.random()*this.banners.length);e==this.banners.length&&(e-=1),this.banner="https://sportzbattle.blob.core.windows.net/advertisements/"+this.banners[e]}ngOnDestroy(){clearInterval(this.countdown_interval)}loadData(){this.userService.getAllGames().subscribe(e=>{this.games=e.filter(n=>n.timestamp>=this.daily_start_time),this.filterPlayers()})}filterPlayers(){this.data_ready=!1,this.players=[],this.games.forEach(e=>{var n=this.players.find(r=>r.user_id==e.user_id);n||this.players.push({user_id:e.user_id,username:e.username,image:e.user_image})}),this.players.forEach(e=>{var n=this.games.filter(c=>c.user_id==e.user_id);e.games=n.length;var r=0,s=0;n.forEach(c=>{r+=c.score?c.score:0}),n.forEach(c=>{c.score>s&&(s=c.score)}),e.points=r,e.max_score=s}),this.players=this.players.sort((e,n)=>e.score-n.score),this.players.forEach((e,n)=>{e.position=n+1}),this.data_ready=!0}timeUntil3AMET(){let e=new Date,n=4;var r=new Date(e.getTime()+n*60*60*1e3),s=new Date(r);s.setHours(3,0,0,0),r.getHours()>=3&&s.setDate(s.getDate()+1);var c=s-r,h=Math.floor(c/(1e3*60*60)),x=Math.floor(c%(1e3*60*60)/(1e3*60)),w=Math.floor(c%(1e3*60)/1e3),O,E;return O=x<10?"0"+x:x,E=w<10?"0"+w:w,this.is_mobile==!0?`${h}:${O}::${E}`:`${h} hrs, ${x} min, ${w} sec`}};t.\u0275fac=function(n){return new(n||t)(k(ze),k(Re))},t.\u0275cmp=V({type:t,selectors:[["app-leaderboard-table"]],inputs:{banners:"banners"},decls:18,vars:5,consts:[["class","countdown",4,"ngIf"],[1,"title"],[1,"table","leaderboard_table"],[1,"tc",2,"text-align","center"],[1,"tc"],[1,"banner",3,"src"],[1,"countdown"],[1,"user_image",3,"src"],[4,"ngIf"]],template:function(n,r){n&1&&(T(0,dd,2,1,"div",0),p(1,"div",1),g(2,"Daily Leaderboard"),d(),p(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),g(7),d(),p(8,"th",4),g(9,"Player"),d(),p(10,"th",3),g(11),d(),p(12,"th",3),g(13),d()()(),p(14,"tbody"),_t(15,fd,14,9,"tr",null,ld),d()(),S(17,"img",5)),n&2&&(y("ngIf",r.countdown),m(7),A(r.position_label),m(4),A(r.points_label),m(2),A(r.winnings_label),m(2),xt(r.players),m(2),G("src",r.banner,H))},dependencies:[fe],styles:[".tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:1.2em;font-family:orbitron-medium}.leaderboard_table[_ngcontent-%COMP%]{width:80%;margin:auto}.title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:4em;color:#fff;text-align:center;padding:2% 0}.user_image[_ngcontent-%COMP%]{width:2.5em;border-radius:50%;height:2.5em;object-fit:cover}.countdown[_ngcontent-%COMP%]{text-align:right;font-size:1.5em;color:#fff;font-style:italic;padding:.5% 1.5%;position:absolute;top:1%;right:1%;background-color:red;font-family:orbitron-medium}.banner[_ngcontent-%COMP%]{width:80%;margin:2% auto;display:block}@media screen and (max-width: 768px){.tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:.8em}.title[_ngcontent-%COMP%]{font-size:2em}.leaderboard_table[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.countdown[_ngcontent-%COMP%]{font-size:1em}.banner[_ngcontent-%COMP%]{width:100%;max-width:none}}@media screen and (max-height: 500px){.title[_ngcontent-%COMP%]{font-size:2em}.tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:.8em}}"]});let o=t;return o})();var qs=(()=>{let t=class t{ngOnInit(){var e=Math.floor(Math.random()*this.ads.length);e==this.ads.length&&(e-=1),this.advertisement="https://sportzbattle.blob.core.windows.net/advertisements/"+this.ads[e]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-advertisement-page"]],inputs:{ads:"ads"},decls:1,vars:1,consts:[[1,"hero_image",3,"src"]],template:function(n,r){n&1&&S(0,"img",0),n&2&&G("src",r.advertisement,H)},styles:[".hero_image[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover}"]});let o=t;return o})();var Ws=(()=>{let t=class t{constructor(){this.countdown_timer=4}ngOnInit(){this.timerInterval=setInterval(()=>{this.countdown_timer-=1,this.countdown_timer<0&&(this.countdown_timer=0)},1e3);var e=Math.floor(Math.random()*this.banners.length);e==this.banners.length&&(e-=1),this.banner="https://sportzbattle.blob.core.windows.net/advertisements/"+this.banners[e]}ngOnDestroy(){clearInterval(this.timerInterval)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-prepare-screen"]],inputs:{banners:"banners"},decls:5,vars:2,consts:[[1,"countdown_timer"],["src","../../../assets/images/logo.png",1,"logo_prepare"],["src","../../../assets/images/logo_words.png",1,"logo_words_prepare"],[1,"banner",3,"src"]],template:function(n,r){n&1&&(p(0,"h1",0),g(1),d(),S(2,"img",1)(3,"img",2)(4,"img",3)),n&2&&(m(),A(r.countdown_timer),m(3),G("src",r.banner,H))},styles:[".countdown_timer[_ngcontent-%COMP%]{font-size:12em;color:#fff;font-family:roboto-bold;text-align:center;padding:1% 0}.logo_prepare[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words_prepare[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.banner[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:3% auto;display:block}@media screen and (max-width: 768px){.countdown_timer[_ngcontent-%COMP%]{font-size:10em;padding:2% 0}.logo_prepare[_ngcontent-%COMP%], .logo_words_prepare[_ngcontent-%COMP%]{width:80%}}@media screen and (max-height: 500px){.countdown_timer[_ngcontent-%COMP%]{font-size:5em;padding:2% 0}}"]});let o=t;return o})();var Hs=(()=>{let t=class t{constructor(e){this.router=e,this.playAgain=new ge}startAgain(){this.playAgain.emit()}gotoDashboard(){this.router.navigate(["user/user-dashboard"])}};t.\u0275fac=function(n){return new(n||t)(k(be))},t.\u0275cmp=V({type:t,selectors:[["app-game-over"]],outputs:{playAgain:"playAgain"},decls:11,vars:0,consts:[["src","../../../assets/images/logo.png",1,"logo",2,"padding-top","50px"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[1,"game_over"],[1,"text-center",2,"padding","30px 0"],[1,"btn","btn-default","play_again_button",3,"click"],[1,"btn","btn-default","dashboard_button",3,"click"]],template:function(n,r){n&1&&(S(0,"img",0)(1,"img",1),p(2,"div",2),g(3,"Game Over"),d(),S(4,"br"),p(5,"div",3)(6,"button",4),M("click",function(){return r.startAgain()}),g(7,"Play Again"),d(),S(8,"br"),p(9,"button",5),M("click",function(){return r.gotoDashboard()}),g(10,"Go to Dashboard"),d()())},styles:[".logo[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.game_over[_ngcontent-%COMP%]{color:#fff;font-size:2em;font-family:orbitron-bold;text-align:center}.play_again_button[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;font-size:1.5em;font-family:orbitron-medium;padding:10px 30px}.dashboard_button[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-medium;font-size:18px;padding:20px 0}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%], .logo_words[_ngcontent-%COMP%]{width:80%}}"]});let o=t;return o})();var js=(()=>{let t=class t{constructor(){this.message=window.innerWidth>=768?"Scan here and play for free. You just may win some money!":"Share with a friend!"}ngOnInit(){this.width=window.innerWidth/2>350?350:window.innerWidth/2,this.getBanner()}ngOnChanges(e){this.getBanner()}getBanner(){var e=Math.floor(Math.random()*this.banners.length);e==this.banners.length&&(e-=1),this.banner="https://sportzbattle.blob.core.windows.net/advertisements/"+this.banners[e]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-qrcode"]],inputs:{banners:"banners",venue_id:"venue_id"},features:[me],decls:7,vars:7,consts:[[1,"join_text"],[1,"text-center",2,"padding","40px 0"],[3,"qrdata","width","margin","errorCorrectionLevel"],[1,"join_url"],[1,"banner",3,"src"]],template:function(n,r){n&1&&(p(0,"div",0),g(1),d(),p(2,"div",1),S(3,"qrcode",2),d(),p(4,"div",3),g(5),d(),S(6,"img",4)),n&2&&(m(),A(r.message),m(2),y("qrdata","sptzba.com/join/"+r.venue_id)("width",r.width)("margin",2)("errorCorrectionLevel","M"),m(2),A("sptzba.com/join/"+r.venue_id),m(),G("src",r.banner,H))},dependencies:[Ni],styles:[".join_container[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin:3% 0;padding-bottom:2%;width:100%;height:20vh}.join_text[_ngcontent-%COMP%]{font-size:2em;color:#fff;text-align:center;padding:40px 0 1.5%;font-family:orbitron-medium}.join_url[_ngcontent-%COMP%]{color:#ff0;font-size:2em;font-family:roboto-bold;text-align:center;padding:20px 0}.banner[_ngcontent-%COMP%]{height:8%;margin:1% auto;display:block}.qrcode[_ngcontent-%COMP%]{padding:40px 0}@media screen and (max-width: 768px){.banner[_ngcontent-%COMP%]{width:100%;height:auto;margin:3% auto}.join_text[_ngcontent-%COMP%], .join_url[_ngcontent-%COMP%]{font-size:2em}}"]});let o=t;return o})();var yd=(o,t)=>t.text,wd=(o,t,i)=>({greenyellow:o,red:t,invisible:i});function Md(o,t){if(o&1&&(p(0,"div",9),g(1),d()),o&2){let i=f(3);m(),Z("+",i.points_value,"")}}function Sd(o,t){if(o&1&&S(0,"app-timer",10),o&2){let i=f(3);y("time",i.time)}}function Ed(o,t){if(o&1&&(p(0,"div",11)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function Od(o,t){if(o&1&&(p(0,"div",11)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function Pd(o,t){if(o&1&&(p(0,"div",12)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function Td(o,t){if(o&1&&(p(0,"div",12)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function Ad(o,t){if(o&1&&(p(0,"div",13)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function kd(o,t){if(o&1&&(p(0,"div",13)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function Id(o,t){if(o&1&&(p(0,"div",14)(1,"em"),g(2),d()()),o&2){let i=f(3);m(2),A(i.question_notification)}}function Rd(o,t){if(o&1){let i=R();p(0,"div",7)(1,"div",15),M("click",function(){let n=v(i).$implicit,r=f(3);return C(r.answerSelected(n))}),g(2),d()()}if(o&2){let i=t.$implicit,e=f(3);m(),y("ngClass",zo(2,wd,i.show_green,i.show_red,e.time_is_up==!0&&i.is_right_answer==!1)),m(),Z(" ",i.text,"")}}function zd(o,t){if(o&1&&S(0,"app-question-footer4",8),o&2){let i=f(3);y("counter",i.counter)("venue_id",i.user.venue_id)("banners",i.banners)}}function Vd(o,t){if(o&1&&(S(0,"app-user-stats",1),T(1,Md,2,1,"div",2)(2,Sd,1,1,"app-timer",3),p(3,"div",4)(4,"div",5),g(5),d(),T(6,Ed,3,1)(7,Od,3,1)(8,Pd,3,1)(9,Td,3,1)(10,Ad,3,1)(11,kd,3,1)(12,Id,3,1),p(13,"div",6),_t(14,Rd,3,6,"div",7,yd),d()(),T(16,zd,1,3,"app-question-footer4",8)),o&2){let i,e=f(2);y("user",e.user)("counter",e.counter)("show_lives",!0)("active_players",e.active_players),m(),y("ngIf",e.show_point_animation),m(),y("ngIf",e.show_timer),m(3),A(e.message.question),m(),J(6,(i=e.message.value_points)===10?6:i===20?7:i===30?8:i===40?9:i===50?10:i===60?11:i===70?12:-1),m(8),xt(e.options),m(2),J(16,e.banners?16:-1)}}function Bd(o,t){if(o&1&&S(0,"app-user-stats",16)(1,"app-leaderboard-table",17),o&2){let i=f(2);y("user",i.user)("show_lives",!1)("active_players",i.active_players),m(),y("banners",i.banners)}}function Ld(o,t){if(o&1&&S(0,"app-advertisement-page",18),o&2){let i=f(2);y("ads",i.ads)}}function Nd(o,t){if(o&1&&S(0,"app-qrcode",19),o&2){let i=f(2);y("banners",i.banners)("venue_id",i.user.venue_id)}}function Ud(o,t){if(o&1&&S(0,"app-prepare-screen",17),o&2){let i=f(2);y("banners",i.banners)}}function Dd(o,t){if(o&1){let i=R();p(0,"app-game-over",20),M("playAgain",function(){v(i);let n=f(2);return C(n.playAgain())}),d()}}function Fd(o,t){if(o&1&&T(0,Vd,17,9)(1,Bd,2,4)(2,Ld,1,1)(3,Nd,1,2)(4,Ud,1,1)(5,Dd,1,0),o&2){let i=f();J(0,i.page=="game"?0:i.page=="leaderboard"?1:i.page=="advertisement"&&i.ads?2:i.page=="qrcode"?3:i.page=="prepare_screen"?4:i.page=="game_over"?5:-1)}}function qd(o,t){o&1&&S(0,"app-splash")}var Ys=(()=>{let t=class t{constructor(e,n,r,s,c,h){this.socketioService=e,this.commonService=n,this.userService=r,this.tablesService=s,this.myblobService=c,this.router=h,this.options=[],this.has_joined=!1,this.page="game",this.debug=!1,this.show_timer=!1,this.time_is_up=!1,this.ads=[],this.show_point_animation=!1,this.points_value=0,this.screen_width=window.innerWidth,this.question_active=!1,this.users=[],this.start_timestamp=Date.now(),this.counter=0,this.cycle_counter=1,this.game_is_active=!1}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.user.lives=5,this.user.points=0,this.user.rank=3,this.user.account_type=="player"?(this.createGame(),this.getUserDailyHighScore()):this.user.account_type=="business"&&this.loadScreens(),this.loadAdvertisements()}),this.subscribeToSocket()}loadScreens(){this.tablesService.GetFiltered("screens","venue_id",this.user.venue_id).subscribe(e=>{var n=e,r=window.innerWidth+" x "+window.innerHeight,s=n.find(h=>h.dimensions==r);if(!s){var c={venue_id:this.user.venue_id,dimensions:r};this.tablesService.AddItem("screens",c).subscribe()}})}ngOnDestroy(){this.messagesSubscription&&this.messagesSubscription.unsubscribe(),this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}subscribeToSocket(){this.messagesSubscription=this.socketioService._getMessage.subscribe(e=>{var n=Date.now()-this.start_timestamp;if(e&&n>5e3){if(clearInterval(this.timerInterval),this.user.lives<=0){this.gameOver();return}this.message=e,this.has_joined=!0,this.message.message=="leaderboard"?this.page="leaderboard":this.message.message=="advertisement"?(this.page="advertisement",this.cycle_counter+=1):this.message.message=="qrcode"?this.page="qrcode":this.message.message=="question"&&(this.counter+=1,this.page="prepare_screen",this.question_notification=this.message.value_points+" Pts",setTimeout(()=>{this.page="game",this.time_is_up=!1,this.has_joined=!0,this.question_active=!0,this.message.question=this.commonService.decrypt("sb",e.question),this.right_answer=this.commonService.decrypt("sb",e.key),this.options=[],this.message.answers.forEach(s=>{this.options.push({text:s,is_right_answer:s==this.right_answer})}),this.time=7,this.show_timer=!0;var r=0;this.timerInterval=setInterval(()=>{if(this.time-=1,r+=1,this.time<0&&(this.time=0,this.time_is_up=!0,this.question_active==!0&&this.answerSelected(void 0)),r==9&&this.tablesService.GetFiltered("user_activity","question_id",this.message.question_id).subscribe(s=>{var c=Date.now()-11e3,h=s.filter(O=>O.timestamp_question>c),x=0;h.forEach(O=>{O.got_it_right==1&&x++});var w={message:"results",percent:Math.round(100*x/h.length),got_right:x,total_players:h.length};h.length>0&&(this.question_notification=w.percent+"% answered correctly"),this.active_players=w.total_players}),r==11&&this.user.lives<=0){this.gameOver();return}},1e3)},4e3))}})}answerSelected(e){this.user.account_type=="business"||this.question_active==!1||(this.question_active=!1,e?.text==this.right_answer?(e.show_green=!0,this.user.points+=this.message.value_points,this.points_value=this.message.value_points,this.show_point_animation=!0,this.updateGameRecord(),this.storeAnswer(!0),setTimeout(()=>{this.show_point_animation=!1},1500)):(e&&(e.show_red=!0),this.storeAnswer(!1),this.user.lives-=1),this.stopTimer())}gameOver(){this.page="game_over",this.game_is_active=!1,clearInterval(this.timerInterval),this.messagesSubscription&&this.messagesSubscription.unsubscribe()}updateGameRecord(){var e={game_id:this.game_id,score:this.user.points};this.tablesService.UpdateItem("games","game_id",e).subscribe()}stopTimer(){this.show_timer=!1}playAgain(){this.user.lives=5,this.has_joined=!1,this.page="game",this.getUserDailyHighScore(),this.subscribeToSocket()}storeAnswer(e){if(this.game_is_active==!0){var n={user_id:this.user.user_id,got_it_right:e,game_id:this.game_id,question_id:this.message.question_id};this.tablesService.StoreUserActivity(n).subscribe()}}createGame(){var e={user_id:this.user.user_id,venue_id:1,timestamp:Date.now(),score:0,dimensions:window.innerWidth+" x "+window.innerHeight};this.tablesService.AddItem("games",e).subscribe(n=>{this.game_id=n.id,this.game_is_active=!0})}getUserDailyHighScore(){this.userService.getUserDailyHighScore(this.user.user_id).subscribe(e=>{var n=e[0];n&&(this.user.daily_high=n.score)})}loadAdvertisements(){this.myblobService.getActiveFiles().subscribe(e=>{this.screen_width<540?this.ads=e.filter(n=>n.indexOf("/mobile/")>-1):this.ads=e.filter(n=>n.indexOf("/desktop/")>-1),this.banners=e.filter(n=>n.indexOf("/banner/")>-1)})}};t.\u0275fac=function(n){return new(n||t)(k(Us),k(Re),k(ze),k(Si),k(Ei),k(be))},t.\u0275cmp=V({type:t,selectors:[["app-game-screen"]],decls:3,vars:1,consts:[[1,"game_screen"],[3,"user","counter","show_lives","active_players"],["class","points_animation",4,"ngIf"],[3,"time",4,"ngIf"],[1,"question_container"],[1,"question"],[1,"row"],[1,"col-12","col-md-6"],[3,"counter","venue_id","banners"],[1,"points_animation"],[3,"time"],[1,"question_value","blue"],[1,"question_value","green"],[1,"question_value","orange"],[1,"question_value","red"],[1,"option","op1",3,"click","ngClass"],[3,"user","show_lives","active_players"],[3,"banners"],[3,"ads"],[3,"banners","venue_id"],[3,"playAgain"]],template:function(n,r){n&1&&(p(0,"div",0),T(1,Fd,6,1)(2,qd,1,0),d()),n&2&&(m(),J(1,r.has_joined?1:2))},dependencies:[Ie,fe,nn,on,rn,Ds,Fs,qs,Ws,Hs,js],styles:[".game_screen[_ngcontent-%COMP%]{width:100%;height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative}.hero[_ngcontent-%COMP%]{height:calc(100vh - 100px);position:absolute;bottom:0;right:0}.message[_ngcontent-%COMP%]{position:absolute;top:50px;color:#fff}.question_value[_ngcontent-%COMP%]{text-align:center;padding:10px 15px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto}.green[_ngcontent-%COMP%]{background-color:green!important}.greenyellow[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.blue[_ngcontent-%COMP%]{background-color:#3cf!important}.orange[_ngcontent-%COMP%]{background-color:orange!important}.question_container[_ngcontent-%COMP%]{width:100%;display:block;padding:0% 5% 0;text-align:center;margin:0}.question[_ngcontent-%COMP%]{color:#fff;font-size:3.5em;margin:0 0 1%;min-height:150px}.option[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:2.5em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3;z-index:100}.advertisement_text[_ngcontent-%COMP%]{position:absolute;color:#fff;font-family:roboto-bold;font-size:4em;top:20%;right:20px;width:50%;text-align:center}.invisible[_ngcontent-%COMP%]{visibility:hidden}.points_animation[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;background:linear-gradient(45deg,#3cf,#000);color:#fff;top:27px;left:calc(50% + -0px);border-radius:50%;font-size:48px;padding:10px 4px;transform:translate(-50%);opacity:0;animation:_ngcontent-%COMP%_flash 1s ease-in-out forwards}.question[_ngcontent-%COMP%]{font-size:2.7em}.option[_ngcontent-%COMP%]{font-size:2.2em}@keyframes _ngcontent-%COMP%_flash{0%{opacity:1;transform:translate(-50%,-20px) scale(1.5)}50%{opacity:1;transform:translate(-50%) scale(1)}to{opacity:0;transform:translate(-50%,20px) scale(.5)}}@media screen and (max-width: 768px){.option[_ngcontent-%COMP%]{font-size:2em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3}.question[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin:0 0 2%;min-height:0px}.question_container[_ngcontent-%COMP%]{padding-top:10px}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:0%}.option[_ngcontent-%COMP%]{font-size:2em}}@media screen and (max-height: 500px){.question[_ngcontent-%COMP%]{font-size:1.7em}.option[_ngcontent-%COMP%]{font-size:1.25em;margin:15px 0}}"]});let o=t;return o})();var Wd=wi(Fo());function Hd(o,t){if(o&1&&S(0,"plotly-plot",3),o&2){let i=f();y("data",i.graph.data)("layout",i.graph.layout)("config",i.graph.config)}}yt.plotlyjs=Wd;var Qs=(()=>{let t=class t{constructor(){this.graph_data=[],this.ready=!1,this.graph={layout:{width:document.getElementById("myrow")?.offsetWidth,height:300,plot_bgcolor:"rgba(0,0,0,0)",paper_bgcolor:"rgba(0,0,0,0)",title:{text:"",font:{color:"white"}},xaxis:{title:{font:{color:"white"}},tickfont:{color:"white"}},yaxis:{title:{text:"High Score",font:{color:"white"}},tickfont:{color:"white"}}},config:{displayModeBar:!1,responsive:!0,editable:!1}}}ngOnChanges(){this.graph_data=[],this.graph.data=[{x:this.games.map(r=>r.date),y:this.games.map(r=>r.score),type:"bar",marker:{color:"33ccff"}}];var e=document.getElementById("myrow");if(e){var n=e.offsetWidth;this.graph.layout.width=n}this.ready=!0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-user-dashboard-graph"]],inputs:{games:"games"},features:[me],decls:4,vars:1,consts:[[1,"graph_container"],[1,"graph_title"],[3,"data","layout","config",4,"ngIf"],[3,"data","layout","config"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1),g(2,"Games History"),d(),T(3,Hd,1,3,"plotly-plot",2),d()),n&2&&(m(3),y("ngIf",r.ready))},dependencies:[fe,qo],styles:[".graph_container[_ngcontent-%COMP%]{position:relative}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:20px;color:#fff;text-align:center;position:absolute;top:50px;left:calc(50% - 82px)}"]});let o=t;return o})();function Yd(o,t){if(o&1&&(p(0,"div",12),g(1),d()),o&2){let i=f();m(),Oe("",i.stats.all_time_points_rank_suffix," out of ",i.stats.all_time_points_number_players,"")}}function Qd(o,t){o&1&&(p(0,"div",12),g(1,"-"),d())}function Gd(o,t){if(o&1&&(p(0,"div",12),g(1),d()),o&2){let i=f();m(),Oe("",i.stats.high_points_today_rank_suffix," out of ",i.stats.high_points_today_number_players,"")}}function Xd(o,t){o&1&&(p(0,"div",12),g(1,"-"),d())}function Kd(o,t){if(o&1&&(p(0,"div",12),g(1),d()),o&2){let i=f();m(),Oe("",i.stats.monthly_points_rank_suffix," out of ",i.stats.monthly_points_number_players,"")}}function Jd(o,t){o&1&&(p(0,"div",12),g(1,"-"),d())}function Zd(o,t){if(o&1&&(p(0,"div",12),g(1),d()),o&2){let i=f();m(),Oe("",i.stats.top_score_all_time_rank_suffix," out of ",i.stats.top_score_all_time_number_players,"")}}function $d(o,t){o&1&&(p(0,"div",12),g(1,"-"),d())}function ep(o,t){if(o&1&&(p(0,"div",12),g(1),d()),o&2){let i=f();m(),Oe("",i.stats.games_today_rank_suffix," out of ",i.stats.games_today_number_players,"")}}function tp(o,t){o&1&&(p(0,"div",12),g(1,"-"),d())}function ip(o,t){if(o&1&&(p(0,"div",12),g(1),d()),o&2){let i=f();m(),Oe("",i.stats.number_of_games_rank_suffix," out of ",i.stats.number_of_games_number_players,"")}}function np(o,t){o&1&&(p(0,"div",12),g(1,"-"),d())}var Gs=(()=>{let t=class t{constructor(e,n,r){this.userService=e,this.commonService=n,this.router=r,this.games=[],this.activity=[],this.stats={}}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.getData()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}getData(){this.userService.getUserStats(this.user.user_id).subscribe(e=>{this.stats=e}),this.userService.getUserActivity(this.user.user_id).subscribe(e=>{var n=e;this.activity=n,this.games=[],n.forEach(r=>{var s=this.games.find(h=>h.game_id==r.game_id);if(!s){var c={game_id:r.game_id,timestamp:r.timestamp,score:r.score};this.games.push(c)}}),this.games.forEach(r=>{r.date=this.commonService.getDateString(r.timestamp)})})}goPlay(){this.router.navigate(["user/play"])}};t.\u0275fac=function(n){return new(n||t)(k(ze),k(Re),k(be))},t.\u0275cmp=V({type:t,selectors:[["app-user-dashboard"]],decls:114,vars:31,consts:[[1,"background","backgroundx"],[1,"dashboard_contents"],[1,"user_details"],[1,"user_image",3,"src"],[1,"user_name"],[1,"text-end"],[1,"btn","btn-default","button_primary","play_now_button",3,"click"],[3,"games"],["id","myrow",1,"row","rowx"],[1,"col-6"],[1,"box_title"],[1,"box_number"],[1,"box_rank"],[1,"table_container"],[1,"table"],[1,"tc"]],template:function(n,r){n&1&&(S(0,"app-user-sidemenu"),p(1,"div",0)(2,"div",1)(3,"div",2),S(4,"img",3),p(5,"div",4),g(6),d(),p(7,"div",5)(8,"button",6),M("click",function(){return r.goPlay()}),g(9,"Play Now"),d()()(),S(10,"app-user-dashboard-graph",7),p(11,"div",8)(12,"div",9)(13,"div",10),g(14,"Total Points"),d(),p(15,"div",11),g(16),d(),T(17,Yd,2,2,"div",12)(18,Qd,2,0),d(),p(19,"div",9)(20,"div",10),g(21,"Daily High Points"),d(),p(22,"div",11),g(23),d(),T(24,Gd,2,2,"div",12)(25,Xd,2,0),d()(),p(26,"div",8)(27,"div",9)(28,"div",10),g(29,"Monthly Points"),d(),p(30,"div",11),g(31),d(),T(32,Kd,2,2,"div",12)(33,Jd,2,0),d(),p(34,"div",9)(35,"div",10),g(36,"All-time Top Score"),d(),p(37,"div",11),g(38),d(),T(39,Zd,2,2,"div",12)(40,$d,2,0),d()(),p(41,"div",8)(42,"div",9)(43,"div",10),g(44,"Today Games"),d(),p(45,"div",11),g(46),d(),T(47,ep,2,2,"div",12)(48,tp,2,0),d(),p(49,"div",9)(50,"div",10),g(51,"Total Games"),d(),p(52,"div",11),g(53),d(),T(54,ip,2,2,"div",12)(55,np,2,0),d()(),p(56,"div",13)(57,"table",14)(58,"thead")(59,"tr"),S(60,"th",15),p(61,"th",15),g(62,"Questions"),d(),p(63,"th",15),g(64,"Correct"),d(),p(65,"th",15),g(66,"Pct %"),d(),p(67,"th",15),g(68,"Ranking"),d()()(),p(69,"tbody")(70,"tr")(71,"td",15),g(72,"All"),d(),p(73,"td",15),g(74),d(),p(75,"td",15),g(76),d(),p(77,"td",15),g(78),d(),p(79,"td",15),g(80),d()(),p(81,"tr")(82,"td",15),g(83,"Basketball"),d(),p(84,"td",15),g(85),d(),p(86,"td",15),g(87),d(),p(88,"td",15),g(89),d(),p(90,"td",15),g(91),d()(),p(92,"tr")(93,"td",15),g(94,"Football"),d(),p(95,"td",15),g(96),d(),p(97,"td",15),g(98),d(),p(99,"td",15),g(100),d(),p(101,"td",15),g(102),d()(),p(103,"tr")(104,"td",15),g(105,"Baseball"),d(),p(106,"td",15),g(107),d(),p(108,"td",15),g(109),d(),p(110,"td",15),g(111),d(),p(112,"td",15),g(113),d()()()()()()()),n&2&&(m(4),G("src",r.user.image,H),m(2),A(r.user.name),m(4),y("games",r.games),m(6),A(r.stats.all_time_points),m(),J(17,r.stats.all_time_points_number_players>0&&r.stats.number_of_games>0?17:18),m(6),A(r.stats.high_points_today),m(),J(24,r.stats.high_points_today_number_players>0&&r.stats.games_today>0?24:25),m(7),A(r.stats.monthly_points),m(),J(32,r.stats.monthly_points_number_players>0&&r.stats.number_of_games>0?32:33),m(6),A(r.stats.top_score_all_time),m(),J(39,r.stats.top_score_all_time_number_players>0&&r.stats.number_of_games>0?39:40),m(7),A(r.stats.games_today),m(),J(47,r.stats.games_today_number_players>0&&r.stats.games_today>0?47:48),m(6),A(r.stats.number_of_games),m(),J(54,r.stats.number_of_games_number_players>0&&r.stats.number_of_games>0?54:55),m(20),A(r.stats.all_questions),m(2),A(r.stats.all_correct),m(2),Z("",r.stats.all_pct,"%"),m(2),A(r.stats.all_pct_rank_suffix),m(5),A(r.stats.all_nba),m(2),A(r.stats.nba_correct),m(2),Z("",r.stats.nba_pct,"%"),m(2),A(r.stats.nba_pct_rank_suffix),m(5),A(r.stats.all_nfl),m(2),A(r.stats.nfl_correct),m(2),Z("",r.stats.nfl_pct,"%"),m(2),A(r.stats.nfl_pct_rank_suffix),m(5),A(r.stats.all_mlb),m(2),A(r.stats.mlb_correct),m(2),Z("",r.stats.mlb_pct,"%"),m(2),A(r.stats.mlb_pct_rank_suffix))},dependencies:[bt,Qs],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_details[_ngcontent-%COMP%]{padding:60px 40px 0;position:relative;margin:auto;display:block}.dashboard_contents[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;display:block;padding-bottom:100px}.user_image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;display:inline-block}.user_name[_ngcontent-%COMP%]{font-size:20px;font-family:orbitron-bold;display:inline-block;vertical-align:middle;padding-left:20px;color:#fff}.box_title[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:24px;text-align:center;padding:7px 0;margin:auto}.box_number[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:20px;text-align:center;background-color:#3cf;padding:25px 0;border-radius:50%;width:80px;height:80px;margin:auto}.box_rank[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#fff;text-align:center}.rowx[_ngcontent-%COMP%]{margin:0;border-bottom:solid 1px white;padding-bottom:10px;padding-top:10px;border-top:solid 1px white}.play_now_button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.table_container[_ngcontent-%COMP%]{padding:30px 0}@media screen and (max-width: 768px){.backgroundx[_ngcontent-%COMP%]{padding:0}.box_title[_ngcontent-%COMP%]{max-width:166px}}']});let o=t;return o})();var op=[{path:"settings",component:rs},{path:"leaderboard",component:ss},{path:"play",component:Ys},{path:"user-dashboard",component:Gs}],Xs=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Cn.forChild(op),Cn]});let o=t;return o})();var rp=wi(Fo());yt.plotlyjs=rp;var Km=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[vt,Xs,Qo,Go,Ui,yt,Xo,Fi,nn,on,rn]});let o=t;return o})();export{Km as UserModule};
