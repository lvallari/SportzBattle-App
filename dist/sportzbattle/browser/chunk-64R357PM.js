import{a as it}from"./chunk-EEX7GSCU.js";import{a as cr,b as lr,c as Lt}from"./chunk-FTTSQ6IH.js";import{a as Fe,b as ur,c as mr,d as _r,e as gr,f as fr,g as xr,h as br,i as Cr,j as vr,k as yr,l as wr}from"./chunk-47FCQVHE.js";import{c as Hn,e as Wn,f as jn,k as dr,l as pr,m as hr}from"./chunk-RKL3FDUH.js";import{$a as oe,Aa as ut,B as Et,C as kt,Ca as h,Da as A,Ea as z,Fa as ie,Ga as X,H as L,Ha as K,I as Tt,Ia as J,K as ue,Ka as De,L as f,La as tr,M as x,Ma as V,Na as Fn,Oa as qn,Q as me,Ra as nr,Sa as ir,T as D,U as Ko,V as d,W as I,Xa as or,Z as It,Za as ce,_ as Jo,a as ze,b as jo,c as q,ca as M,cb as Rt,d as sc,da as Li,db as Vt,e as Nn,ea as C,f as Z,fa as At,ga as Dn,ha as $o,j as Go,ja as P,jb as rr,kb as zt,la as _e,lb as ar,ma as ge,n as Un,na as s,oa as a,ob as re,p as Yo,pa as b,q as sn,qa as Zo,qb as Bi,r as zi,ra as er,sa as E,sb as sr,ta as y,tb as Se,ua as _,ub as fe,vb as xe,w as Qo,wb as Gn,xa as H,y as Xo,ya as pt,za as ht}from"./chunk-RX5UJZF3.js";var Sr=q((dh,Mr)=>{"use strict";Mr.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ot=q(mt=>{"use strict";var Ni,cc=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];mt.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};mt.getSymbolTotalCodewords=function(n){return cc[n]};mt.getBCHDigit=function(o){let n=0;for(;o!==0;)n++,o>>>=1;return n};mt.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');Ni=n};mt.isKanjiModeEnabled=function(){return typeof Ni<"u"};mt.toSJIS=function(n){return Ni(n)}});var Yn=q(Te=>{"use strict";Te.L={bit:1};Te.M={bit:0};Te.Q={bit:3};Te.H={bit:2};function lc(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return Te.L;case"m":case"medium":return Te.M;case"q":case"quartile":return Te.Q;case"h":case"high":return Te.H;default:throw new Error("Unknown EC Level: "+o)}}Te.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4};Te.from=function(n,e){if(Te.isValid(n))return n;try{return lc(n)}catch{return e}}});var Er=q((uh,Pr)=>{"use strict";function Or(){this.buffer=[],this.length=0}Or.prototype={get:function(o){let n=Math.floor(o/8);return(this.buffer[n]>>>7-o%8&1)===1},put:function(o,n){for(let e=0;e<n;e++)this.putBit((o>>>n-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),o&&(this.buffer[n]|=128>>>this.length%8),this.length++}};Pr.exports=Or});var Tr=q((mh,kr)=>{"use strict";function cn(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}cn.prototype.set=function(o,n,e,t){let i=o*this.size+n;this.data[i]=e,t&&(this.reservedBit[i]=!0)};cn.prototype.get=function(o,n){return this.data[o*this.size+n]};cn.prototype.xor=function(o,n,e){this.data[o*this.size+n]^=e};cn.prototype.isReserved=function(o,n){return this.reservedBit[o*this.size+n]};kr.exports=cn});var Ir=q(Qn=>{"use strict";var dc=ot().getSymbolSize;Qn.getRowColCoords=function(n){if(n===1)return[];let e=Math.floor(n/7)+2,t=dc(n),i=t===145?26:Math.ceil((t-13)/(2*e-2))*2,r=[t-7];for(let c=1;c<e-1;c++)r[c]=r[c-1]-i;return r.push(6),r.reverse()};Qn.getPositions=function(n){let e=[],t=Qn.getRowColCoords(n),i=t.length;for(let r=0;r<i;r++)for(let c=0;c<i;c++)r===0&&c===0||r===0&&c===i-1||r===i-1&&c===0||e.push([t[r],t[c]]);return e}});var Vr=q(Rr=>{"use strict";var pc=ot().getSymbolSize,Ar=7;Rr.getPositions=function(n){let e=pc(n);return[[0,0],[e-Ar,0],[0,e-Ar]]}});var zr=q(j=>{"use strict";j.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var _t={N1:3,N2:3,N3:40,N4:10};j.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7};j.from=function(n){return j.isValid(n)?parseInt(n,10):void 0};j.getPenaltyN1=function(n){let e=n.size,t=0,i=0,r=0,c=null,p=null;for(let m=0;m<e;m++){i=r=0,c=p=null;for(let w=0;w<e;w++){let O=n.get(m,w);O===c?i++:(i>=5&&(t+=_t.N1+(i-5)),c=O,i=1),O=n.get(w,m),O===p?r++:(r>=5&&(t+=_t.N1+(r-5)),p=O,r=1)}i>=5&&(t+=_t.N1+(i-5)),r>=5&&(t+=_t.N1+(r-5))}return t};j.getPenaltyN2=function(n){let e=n.size,t=0;for(let i=0;i<e-1;i++)for(let r=0;r<e-1;r++){let c=n.get(i,r)+n.get(i,r+1)+n.get(i+1,r)+n.get(i+1,r+1);(c===4||c===0)&&t++}return t*_t.N2};j.getPenaltyN3=function(n){let e=n.size,t=0,i=0,r=0;for(let c=0;c<e;c++){i=r=0;for(let p=0;p<e;p++)i=i<<1&2047|n.get(c,p),p>=10&&(i===1488||i===93)&&t++,r=r<<1&2047|n.get(p,c),p>=10&&(r===1488||r===93)&&t++}return t*_t.N3};j.getPenaltyN4=function(n){let e=0,t=n.data.length;for(let r=0;r<t;r++)e+=n.data[r];return Math.abs(Math.ceil(e*100/t/5)-10)*_t.N4};function hc(o,n,e){switch(o){case j.Patterns.PATTERN000:return(n+e)%2===0;case j.Patterns.PATTERN001:return n%2===0;case j.Patterns.PATTERN010:return e%3===0;case j.Patterns.PATTERN011:return(n+e)%3===0;case j.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2===0;case j.Patterns.PATTERN101:return n*e%2+n*e%3===0;case j.Patterns.PATTERN110:return(n*e%2+n*e%3)%2===0;case j.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}j.applyMask=function(n,e){let t=e.size;for(let i=0;i<t;i++)for(let r=0;r<t;r++)e.isReserved(r,i)||e.xor(r,i,hc(n,r,i))};j.getBestMask=function(n,e){let t=Object.keys(j.Patterns).length,i=0,r=1/0;for(let c=0;c<t;c++){e(c),j.applyMask(c,n);let p=j.getPenaltyN1(n)+j.getPenaltyN2(n)+j.getPenaltyN3(n)+j.getPenaltyN4(n);j.applyMask(c,n),p<r&&(r=p,i=c)}return i}});var Di=q(Ui=>{"use strict";var rt=Yn(),Xn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Kn=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ui.getBlocksCount=function(n,e){switch(e){case rt.L:return Xn[(n-1)*4+0];case rt.M:return Xn[(n-1)*4+1];case rt.Q:return Xn[(n-1)*4+2];case rt.H:return Xn[(n-1)*4+3];default:return}};Ui.getTotalCodewordsCount=function(n,e){switch(e){case rt.L:return Kn[(n-1)*4+0];case rt.M:return Kn[(n-1)*4+1];case rt.Q:return Kn[(n-1)*4+2];case rt.H:return Kn[(n-1)*4+3];default:return}}});var Lr=q($n=>{"use strict";var ln=new Uint8Array(512),Jn=new Uint8Array(256);(function(){let n=1;for(let e=0;e<255;e++)ln[e]=n,Jn[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)ln[e]=ln[e-255]})();$n.log=function(n){if(n<1)throw new Error("log("+n+")");return Jn[n]};$n.exp=function(n){return ln[n]};$n.mul=function(n,e){return n===0||e===0?0:ln[Jn[n]+Jn[e]]}});var Br=q(dn=>{"use strict";var Fi=Lr();dn.mul=function(n,e){let t=new Uint8Array(n.length+e.length-1);for(let i=0;i<n.length;i++)for(let r=0;r<e.length;r++)t[i+r]^=Fi.mul(n[i],e[r]);return t};dn.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){let i=t[0];for(let c=0;c<e.length;c++)t[c]^=Fi.mul(e[c],i);let r=0;for(;r<t.length&&t[r]===0;)r++;t=t.slice(r)}return t};dn.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=dn.mul(e,new Uint8Array([1,Fi.exp(t)]));return e}});var Dr=q((vh,Ur)=>{"use strict";var Nr=Br();function qi(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}qi.prototype.initialize=function(n){this.degree=n,this.genPoly=Nr.generateECPolynomial(this.degree)};qi.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(n.length+this.degree);e.set(n);let t=Nr.mod(e,this.genPoly),i=this.degree-t.length;if(i>0){let r=new Uint8Array(this.degree);return r.set(t,i),r}return t};Ur.exports=qi});var Hi=q(Fr=>{"use strict";Fr.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}});var Wi=q(Ye=>{"use strict";var qr="[0-9]+",uc="[A-Z $%*+\\-./:]+",pn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";pn=pn.replace(/u/g,"\\u");var mc="(?:(?![A-Z0-9 $%*+\\-./:]|"+pn+`)(?:.|[\r
]))+`;Ye.KANJI=new RegExp(pn,"g");Ye.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ye.BYTE=new RegExp(mc,"g");Ye.NUMERIC=new RegExp(qr,"g");Ye.ALPHANUMERIC=new RegExp(uc,"g");var _c=new RegExp("^"+pn+"$"),gc=new RegExp("^"+qr+"$"),fc=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ye.testKanji=function(n){return _c.test(n)};Ye.testNumeric=function(n){return gc.test(n)};Ye.testAlphanumeric=function(n){return fc.test(n)}});var at=q(ae=>{"use strict";var xc=Hi(),ji=Wi();ae.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};ae.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};ae.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};ae.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};ae.MIXED={bit:-1};ae.getCharCountIndicator=function(n,e){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!xc.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?n.ccBits[0]:e<27?n.ccBits[1]:n.ccBits[2]};ae.getBestModeForData=function(n){return ji.testNumeric(n)?ae.NUMERIC:ji.testAlphanumeric(n)?ae.ALPHANUMERIC:ji.testKanji(n)?ae.KANJI:ae.BYTE};ae.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")};ae.isValid=function(n){return n&&n.bit&&n.ccBits};function bc(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return ae.NUMERIC;case"alphanumeric":return ae.ALPHANUMERIC;case"kanji":return ae.KANJI;case"byte":return ae.BYTE;default:throw new Error("Unknown mode: "+o)}}ae.from=function(n,e){if(ae.isValid(n))return n;try{return bc(n)}catch{return e}}});var Yr=q(gt=>{"use strict";var Zn=ot(),Cc=Di(),Hr=Yn(),st=at(),Gi=Hi(),jr=7973,Wr=Zn.getBCHDigit(jr);function vc(o,n,e){for(let t=1;t<=40;t++)if(n<=gt.getCapacity(t,e,o))return t}function Gr(o,n){return st.getCharCountIndicator(o,n)+4}function yc(o,n){let e=0;return o.forEach(function(t){let i=Gr(t.mode,n);e+=i+t.getBitsLength()}),e}function wc(o,n){for(let e=1;e<=40;e++)if(yc(o,e)<=gt.getCapacity(e,n,st.MIXED))return e}gt.from=function(n,e){return Gi.isValid(n)?parseInt(n,10):e};gt.getCapacity=function(n,e,t){if(!Gi.isValid(n))throw new Error("Invalid QR Code version");typeof t>"u"&&(t=st.BYTE);let i=Zn.getSymbolTotalCodewords(n),r=Cc.getTotalCodewordsCount(n,e),c=(i-r)*8;if(t===st.MIXED)return c;let p=c-Gr(t,n);switch(t){case st.NUMERIC:return Math.floor(p/10*3);case st.ALPHANUMERIC:return Math.floor(p/11*2);case st.KANJI:return Math.floor(p/13);case st.BYTE:default:return Math.floor(p/8)}};gt.getBestVersionForData=function(n,e){let t,i=Hr.from(e,Hr.M);if(Array.isArray(n)){if(n.length>1)return wc(n,i);if(n.length===0)return 1;t=n[0]}else t=n;return vc(t.mode,t.getLength(),i)};gt.getEncodedBits=function(n){if(!Gi.isValid(n)||n<7)throw new Error("Invalid QR Code version");let e=n<<12;for(;Zn.getBCHDigit(e)-Wr>=0;)e^=jr<<Zn.getBCHDigit(e)-Wr;return n<<12|e}});var Jr=q(Kr=>{"use strict";var Yi=ot(),Xr=1335,Mc=21522,Qr=Yi.getBCHDigit(Xr);Kr.getEncodedBits=function(n,e){let t=n.bit<<3|e,i=t<<10;for(;Yi.getBCHDigit(i)-Qr>=0;)i^=Xr<<Yi.getBCHDigit(i)-Qr;return(t<<10|i)^Mc}});var Zr=q((Ph,$r)=>{"use strict";var Sc=at();function Bt(o){this.mode=Sc.NUMERIC,this.data=o.toString()}Bt.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};Bt.prototype.getLength=function(){return this.data.length};Bt.prototype.getBitsLength=function(){return Bt.getBitsLength(this.data.length)};Bt.prototype.write=function(n){let e,t,i;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),i=parseInt(t,10),n.put(i,10);let r=this.data.length-e;r>0&&(t=this.data.substr(e),i=parseInt(t,10),n.put(i,r*3+1))};$r.exports=Bt});var ta=q((Eh,ea)=>{"use strict";var Oc=at(),Qi=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Nt(o){this.mode=Oc.ALPHANUMERIC,this.data=o}Nt.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};Nt.prototype.getLength=function(){return this.data.length};Nt.prototype.getBitsLength=function(){return Nt.getBitsLength(this.data.length)};Nt.prototype.write=function(n){let e;for(e=0;e+2<=this.data.length;e+=2){let t=Qi.indexOf(this.data[e])*45;t+=Qi.indexOf(this.data[e+1]),n.put(t,11)}this.data.length%2&&n.put(Qi.indexOf(this.data[e]),6)};ea.exports=Nt});var ia=q((kh,na)=>{"use strict";na.exports=function(n){for(var e=[],t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);if(r>=55296&&r<=56319&&t>i+1){var c=n.charCodeAt(i+1);c>=56320&&c<=57343&&(r=(r-55296)*1024+c-56320+65536,i+=1)}if(r<128){e.push(r);continue}if(r<2048){e.push(r>>6|192),e.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){e.push(r>>12|224),e.push(r>>6&63|128),e.push(r&63|128);continue}if(r>=65536&&r<=1114111){e.push(r>>18|240),e.push(r>>12&63|128),e.push(r>>6&63|128),e.push(r&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer}});var ra=q((Th,oa)=>{"use strict";var Pc=ia(),Ec=at();function Ut(o){this.mode=Ec.BYTE,typeof o=="string"&&(o=Pc(o)),this.data=new Uint8Array(o)}Ut.getBitsLength=function(n){return n*8};Ut.prototype.getLength=function(){return this.data.length};Ut.prototype.getBitsLength=function(){return Ut.getBitsLength(this.data.length)};Ut.prototype.write=function(o){for(let n=0,e=this.data.length;n<e;n++)o.put(this.data[n],8)};oa.exports=Ut});var sa=q((Ih,aa)=>{"use strict";var kc=at(),Tc=ot();function Dt(o){this.mode=kc.KANJI,this.data=o}Dt.getBitsLength=function(n){return n*13};Dt.prototype.getLength=function(){return this.data.length};Dt.prototype.getBitsLength=function(){return Dt.getBitsLength(this.data.length)};Dt.prototype.write=function(o){let n;for(n=0;n<this.data.length;n++){let e=Tc.toSJIS(this.data[n]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),o.put(e,13)}};aa.exports=Dt});var ca=q((Ah,Xi)=>{"use strict";var hn={single_source_shortest_paths:function(o,n,e){var t={},i={};i[n]=0;var r=hn.PriorityQueue.make();r.push(n,0);for(var c,p,m,w,O,T,k,U,F;!r.empty();){c=r.pop(),p=c.value,w=c.cost,O=o[p]||{};for(m in O)O.hasOwnProperty(m)&&(T=O[m],k=w+T,U=i[m],F=typeof i[m]>"u",(F||U>k)&&(i[m]=k,r.push(m,k),t[m]=p))}if(typeof e<"u"&&typeof i[e]>"u"){var te=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(te)}return t},extract_shortest_path_from_predecessor_list:function(o,n){for(var e=[],t=n,i;t;)e.push(t),i=o[t],t=o[t];return e.reverse(),e},find_path:function(o,n,e){var t=hn.single_source_shortest_paths(o,n,e);return hn.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(o){var n=hn.PriorityQueue,e={},t;o=o||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=o.sorter||n.default_sorter,e},default_sorter:function(o,n){return o.cost-n.cost},push:function(o,n){var e={value:o,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Xi<"u"&&(Xi.exports=hn)});var ga=q(Ft=>{"use strict";var W=at(),pa=Zr(),ha=ta(),ua=ra(),ma=sa(),un=Wi(),ei=ot(),Ic=ca();function la(o){return unescape(encodeURIComponent(o)).length}function mn(o,n,e){let t=[],i;for(;(i=o.exec(e))!==null;)t.push({data:i[0],index:i.index,mode:n,length:i[0].length});return t}function _a(o){let n=mn(un.NUMERIC,W.NUMERIC,o),e=mn(un.ALPHANUMERIC,W.ALPHANUMERIC,o),t,i;return ei.isKanjiModeEnabled()?(t=mn(un.BYTE,W.BYTE,o),i=mn(un.KANJI,W.KANJI,o)):(t=mn(un.BYTE_KANJI,W.BYTE,o),i=[]),n.concat(e,t,i).sort(function(c,p){return c.index-p.index}).map(function(c){return{data:c.data,mode:c.mode,length:c.length}})}function Ki(o,n){switch(n){case W.NUMERIC:return pa.getBitsLength(o);case W.ALPHANUMERIC:return ha.getBitsLength(o);case W.KANJI:return ma.getBitsLength(o);case W.BYTE:return ua.getBitsLength(o)}}function Ac(o){return o.reduce(function(n,e){let t=n.length-1>=0?n[n.length-1]:null;return t&&t.mode===e.mode?(n[n.length-1].data+=e.data,n):(n.push(e),n)},[])}function Rc(o){let n=[];for(let e=0;e<o.length;e++){let t=o[e];switch(t.mode){case W.NUMERIC:n.push([t,{data:t.data,mode:W.ALPHANUMERIC,length:t.length},{data:t.data,mode:W.BYTE,length:t.length}]);break;case W.ALPHANUMERIC:n.push([t,{data:t.data,mode:W.BYTE,length:t.length}]);break;case W.KANJI:n.push([t,{data:t.data,mode:W.BYTE,length:la(t.data)}]);break;case W.BYTE:n.push([{data:t.data,mode:W.BYTE,length:la(t.data)}])}}return n}function Vc(o,n){let e={},t={start:{}},i=["start"];for(let r=0;r<o.length;r++){let c=o[r],p=[];for(let m=0;m<c.length;m++){let w=c[m],O=""+r+m;p.push(O),e[O]={node:w,lastCount:0},t[O]={};for(let T=0;T<i.length;T++){let k=i[T];e[k]&&e[k].node.mode===w.mode?(t[k][O]=Ki(e[k].lastCount+w.length,w.mode)-Ki(e[k].lastCount,w.mode),e[k].lastCount+=w.length):(e[k]&&(e[k].lastCount=w.length),t[k][O]=Ki(w.length,w.mode)+4+W.getCharCountIndicator(w.mode,n))}}i=p}for(let r=0;r<i.length;r++)t[i[r]].end=0;return{map:t,table:e}}function da(o,n){let e,t=W.getBestModeForData(o);if(e=W.from(n,t),e!==W.BYTE&&e.bit<t.bit)throw new Error('"'+o+'" cannot be encoded with mode '+W.toString(e)+`.
 Suggested mode is: `+W.toString(t));switch(e===W.KANJI&&!ei.isKanjiModeEnabled()&&(e=W.BYTE),e){case W.NUMERIC:return new pa(o);case W.ALPHANUMERIC:return new ha(o);case W.KANJI:return new ma(o);case W.BYTE:return new ua(o)}}Ft.fromArray=function(n){return n.reduce(function(e,t){return typeof t=="string"?e.push(da(t,null)):t.data&&e.push(da(t.data,t.mode)),e},[])};Ft.fromString=function(n,e){let t=_a(n,ei.isKanjiModeEnabled()),i=Rc(t),r=Vc(i,e),c=Ic.find_path(r.map,"start","end"),p=[];for(let m=1;m<c.length-1;m++)p.push(r.table[c[m]].node);return Ft.fromArray(Ac(p))};Ft.rawSplit=function(n){return Ft.fromArray(_a(n,ei.isKanjiModeEnabled()))}});var xa=q(fa=>{"use strict";var ni=ot(),Ji=Yn(),zc=Er(),Lc=Tr(),Bc=Ir(),Nc=Vr(),eo=zr(),to=Di(),Uc=Dr(),ti=Yr(),Dc=Jr(),Fc=at(),$i=ga();function qc(o,n){let e=o.size,t=Nc.getPositions(n);for(let i=0;i<t.length;i++){let r=t[i][0],c=t[i][1];for(let p=-1;p<=7;p++)if(!(r+p<=-1||e<=r+p))for(let m=-1;m<=7;m++)c+m<=-1||e<=c+m||(p>=0&&p<=6&&(m===0||m===6)||m>=0&&m<=6&&(p===0||p===6)||p>=2&&p<=4&&m>=2&&m<=4?o.set(r+p,c+m,!0,!0):o.set(r+p,c+m,!1,!0))}}function Hc(o){let n=o.size;for(let e=8;e<n-8;e++){let t=e%2===0;o.set(e,6,t,!0),o.set(6,e,t,!0)}}function Wc(o,n){let e=Bc.getPositions(n);for(let t=0;t<e.length;t++){let i=e[t][0],r=e[t][1];for(let c=-2;c<=2;c++)for(let p=-2;p<=2;p++)c===-2||c===2||p===-2||p===2||c===0&&p===0?o.set(i+c,r+p,!0,!0):o.set(i+c,r+p,!1,!0)}}function jc(o,n){let e=o.size,t=ti.getEncodedBits(n),i,r,c;for(let p=0;p<18;p++)i=Math.floor(p/3),r=p%3+e-8-3,c=(t>>p&1)===1,o.set(i,r,c,!0),o.set(r,i,c,!0)}function Zi(o,n,e){let t=o.size,i=Dc.getEncodedBits(n,e),r,c;for(r=0;r<15;r++)c=(i>>r&1)===1,r<6?o.set(r,8,c,!0):r<8?o.set(r+1,8,c,!0):o.set(t-15+r,8,c,!0),r<8?o.set(8,t-r-1,c,!0):r<9?o.set(8,15-r-1+1,c,!0):o.set(8,15-r-1,c,!0);o.set(t-8,8,1,!0)}function Gc(o,n){let e=o.size,t=-1,i=e-1,r=7,c=0;for(let p=e-1;p>0;p-=2)for(p===6&&p--;;){for(let m=0;m<2;m++)if(!o.isReserved(i,p-m)){let w=!1;c<n.length&&(w=(n[c]>>>r&1)===1),o.set(i,p-m,w),r--,r===-1&&(c++,r=7)}if(i+=t,i<0||e<=i){i-=t,t=-t;break}}}function Yc(o,n,e){let t=new zc;e.forEach(function(m){t.put(m.mode.bit,4),t.put(m.getLength(),Fc.getCharCountIndicator(m.mode,o)),m.write(t)});let i=ni.getSymbolTotalCodewords(o),r=to.getTotalCodewordsCount(o,n),c=(i-r)*8;for(t.getLengthInBits()+4<=c&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);let p=(c-t.getLengthInBits())/8;for(let m=0;m<p;m++)t.put(m%2?17:236,8);return Qc(t,o,n)}function Qc(o,n,e){let t=ni.getSymbolTotalCodewords(n),i=to.getTotalCodewordsCount(n,e),r=t-i,c=to.getBlocksCount(n,e),p=t%c,m=c-p,w=Math.floor(t/c),O=Math.floor(r/c),T=O+1,k=w-O,U=new Uc(k),F=0,te=new Array(c),Re=new Array(c),Y=0,Q=new Uint8Array(o.buffer);for(let Pe=0;Pe<c;Pe++){let we=Pe<m?O:T;te[Pe]=Q.slice(F,F+we),Re[Pe]=U.encode(te[Pe]),F+=we,Y=Math.max(Y,we)}let he=new Uint8Array(t),Je=0,le,de;for(le=0;le<Y;le++)for(de=0;de<c;de++)le<te[de].length&&(he[Je++]=te[de][le]);for(le=0;le<k;le++)for(de=0;de<c;de++)he[Je++]=Re[de][le];return he}function Xc(o,n,e,t){let i;if(Array.isArray(o))i=$i.fromArray(o);else if(typeof o=="string"){let w=n;if(!w){let O=$i.rawSplit(o);w=ti.getBestVersionForData(O,e)}i=$i.fromString(o,w||40)}else throw new Error("Invalid data");let r=ti.getBestVersionForData(i,e);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=r;else if(n<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let c=Yc(n,e,i),p=ni.getSymbolSize(n),m=new Lc(p);return qc(m,n),Hc(m),Wc(m,n),Zi(m,e,0),n>=7&&jc(m,n),Gc(m,c),isNaN(t)&&(t=eo.getBestMask(m,Zi.bind(null,m,e))),eo.applyMask(t,m),Zi(m,e,t),{modules:m,version:n,errorCorrectionLevel:e,maskPattern:t,segments:i}}fa.create=function(n,e){if(typeof n>"u"||n==="")throw new Error("No input text");let t=Ji.M,i,r;return typeof e<"u"&&(t=Ji.from(e.errorCorrectionLevel,Ji.M),i=ti.from(e.version),r=eo.from(e.maskPattern),e.toSJISFunc&&ni.setToSJISFunction(e.toSJISFunc)),Xc(n,i,t,r)}});var no=q(ft=>{"use strict";function ba(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let n=o.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+o);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");let e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}ft.getOptions=function(n){n||(n={}),n.color||(n.color={});let e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:t,scale:t?4:i,margin:e,color:{dark:ba(n.color.dark||"#000000ff"),light:ba(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};ft.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale};ft.getImageWidth=function(n,e){let t=ft.getScale(n,e);return Math.floor((n+e.margin*2)*t)};ft.qrToImageData=function(n,e,t){let i=e.modules.size,r=e.modules.data,c=ft.getScale(i,t),p=Math.floor((i+t.margin*2)*c),m=t.margin*c,w=[t.color.light,t.color.dark];for(let O=0;O<p;O++)for(let T=0;T<p;T++){let k=(O*p+T)*4,U=t.color.light;if(O>=m&&T>=m&&O<p-m&&T<p-m){let F=Math.floor((O-m)/c),te=Math.floor((T-m)/c);U=w[r[F*i+te]?1:0]}n[k++]=U.r,n[k++]=U.g,n[k++]=U.b,n[k]=U.a}}});var Ca=q(ii=>{"use strict";var io=no();function Kc(o,n,e){o.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=e,n.width=e,n.style.height=e+"px",n.style.width=e+"px"}function Jc(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}ii.render=function(n,e,t){let i=t,r=e;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),e||(r=Jc()),i=io.getOptions(i);let c=io.getImageWidth(n.modules.size,i),p=r.getContext("2d"),m=p.createImageData(c,c);return io.qrToImageData(m.data,n,i),Kc(p,r,c),p.putImageData(m,0,0),r};ii.renderToDataURL=function(n,e,t){let i=t;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),i||(i={});let r=ii.render(n,e,i),c=i.type||"image/png",p=i.rendererOpts||{};return r.toDataURL(c,p.quality)}});var wa=q(ya=>{"use strict";var $c=no();function va(o,n){let e=o.a/255,t=n+'="'+o.hex+'"';return e<1?t+" "+n+'-opacity="'+e.toFixed(2).slice(1)+'"':t}function oo(o,n,e){let t=o+n;return typeof e<"u"&&(t+=" "+e),t}function Zc(o,n,e){let t="",i=0,r=!1,c=0;for(let p=0;p<o.length;p++){let m=Math.floor(p%n),w=Math.floor(p/n);!m&&!r&&(r=!0),o[p]?(c++,p>0&&m>0&&o[p-1]||(t+=r?oo("M",m+e,.5+w+e):oo("m",i,0),i=0,r=!1),m+1<n&&o[p+1]||(t+=oo("h",c),c=0)):i++}return t}ya.render=function(n,e,t){let i=$c.getOptions(e),r=n.modules.size,c=n.modules.data,p=r+i.margin*2,m=i.color.light.a?"<path "+va(i.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",w="<path "+va(i.color.dark,"stroke")+' d="'+Zc(c,r,i.margin)+'"/>',O='viewBox="0 0 '+p+" "+p+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+O+' shape-rendering="crispEdges">'+m+w+`</svg>
`;return typeof t=="function"&&t(null,k),k}});var Sa=q(_n=>{"use strict";var el=Sr(),ro=xa(),Ma=Ca(),tl=wa();function ao(o,n,e,t,i){let r=[].slice.call(arguments,1),c=r.length,p=typeof r[c-1]=="function";if(!p&&!el())throw new Error("Callback required as last argument");if(p){if(c<2)throw new Error("Too few arguments provided");c===2?(i=e,e=n,n=t=void 0):c===3&&(n.getContext&&typeof i>"u"?(i=t,t=void 0):(i=t,t=e,e=n,n=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(e=n,n=t=void 0):c===2&&!n.getContext&&(t=e,e=n,n=void 0),new Promise(function(m,w){try{let O=ro.create(e,t);m(o(O,n,t))}catch(O){w(O)}})}try{let m=ro.create(e,t);i(null,o(m,n,t))}catch(m){i(m)}}_n.create=ro.create;_n.toCanvas=ao.bind(null,Ma.render);_n.toDataURL=ao.bind(null,Ma.renderToDataURL);_n.toString=ao.bind(null,function(o,n,e){return tl.render(o,e)})});var Ea=q((Yh,ai)=>{"use strict";(function(o,n,e,t){"use strict";var i=["","webkit","Moz","MS","ms","o"],r=n.createElement("div"),c="function",p=Math.round,m=Math.abs,w=Date.now;function O(l,u,g){return setTimeout(Q(l,g),u)}function T(l,u,g){return Array.isArray(l)?(k(l,g[u],g),!0):!1}function k(l,u,g){var v;if(l)if(l.forEach)l.forEach(u,g);else if(l.length!==t)for(v=0;v<l.length;)u.call(g,l[v],v,l),v++;else for(v in l)l.hasOwnProperty(v)&&u.call(g,l[v],v,l)}function U(l,u,g){var v="DEPRECATED METHOD: "+u+`
`+g+` AT 
`;return function(){var S=new Error("get-stack-trace"),R=S&&S.stack?S.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",B=o.console&&(o.console.warn||o.console.log);return B&&B.call(o.console,v,R),l.apply(this,arguments)}}var F;typeof Object.assign!="function"?F=function(u){if(u===t||u===null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(u),v=1;v<arguments.length;v++){var S=arguments[v];if(S!==t&&S!==null)for(var R in S)S.hasOwnProperty(R)&&(g[R]=S[R])}return g}:F=Object.assign;var te=U(function(u,g,v){for(var S=Object.keys(g),R=0;R<S.length;)(!v||v&&u[S[R]]===t)&&(u[S[R]]=g[S[R]]),R++;return u},"extend","Use `assign`."),Re=U(function(u,g){return te(u,g,!0)},"merge","Use `assign`.");function Y(l,u,g){var v=u.prototype,S;S=l.prototype=Object.create(v),S.constructor=l,S._super=v,g&&F(S,g)}function Q(l,u){return function(){return l.apply(u,arguments)}}function he(l,u){return typeof l==c?l.apply(u&&u[0]||t,u):l}function Je(l,u){return l===t?u:l}function le(l,u,g){k(Mt(u),function(v){l.addEventListener(v,g,!1)})}function de(l,u,g){k(Mt(u),function(v){l.removeEventListener(v,g,!1)})}function Pe(l,u){for(;l;){if(l==u)return!0;l=l.parentNode}return!1}function we(l,u){return l.indexOf(u)>-1}function Mt(l){return l.trim().split(/\s+/g)}function $e(l,u,g){if(l.indexOf&&!g)return l.indexOf(u);for(var v=0;v<l.length;){if(g&&l[v][g]==u||!g&&l[v]===u)return v;v++}return-1}function Ze(l){return Array.prototype.slice.call(l,0)}function St(l,u,g){for(var v=[],S=[],R=0;R<l.length;){var B=u?l[R][u]:l[R];$e(S,B)<0&&v.push(l[R]),S[R]=B,R++}return g&&(u?v=v.sort(function(pe,ve){return pe[u]>ve[u]}):v=v.sort()),v}function He(l,u){for(var g,v,S=u[0].toUpperCase()+u.slice(1),R=0;R<i.length;){if(g=i[R],v=g?g+S:u,v in l)return v;R++}return t}var On=1;function wi(){return On++}function Pn(l){var u=l.ownerDocument||l;return u.defaultView||u.parentWindow||o}var Ot=/mobile|tablet|ip(ad|hone|od)|android/i,Jt="ontouchstart"in o,et=He(o,"PointerEvent")!==t,tt=Jt&&Ot.test(navigator.userAgent),$t="touch",Is="pen",Mi="mouse",As="kinect",Rs=25,Ce=1,ct=2,ne=4,Me=8,En=1,Zt=2,en=4,tn=8,nn=16,Be=Zt|en,lt=tn|nn,Oo=Be|lt,Po=["x","y"],kn=["clientX","clientY"];function Ee(l,u){var g=this;this.manager=l,this.callback=u,this.element=l.element,this.target=l.options.inputTarget,this.domHandler=function(v){he(l.options.enable,[l])&&g.handler(v)},this.init()}Ee.prototype={handler:function(){},init:function(){this.evEl&&le(this.element,this.evEl,this.domHandler),this.evTarget&&le(this.target,this.evTarget,this.domHandler),this.evWin&&le(Pn(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&de(this.element,this.evEl,this.domHandler),this.evTarget&&de(this.target,this.evTarget,this.domHandler),this.evWin&&de(Pn(this.element),this.evWin,this.domHandler)}};function Vs(l){var u,g=l.options.inputClass;return g?u=g:et?u=Oi:tt?u=An:Jt?u=Pi:u=In,new u(l,zs)}function zs(l,u,g){var v=g.pointers.length,S=g.changedPointers.length,R=u&Ce&&v-S===0,B=u&(ne|Me)&&v-S===0;g.isFirst=!!R,g.isFinal=!!B,R&&(l.session={}),g.eventType=u,Ls(l,g),l.emit("hammer.input",g),l.recognize(g),l.session.prevInput=g}function Ls(l,u){var g=l.session,v=u.pointers,S=v.length;g.firstInput||(g.firstInput=Eo(u)),S>1&&!g.firstMultiple?g.firstMultiple=Eo(u):S===1&&(g.firstMultiple=!1);var R=g.firstInput,B=g.firstMultiple,se=B?B.center:R.center,pe=u.center=ko(v);u.timeStamp=w(),u.deltaTime=u.timeStamp-R.timeStamp,u.angle=Si(se,pe),u.distance=Tn(se,pe),Bs(g,u),u.offsetDirection=Io(u.deltaX,u.deltaY);var ve=To(u.deltaTime,u.deltaX,u.deltaY);u.overallVelocityX=ve.x,u.overallVelocityY=ve.y,u.overallVelocity=m(ve.x)>m(ve.y)?ve.x:ve.y,u.scale=B?Ds(B.pointers,v):1,u.rotation=B?Us(B.pointers,v):0,u.maxPointers=g.prevInput?u.pointers.length>g.prevInput.maxPointers?u.pointers.length:g.prevInput.maxPointers:u.pointers.length,Ns(g,u);var Ue=l.element;Pe(u.srcEvent.target,Ue)&&(Ue=u.srcEvent.target),u.target=Ue}function Bs(l,u){var g=u.center,v=l.offsetDelta||{},S=l.prevDelta||{},R=l.prevInput||{};(u.eventType===Ce||R.eventType===ne)&&(S=l.prevDelta={x:R.deltaX||0,y:R.deltaY||0},v=l.offsetDelta={x:g.x,y:g.y}),u.deltaX=S.x+(g.x-v.x),u.deltaY=S.y+(g.y-v.y)}function Ns(l,u){var g=l.lastInterval||u,v=u.timeStamp-g.timeStamp,S,R,B,se;if(u.eventType!=Me&&(v>Rs||g.velocity===t)){var pe=u.deltaX-g.deltaX,ve=u.deltaY-g.deltaY,Ue=To(v,pe,ve);R=Ue.x,B=Ue.y,S=m(Ue.x)>m(Ue.y)?Ue.x:Ue.y,se=Io(pe,ve),l.lastInterval=u}else S=g.velocity,R=g.velocityX,B=g.velocityY,se=g.direction;u.velocity=S,u.velocityX=R,u.velocityY=B,u.direction=se}function Eo(l){for(var u=[],g=0;g<l.pointers.length;)u[g]={clientX:p(l.pointers[g].clientX),clientY:p(l.pointers[g].clientY)},g++;return{timeStamp:w(),pointers:u,center:ko(u),deltaX:l.deltaX,deltaY:l.deltaY}}function ko(l){var u=l.length;if(u===1)return{x:p(l[0].clientX),y:p(l[0].clientY)};for(var g=0,v=0,S=0;S<u;)g+=l[S].clientX,v+=l[S].clientY,S++;return{x:p(g/u),y:p(v/u)}}function To(l,u,g){return{x:u/l||0,y:g/l||0}}function Io(l,u){return l===u?En:m(l)>=m(u)?l<0?Zt:en:u<0?tn:nn}function Tn(l,u,g){g||(g=Po);var v=u[g[0]]-l[g[0]],S=u[g[1]]-l[g[1]];return Math.sqrt(v*v+S*S)}function Si(l,u,g){g||(g=Po);var v=u[g[0]]-l[g[0]],S=u[g[1]]-l[g[1]];return Math.atan2(S,v)*180/Math.PI}function Us(l,u){return Si(u[1],u[0],kn)+Si(l[1],l[0],kn)}function Ds(l,u){return Tn(u[0],u[1],kn)/Tn(l[0],l[1],kn)}var Fs={mousedown:Ce,mousemove:ct,mouseup:ne},qs="mousedown",Hs="mousemove mouseup";function In(){this.evEl=qs,this.evWin=Hs,this.pressed=!1,Ee.apply(this,arguments)}Y(In,Ee,{handler:function(u){var g=Fs[u.type];g&Ce&&u.button===0&&(this.pressed=!0),g&ct&&u.which!==1&&(g=ne),this.pressed&&(g&ne&&(this.pressed=!1),this.callback(this.manager,g,{pointers:[u],changedPointers:[u],pointerType:Mi,srcEvent:u}))}});var Ws={pointerdown:Ce,pointermove:ct,pointerup:ne,pointercancel:Me,pointerout:Me},js={2:$t,3:Is,4:Mi,5:As},Ao="pointerdown",Ro="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Ao="MSPointerDown",Ro="MSPointerMove MSPointerUp MSPointerCancel");function Oi(){this.evEl=Ao,this.evWin=Ro,Ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Y(Oi,Ee,{handler:function(u){var g=this.store,v=!1,S=u.type.toLowerCase().replace("ms",""),R=Ws[S],B=js[u.pointerType]||u.pointerType,se=B==$t,pe=$e(g,u.pointerId,"pointerId");R&Ce&&(u.button===0||se)?pe<0&&(g.push(u),pe=g.length-1):R&(ne|Me)&&(v=!0),!(pe<0)&&(g[pe]=u,this.callback(this.manager,R,{pointers:g,changedPointers:[u],pointerType:B,srcEvent:u}),v&&g.splice(pe,1))}});var Gs={touchstart:Ce,touchmove:ct,touchend:ne,touchcancel:Me},Ys="touchstart",Qs="touchstart touchmove touchend touchcancel";function Vo(){this.evTarget=Ys,this.evWin=Qs,this.started=!1,Ee.apply(this,arguments)}Y(Vo,Ee,{handler:function(u){var g=Gs[u.type];if(g===Ce&&(this.started=!0),!!this.started){var v=Xs.call(this,u,g);g&(ne|Me)&&v[0].length-v[1].length===0&&(this.started=!1),this.callback(this.manager,g,{pointers:v[0],changedPointers:v[1],pointerType:$t,srcEvent:u})}}});function Xs(l,u){var g=Ze(l.touches),v=Ze(l.changedTouches);return u&(ne|Me)&&(g=St(g.concat(v),"identifier",!0)),[g,v]}var Ks={touchstart:Ce,touchmove:ct,touchend:ne,touchcancel:Me},Js="touchstart touchmove touchend touchcancel";function An(){this.evTarget=Js,this.targetIds={},Ee.apply(this,arguments)}Y(An,Ee,{handler:function(u){var g=Ks[u.type],v=$s.call(this,u,g);v&&this.callback(this.manager,g,{pointers:v[0],changedPointers:v[1],pointerType:$t,srcEvent:u})}});function $s(l,u){var g=Ze(l.touches),v=this.targetIds;if(u&(Ce|ct)&&g.length===1)return v[g[0].identifier]=!0,[g,g];var S,R,B=Ze(l.changedTouches),se=[],pe=this.target;if(R=g.filter(function(ve){return Pe(ve.target,pe)}),u===Ce)for(S=0;S<R.length;)v[R[S].identifier]=!0,S++;for(S=0;S<B.length;)v[B[S].identifier]&&se.push(B[S]),u&(ne|Me)&&delete v[B[S].identifier],S++;if(se.length)return[St(R.concat(se),"identifier",!0),se]}var Zs=2500,zo=25;function Pi(){Ee.apply(this,arguments);var l=Q(this.handler,this);this.touch=new An(this.manager,l),this.mouse=new In(this.manager,l),this.primaryTouch=null,this.lastTouches=[]}Y(Pi,Ee,{handler:function(u,g,v){var S=v.pointerType==$t,R=v.pointerType==Mi;if(!(R&&v.sourceCapabilities&&v.sourceCapabilities.firesTouchEvents)){if(S)ec.call(this,g,v);else if(R&&tc.call(this,v))return;this.callback(u,g,v)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function ec(l,u){l&Ce?(this.primaryTouch=u.changedPointers[0].identifier,Lo.call(this,u)):l&(ne|Me)&&Lo.call(this,u)}function Lo(l){var u=l.changedPointers[0];if(u.identifier===this.primaryTouch){var g={x:u.clientX,y:u.clientY};this.lastTouches.push(g);var v=this.lastTouches,S=function(){var R=v.indexOf(g);R>-1&&v.splice(R,1)};setTimeout(S,Zs)}}function tc(l){for(var u=l.srcEvent.clientX,g=l.srcEvent.clientY,v=0;v<this.lastTouches.length;v++){var S=this.lastTouches[v],R=Math.abs(u-S.x),B=Math.abs(g-S.y);if(R<=zo&&B<=zo)return!0}return!1}var Bo=He(r.style,"touchAction"),No=Bo!==t,Uo="compute",Do="auto",Ei="manipulation",dt="none",on="pan-x",rn="pan-y",Rn=ic();function ki(l,u){this.manager=l,this.set(u)}ki.prototype={set:function(l){l==Uo&&(l=this.compute()),No&&this.manager.element.style&&Rn[l]&&(this.manager.element.style[Bo]=l),this.actions=l.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var l=[];return k(this.manager.recognizers,function(u){he(u.options.enable,[u])&&(l=l.concat(u.getTouchAction()))}),nc(l.join(" "))},preventDefaults:function(l){var u=l.srcEvent,g=l.offsetDirection;if(this.manager.session.prevented){u.preventDefault();return}var v=this.actions,S=we(v,dt)&&!Rn[dt],R=we(v,rn)&&!Rn[rn],B=we(v,on)&&!Rn[on];if(S){var se=l.pointers.length===1,pe=l.distance<2,ve=l.deltaTime<250;if(se&&pe&&ve)return}if(!(B&&R)&&(S||R&&g&Be||B&&g&lt))return this.preventSrc(u)},preventSrc:function(l){this.manager.session.prevented=!0,l.preventDefault()}};function nc(l){if(we(l,dt))return dt;var u=we(l,on),g=we(l,rn);return u&&g?dt:u||g?u?on:rn:we(l,Ei)?Ei:Do}function ic(){if(!No)return!1;var l={},u=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(g){l[g]=u?o.CSS.supports("touch-action",g):!0}),l}var Vn=1,ke=2,Pt=4,nt=8,We=nt,an=16,Ne=32;function je(l){this.options=F({},this.defaults,l||{}),this.id=wi(),this.manager=null,this.options.enable=Je(this.options.enable,!0),this.state=Vn,this.simultaneous={},this.requireFail=[]}je.prototype={defaults:{},set:function(l){return F(this.options,l),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(l){if(T(l,"recognizeWith",this))return this;var u=this.simultaneous;return l=zn(l,this),u[l.id]||(u[l.id]=l,l.recognizeWith(this)),this},dropRecognizeWith:function(l){return T(l,"dropRecognizeWith",this)?this:(l=zn(l,this),delete this.simultaneous[l.id],this)},requireFailure:function(l){if(T(l,"requireFailure",this))return this;var u=this.requireFail;return l=zn(l,this),$e(u,l)===-1&&(u.push(l),l.requireFailure(this)),this},dropRequireFailure:function(l){if(T(l,"dropRequireFailure",this))return this;l=zn(l,this);var u=$e(this.requireFail,l);return u>-1&&this.requireFail.splice(u,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(l){return!!this.simultaneous[l.id]},emit:function(l){var u=this,g=this.state;function v(S){u.manager.emit(S,l)}g<nt&&v(u.options.event+Fo(g)),v(u.options.event),l.additionalEvent&&v(l.additionalEvent),g>=nt&&v(u.options.event+Fo(g))},tryEmit:function(l){if(this.canEmit())return this.emit(l);this.state=Ne},canEmit:function(){for(var l=0;l<this.requireFail.length;){if(!(this.requireFail[l].state&(Ne|Vn)))return!1;l++}return!0},recognize:function(l){var u=F({},l);if(!he(this.options.enable,[this,u])){this.reset(),this.state=Ne;return}this.state&(We|an|Ne)&&(this.state=Vn),this.state=this.process(u),this.state&(ke|Pt|nt|an)&&this.tryEmit(u)},process:function(l){},getTouchAction:function(){},reset:function(){}};function Fo(l){return l&an?"cancel":l&nt?"end":l&Pt?"move":l&ke?"start":""}function qo(l){return l==nn?"down":l==tn?"up":l==Zt?"left":l==en?"right":""}function zn(l,u){var g=u.manager;return g?g.get(l):l}function Ve(){je.apply(this,arguments)}Y(Ve,je,{defaults:{pointers:1},attrTest:function(l){var u=this.options.pointers;return u===0||l.pointers.length===u},process:function(l){var u=this.state,g=l.eventType,v=u&(ke|Pt),S=this.attrTest(l);return v&&(g&Me||!S)?u|an:v||S?g&ne?u|nt:u&ke?u|Pt:ke:Ne}});function Ln(){Ve.apply(this,arguments),this.pX=null,this.pY=null}Y(Ln,Ve,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oo},getTouchAction:function(){var l=this.options.direction,u=[];return l&Be&&u.push(rn),l&lt&&u.push(on),u},directionTest:function(l){var u=this.options,g=!0,v=l.distance,S=l.direction,R=l.deltaX,B=l.deltaY;return S&u.direction||(u.direction&Be?(S=R===0?En:R<0?Zt:en,g=R!=this.pX,v=Math.abs(l.deltaX)):(S=B===0?En:B<0?tn:nn,g=B!=this.pY,v=Math.abs(l.deltaY))),l.direction=S,g&&v>u.threshold&&S&u.direction},attrTest:function(l){return Ve.prototype.attrTest.call(this,l)&&(this.state&ke||!(this.state&ke)&&this.directionTest(l))},emit:function(l){this.pX=l.deltaX,this.pY=l.deltaY;var u=qo(l.direction);u&&(l.additionalEvent=this.options.event+u),this._super.emit.call(this,l)}});function Ti(){Ve.apply(this,arguments)}Y(Ti,Ve,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[dt]},attrTest:function(l){return this._super.attrTest.call(this,l)&&(Math.abs(l.scale-1)>this.options.threshold||this.state&ke)},emit:function(l){if(l.scale!==1){var u=l.scale<1?"in":"out";l.additionalEvent=this.options.event+u}this._super.emit.call(this,l)}});function Ii(){je.apply(this,arguments),this._timer=null,this._input=null}Y(Ii,je,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Do]},process:function(l){var u=this.options,g=l.pointers.length===u.pointers,v=l.distance<u.threshold,S=l.deltaTime>u.time;if(this._input=l,!v||!g||l.eventType&(ne|Me)&&!S)this.reset();else if(l.eventType&Ce)this.reset(),this._timer=O(function(){this.state=We,this.tryEmit()},u.time,this);else if(l.eventType&ne)return We;return Ne},reset:function(){clearTimeout(this._timer)},emit:function(l){this.state===We&&(l&&l.eventType&ne?this.manager.emit(this.options.event+"up",l):(this._input.timeStamp=w(),this.manager.emit(this.options.event,this._input)))}});function Ai(){Ve.apply(this,arguments)}Y(Ai,Ve,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[dt]},attrTest:function(l){return this._super.attrTest.call(this,l)&&(Math.abs(l.rotation)>this.options.threshold||this.state&ke)}});function Ri(){Ve.apply(this,arguments)}Y(Ri,Ve,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Be|lt,pointers:1},getTouchAction:function(){return Ln.prototype.getTouchAction.call(this)},attrTest:function(l){var u=this.options.direction,g;return u&(Be|lt)?g=l.overallVelocity:u&Be?g=l.overallVelocityX:u&lt&&(g=l.overallVelocityY),this._super.attrTest.call(this,l)&&u&l.offsetDirection&&l.distance>this.options.threshold&&l.maxPointers==this.options.pointers&&m(g)>this.options.velocity&&l.eventType&ne},emit:function(l){var u=qo(l.offsetDirection);u&&this.manager.emit(this.options.event+u,l),this.manager.emit(this.options.event,l)}});function Bn(){je.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}Y(Bn,je,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ei]},process:function(l){var u=this.options,g=l.pointers.length===u.pointers,v=l.distance<u.threshold,S=l.deltaTime<u.time;if(this.reset(),l.eventType&Ce&&this.count===0)return this.failTimeout();if(v&&S&&g){if(l.eventType!=ne)return this.failTimeout();var R=this.pTime?l.timeStamp-this.pTime<u.interval:!0,B=!this.pCenter||Tn(this.pCenter,l.center)<u.posThreshold;this.pTime=l.timeStamp,this.pCenter=l.center,!B||!R?this.count=1:this.count+=1,this._input=l;var se=this.count%u.taps;if(se===0)return this.hasRequireFailures()?(this._timer=O(function(){this.state=We,this.tryEmit()},u.interval,this),ke):We}return Ne},failTimeout:function(){return this._timer=O(function(){this.state=Ne},this.options.interval,this),Ne},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==We&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Ge(l,u){return u=u||{},u.recognizers=Je(u.recognizers,Ge.defaults.preset),new Vi(l,u)}Ge.VERSION="2.0.7",Ge.defaults={domEvents:!1,touchAction:Uo,enable:!0,inputTarget:null,inputClass:null,preset:[[Ai,{enable:!1}],[Ti,{enable:!1},["rotate"]],[Ri,{direction:Be}],[Ln,{direction:Be},["swipe"]],[Bn],[Bn,{event:"doubletap",taps:2},["tap"]],[Ii]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var oc=1,Ho=2;function Vi(l,u){this.options=F({},Ge.defaults,u||{}),this.options.inputTarget=this.options.inputTarget||l,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=l,this.input=Vs(this),this.touchAction=new ki(this,this.options.touchAction),Wo(this,!0),k(this.options.recognizers,function(g){var v=this.add(new g[0](g[1]));g[2]&&v.recognizeWith(g[2]),g[3]&&v.requireFailure(g[3])},this)}Vi.prototype={set:function(l){return F(this.options,l),l.touchAction&&this.touchAction.update(),l.inputTarget&&(this.input.destroy(),this.input.target=l.inputTarget,this.input.init()),this},stop:function(l){this.session.stopped=l?Ho:oc},recognize:function(l){var u=this.session;if(!u.stopped){this.touchAction.preventDefaults(l);var g,v=this.recognizers,S=u.curRecognizer;(!S||S&&S.state&We)&&(S=u.curRecognizer=null);for(var R=0;R<v.length;)g=v[R],u.stopped!==Ho&&(!S||g==S||g.canRecognizeWith(S))?g.recognize(l):g.reset(),!S&&g.state&(ke|Pt|nt)&&(S=u.curRecognizer=g),R++}},get:function(l){if(l instanceof je)return l;for(var u=this.recognizers,g=0;g<u.length;g++)if(u[g].options.event==l)return u[g];return null},add:function(l){if(T(l,"add",this))return this;var u=this.get(l.options.event);return u&&this.remove(u),this.recognizers.push(l),l.manager=this,this.touchAction.update(),l},remove:function(l){if(T(l,"remove",this))return this;if(l=this.get(l),l){var u=this.recognizers,g=$e(u,l);g!==-1&&(u.splice(g,1),this.touchAction.update())}return this},on:function(l,u){if(l!==t&&u!==t){var g=this.handlers;return k(Mt(l),function(v){g[v]=g[v]||[],g[v].push(u)}),this}},off:function(l,u){if(l!==t){var g=this.handlers;return k(Mt(l),function(v){u?g[v]&&g[v].splice($e(g[v],u),1):delete g[v]}),this}},emit:function(l,u){this.options.domEvents&&rc(l,u);var g=this.handlers[l]&&this.handlers[l].slice();if(!(!g||!g.length)){u.type=l,u.preventDefault=function(){u.srcEvent.preventDefault()};for(var v=0;v<g.length;)g[v](u),v++}},destroy:function(){this.element&&Wo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Wo(l,u){var g=l.element;if(g.style){var v;k(l.options.cssProps,function(S,R){v=He(g.style,R),u?(l.oldCssProps[v]=g.style[v],g.style[v]=S):g.style[v]=l.oldCssProps[v]||""}),u||(l.oldCssProps={})}}function rc(l,u){var g=n.createEvent("Event");g.initEvent(l,!0,!0),g.gesture=u,u.target.dispatchEvent(g)}F(Ge,{INPUT_START:Ce,INPUT_MOVE:ct,INPUT_END:ne,INPUT_CANCEL:Me,STATE_POSSIBLE:Vn,STATE_BEGAN:ke,STATE_CHANGED:Pt,STATE_ENDED:nt,STATE_RECOGNIZED:We,STATE_CANCELLED:an,STATE_FAILED:Ne,DIRECTION_NONE:En,DIRECTION_LEFT:Zt,DIRECTION_RIGHT:en,DIRECTION_UP:tn,DIRECTION_DOWN:nn,DIRECTION_HORIZONTAL:Be,DIRECTION_VERTICAL:lt,DIRECTION_ALL:Oo,Manager:Vi,Input:Ee,TouchAction:ki,TouchInput:An,MouseInput:In,PointerEventInput:Oi,TouchMouseInput:Pi,SingleTouchInput:Vo,Recognizer:je,AttrRecognizer:Ve,Tap:Bn,Pan:Ln,Swipe:Ri,Pinch:Ti,Rotate:Ai,Press:Ii,on:le,off:de,each:k,merge:Re,extend:te,assign:F,inherit:Y,bindFn:Q,prefixed:He});var ac=typeof o<"u"?o:typeof self<"u"?self:{};ac.Hammer=Ge,typeof define=="function"&&define.amd?define(function(){return Ge}):typeof ai<"u"&&ai.exports?ai.exports=Ge:o[e]=Ge})(window,document,"Hammer")});var qt=Nn(Sa(),1);var nl=["qrcElement"],oi=(()=>{let n=class n{constructor(t,i){this.renderer=t,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new me,this.context=null}ngOnChanges(){return Z(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((i,r)=>{(0,qt.toDataURL)(this.qrdata,t,(c,p)=>{c?r(c):i(p)})})}toCanvas(t,i){return new Promise((r,c)=>{(0,qt.toCanvas)(t,this.qrdata,i,p=>{p?c(p):r("success")})})}toSVG(t){return new Promise((i,r)=>{(0,qt.toString)(this.qrdata,t,(c,p)=>{c?r(c):i(p)})})}renderElement(t){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return Z(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,c=this.imageWidth||40;switch(this.elementType){case"canvas":{let p=this.renderer.createElement("canvas");this.context=p.getContext("2d"),this.toCanvas(p,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(p,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(p,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(c,r),i!==this.centerImage.src&&(this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),c!==this.centerImage.width&&(this.centerImage.width=c);let m=this.centerImage;m&&(m.onload=()=>{this.context?.drawImage(m,p.width/2-c/2,p.height/2-r/2,c,r)})}this.renderElement(p),this.emitQRCodeURL(p)}).catch(m=>{console.error("[angularx-qrcode] canvas error:",m)});break}case"svg":{let p=this.renderer.createElement("div");this.toSVG(t).then(m=>{this.renderer.setProperty(p,"innerHTML",m);let w=p.firstChild;this.renderer.setAttribute(w,"height",`${this.width}`),this.renderer.setAttribute(w,"width",`${this.width}`),this.renderElement(w),this.emitQRCodeURL(w)}).catch(m=>{console.error("[angularx-qrcode] svg error:",m)});break}case"url":case"img":default:{let p=this.renderer.createElement("img");this.toDataURL(t).then(m=>{this.alt&&p.setAttribute("alt",this.alt),this.ariaLabel&&p.setAttribute("aria-label",this.ariaLabel),p.setAttribute("src",m),this.title&&p.setAttribute("title",this.title),this.renderElement(p),this.emitQRCodeURL(p)}).catch(m=>{console.error("[angularx-qrcode] img/url error:",m)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}emitQRCodeURL(t){let i=t.constructor.name;if(i===SVGSVGElement.name){let c=t.outerHTML,p=new Blob([c],{type:"image/svg+xml"}),m=URL.createObjectURL(p),w=this.sanitizer.bypassSecurityTrustUrl(m);this.qrCodeURL.emit(w);return}let r="";i===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),i===HTMLImageElement.name&&(r=t.src),fetch(r).then(c=>c.blob()).then(c=>URL.createObjectURL(c)).then(c=>this.sanitizer.bypassSecurityTrustUrl(c)).then(c=>{this.qrCodeURL.emit(c)}).catch(c=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+c)})}};n.\u0275fac=function(i){return new(i||n)(I(It),I(zt))},n.\u0275cmp=L({type:n,selectors:[["qrcode"]],viewQuery:function(i,r){if(i&1&&pt(nl,7),i&2){let c;ht(c=ut())&&(r.qrcElement=c.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[ue],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){i&1&&b(0,"div",null,0),i&2&&$o(r.cssClass)},encapsulation:2,changeDetection:0});let o=n;return o})(),ri=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=kt({});let o=n;return o})();var mu=Nn(Ea());var il=["wrapper"],ol=["sourceImage"];function rl(o,n){if(o&1){let e=E();s(0,"img",5,1),y("load",function(){f(e);let i=_();return x(i.imageLoadedInView())})("mousedown",function(i){f(e);let r=_();return x(r.startMove(i,r.moveTypes.Drag))})("touchstart",function(i){f(e);let r=_();return x(r.startMove(i,r.moveTypes.Drag))})("error",function(i){f(e);let r=_();return x(r.loadImageError(i))}),a()}if(o&2){let e=_();At("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),Dn("ngx-ic-draggable",!e.disabled&&e.allowMoveImage),C("src",e.safeImgDataUrl,D),Li("alt",e.imageAltText)}}function al(o,n){if(o&1){let e=E();Zo(0),s(1,"span",9),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"topleft"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"topleft"))}),b(2,"span",10),a(),s(3,"span",11),b(4,"span",10),a(),s(5,"span",12),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"topright"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"topright"))}),b(6,"span",10),a(),s(7,"span",13),b(8,"span",10),a(),s(9,"span",14),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"bottomright"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"bottomright"))}),b(10,"span",10),a(),s(11,"span",15),b(12,"span",10),a(),s(13,"span",16),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"bottomleft"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"bottomleft"))}),b(14,"span",10),a(),s(15,"span",17),b(16,"span",10),a(),s(17,"span",18),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"top"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"top"))}),a(),s(18,"span",19),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"right"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"right"))}),a(),s(19,"span",20),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"bottom"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"bottom"))}),a(),s(20,"span",21),y("mousedown",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"left"))})("touchstart",function(i){f(e);let r=_(2);return x(r.startMove(i,r.moveTypes.Resize,"left"))}),a(),er()}}function sl(o,n){if(o&1){let e=E();s(0,"div",6),y("keydown",function(i){f(e);let r=_();return x(r.keyboardAccess(i))}),s(1,"div",7),y("mousedown",function(i){f(e);let r=_();return x(r.startMove(i,r.moveTypes.Move))})("touchstart",function(i){f(e);let r=_();return x(r.startMove(i,r.moveTypes.Move))}),a(),M(2,al,21,0,"ng-container",8),a()}if(o&2){let e=_();At("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left",e.alignImage==="center"?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),Dn("ngx-ic-round",e.roundCropper),Li("aria-label",e.cropperFrameAriaLabel),d(2),C("ngIf",!e.hideResizeSquares)}}var so=class{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(n){Object.keys(n).filter(e=>e in this).forEach(e=>this[e]=n[e]),this.validateOptions()}setOptionsFromChanges(n){Object.keys(n).filter(e=>e in this).forEach(e=>this[e]=n[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}},Ie=function(o){return o.Drag="drag",o.Move="move",o.Resize="resize",o.Pinch="pinch",o}(Ie||{});function cl(o){switch(o){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function ll(o){switch(o){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function dl(o,n){switch(o){case"ArrowUp":return{clientX:0,clientY:n*-1};case"ArrowRight":return{clientX:n,clientY:0};case"ArrowDown":return{clientX:0,clientY:n};case"ArrowLeft":default:return{clientX:n*-1,clientY:0}}}function pl(o,n,e){let t=o.width,i=o.height;n=Math.round(n),e=Math.round(e);let r=t/n,c=i/e,p=Math.ceil(r/2),m=Math.ceil(c/2),w=o.getContext("2d");if(w){let O=w.getImageData(0,0,t,i),T=w.createImageData(n,e),k=O.data,U=T.data;for(let F=0;F<e;F++)for(let te=0;te<n;te++){let Re=(te+F*n)*4,Y=F*c,Q=0,he=0,Je=0,le=0,de=0,Pe=0,we=0,Mt=Math.floor(te*r),$e=Math.floor(F*c),Ze=Math.ceil((te+1)*r),St=Math.ceil((F+1)*c);Ze=Math.min(Ze,t),St=Math.min(St,i);for(let He=$e;He<St;He++){let On=Math.abs(Y-He)/m,wi=te*r,Pn=On*On;for(let Ot=Mt;Ot<Ze;Ot++){let Jt=Math.abs(wi-Ot)/p,et=Math.sqrt(Pn+Jt*Jt);if(et>=1)continue;Q=2*et*et*et-3*et*et+1;let tt=4*(Ot+He*t);we+=Q*k[tt+3],Je+=Q,k[tt+3]<255&&(Q=Q*k[tt+3]/250),le+=Q*k[tt],de+=Q*k[tt+1],Pe+=Q*k[tt+2],he+=Q}}U[Re]=le/he,U[Re+1]=de/he,U[Re+2]=Pe/he,U[Re+3]=we/Je}o.width=n,o.height=e,w.putImageData(T,0,0)}}function ka(o,n){return o/100*n}var hl=(()=>{let n=class n{crop(t,i,r,c,p){let m=this.getImagePosition(t,i,r,p),w=m.x2-m.x1,O=m.y2-m.y1,T=document.createElement("canvas");T.width=w,T.height=O;let k=T.getContext("2d");if(!k)return null;r.backgroundColor!=null&&(k.fillStyle=r.backgroundColor,k.fillRect(0,0,w,O));let U=(r.transform.scale||1)*(r.transform.flipH?-1:1),F=(r.transform.scale||1)*(r.transform.flipV?-1:1),{translateH:te,translateV:Re}=this.getCanvasTranslate(t,r,p),Y=t.transformed;k.setTransform(U,0,0,F,Y.size.width/2+te,Y.size.height/2+Re),k.translate(-m.x1/U,-m.y1/F),k.rotate((r.transform.rotate||0)*Math.PI/180),k.drawImage(Y.image,-Y.size.width/2,-Y.size.height/2);let Q={width:w,height:O,imagePosition:m,cropperPosition:ze({},i)};r.containWithinAspectRatio&&(Q.offsetImagePosition=this.getOffsetImagePosition(t,i,r,p));let he=this.getResizeRatio(w,O,r);return he!==1&&(Q.width=Math.round(w*he),Q.height=r.maintainAspectRatio?Math.round(Q.width/r.aspectRatio):Math.round(O*he),pl(T,Q.width,Q.height)),c==="blob"?this.cropToBlob(Q,T,r):(Q.base64=T.toDataURL("image/"+r.format,this.getQuality(r)),Q)}cropToBlob(t,i,r){return Z(this,null,function*(){return t.blob=yield new Promise(c=>i.toBlob(c,"image/"+r.format,this.getQuality(r))),t.blob&&(t.objectUrl=URL.createObjectURL(t.blob)),t})}getCanvasTranslate(t,i,r){if(i.transform.translateUnit==="px"){let c=this.getRatio(t,r);return{translateH:(i.transform.translateH||0)*c,translateV:(i.transform.translateV||0)*c}}else return{translateH:i.transform.translateH?ka(i.transform.translateH,t.transformed.size.width):0,translateV:i.transform.translateV?ka(i.transform.translateV,t.transformed.size.height):0}}getRatio(t,i){return t.transformed.size.width/i.width}getImagePosition(t,i,r,c){let p=this.getRatio(t,c),m={x1:Math.round(i.x1*p),y1:Math.round(i.y1*p),x2:Math.round(i.x2*p),y2:Math.round(i.y2*p)};return r.containWithinAspectRatio||(m.x1=Math.max(m.x1,0),m.y1=Math.max(m.y1,0),m.x2=Math.min(m.x2,t.transformed.size.width),m.y2=Math.min(m.y2,t.transformed.size.height)),m}getOffsetImagePosition(t,i,r,c){let p=r.canvasRotation+t.exifTransform.rotate,m=this.getRatio(t,c),w,O;p%2?(w=(t.transformed.size.width-t.original.size.height)/2,O=(t.transformed.size.height-t.original.size.width)/2):(w=(t.transformed.size.width-t.original.size.width)/2,O=(t.transformed.size.height-t.original.size.height)/2);let T={x1:Math.round(i.x1*m)-w,y1:Math.round(i.y1*m)-O,x2:Math.round(i.x2*m)-w,y2:Math.round(i.y2*m)-O};return r.containWithinAspectRatio||(T.x1=Math.max(T.x1,0),T.y1=Math.max(T.y1,0),T.x2=Math.min(T.x2,t.transformed.size.width),T.y2=Math.min(T.y2,t.transformed.size.height)),T}getResizeRatio(t,i,r){let c=r.resizeToWidth/t,p=r.resizeToHeight/i,m=new Array;r.resizeToWidth>0&&m.push(c),r.resizeToHeight>0&&m.push(p);let w=m.length===0?1:Math.min(...m);return w>1&&!r.onlyScaleDown?w:Math.min(w,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),ul=(()=>{let n=class n{resetCropperPosition(t,i,r,c){if(t?.nativeElement)if(r.cropperStaticHeight&&r.cropperStaticWidth)i.x1=0,i.x2=c.width>r.cropperStaticWidth?r.cropperStaticWidth:c.width,i.y1=0,i.y2=c.height>r.cropperStaticHeight?r.cropperStaticHeight:c.height;else{let p=Math.min(r.cropperScaledMaxWidth,c.width),m=Math.min(r.cropperScaledMaxHeight,c.height);if(!r.maintainAspectRatio)i.x1=0,i.x2=p,i.y1=0,i.y2=m;else if(c.width/r.aspectRatio<c.height){i.x1=0,i.x2=p;let w=p/r.aspectRatio;i.y1=(c.height-w)/2,i.y2=i.y1+w}else{i.y1=0,i.y2=m;let w=m*r.aspectRatio;i.x1=(c.width-w)/2,i.x2=i.x1+w}}}move(t,i,r){let c=this.getClientX(t)-i.clientX,p=this.getClientY(t)-i.clientY;r.x1=i.x1+c,r.y1=i.y1+p,r.x2=i.x2+c,r.y2=i.y2+p}resize(t,i,r,c,p){let m=this.getClientX(t)-i.clientX,w=this.getClientY(t)-i.clientY;switch(i.position){case"left":r.x1=Math.min(Math.max(i.x1+m,r.x2-p.cropperScaledMaxWidth),r.x2-p.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(i.x1+m,r.x2-p.cropperScaledMaxWidth),r.x2-p.cropperScaledMinWidth),r.y1=Math.min(Math.max(i.y1+w,r.y2-p.cropperScaledMaxHeight),r.y2-p.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(i.y1+w,r.y2-p.cropperScaledMaxHeight),r.y2-p.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(i.x2+m,r.x1+p.cropperScaledMaxWidth),r.x1+p.cropperScaledMinWidth),r.y1=Math.min(Math.max(i.y1+w,r.y2-p.cropperScaledMaxHeight),r.y2-p.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(i.x2+m,r.x1+p.cropperScaledMaxWidth),r.x1+p.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(i.x2+m,r.x1+p.cropperScaledMaxWidth),r.x1+p.cropperScaledMinWidth),r.y2=Math.max(Math.min(i.y2+w,r.y1+p.cropperScaledMaxHeight),r.y1+p.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(i.y2+w,r.y1+p.cropperScaledMaxHeight),r.y1+p.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(i.x1+m,r.x2-p.cropperScaledMaxWidth),r.x2-p.cropperScaledMinWidth),r.y2=Math.max(Math.min(i.y2+w,r.y1+p.cropperScaledMaxHeight),r.y1+p.cropperScaledMinHeight);break;case"center":let O=t.scale,T=Math.min(Math.max(p.cropperScaledMinWidth,Math.abs(i.x2-i.x1)*O),p.cropperScaledMaxWidth),k=Math.min(Math.max(p.cropperScaledMinHeight,Math.abs(i.y2-i.y1)*O),p.cropperScaledMaxHeight);r.x1=i.clientX-T/2,r.x2=i.clientX+T/2,r.y1=i.clientY-k/2,r.y2=i.clientY+k/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>c.width&&(r.x1-=r.x2-c.width,r.x2=c.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>c.height&&(r.y1-=r.y2-c.height,r.y2=c.height);break}p.maintainAspectRatio&&this.checkAspectRatio(i.position,r,c,p)}checkAspectRatio(t,i,r,c){let p=0,m=0;switch(t){case"top":i.x2=i.x1+(i.y2-i.y1)*c.aspectRatio,p=Math.max(i.x2-r.width,0),m=Math.max(0-i.y1,0),(p>0||m>0)&&(i.x2-=m*c.aspectRatio>p?m*c.aspectRatio:p,i.y1+=m*c.aspectRatio>p?m:p/c.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*c.aspectRatio,p=Math.max(i.x2-r.width,0),m=Math.max(i.y2-r.height,0),(p>0||m>0)&&(i.x2-=m*c.aspectRatio>p?m*c.aspectRatio:p,i.y2-=m*c.aspectRatio>p?m:p/c.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/c.aspectRatio,p=Math.max(0-i.x1,0),m=Math.max(0-i.y1,0),(p>0||m>0)&&(i.x1+=m*c.aspectRatio>p?m*c.aspectRatio:p,i.y1+=m*c.aspectRatio>p?m:p/c.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/c.aspectRatio,p=Math.max(i.x2-r.width,0),m=Math.max(0-i.y1,0),(p>0||m>0)&&(i.x2-=m*c.aspectRatio>p?m*c.aspectRatio:p,i.y1+=m*c.aspectRatio>p?m:p/c.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/c.aspectRatio,p=Math.max(i.x2-r.width,0),m=Math.max(i.y2-r.height,0),(p>0||m>0)&&(i.x2-=m*c.aspectRatio>p?m*c.aspectRatio:p,i.y2-=m*c.aspectRatio>p?m:p/c.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/c.aspectRatio,p=Math.max(0-i.x1,0),m=Math.max(i.y2-r.height,0),(p>0||m>0)&&(i.x1+=m*c.aspectRatio>p?m*c.aspectRatio:p,i.y2-=m*c.aspectRatio>p?m:p/c.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*c.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/c.aspectRatio;let w=Math.max(0-i.x1,0),O=Math.max(i.x2-r.width,0),T=Math.max(i.y2-r.height,0),k=Math.max(0-i.y1,0);(w>0||O>0||T>0||k>0)&&(i.x1+=T*c.aspectRatio>w?T*c.aspectRatio:w,i.x2-=k*c.aspectRatio>O?k*c.aspectRatio:O,i.y1+=k*c.aspectRatio>O?k:O/c.aspectRatio,i.y2-=T*c.aspectRatio>w?T:w/c.aspectRatio);break}}getClientX(t){return"touches"in t&&t.touches[0]?t.touches[0].clientX:"clientX"in t?t.clientX:0}getClientY(t){return"touches"in t&&t.touches[0]?t.touches[0].clientY:"clientX"in t?t.clientY:0}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),ml="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function _l(){return new Promise(o=>{let n=new Image;n.onload=()=>{let e=n.width===1&&n.height===2;o(e)},n.src=ml})}function gl(o){switch(typeof o=="object"&&(o=fl(o)),o){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function fl(o){let n=new DataView(o);if(n.getUint16(0,!1)!==65496)return-2;let e=n.byteLength,t=2;for(;t<e;){if(n.getUint16(t+2,!1)<=8)return-1;let i=n.getUint16(t,!1);if(t+=2,i==65505){if(n.getUint32(t+=2,!1)!==1165519206)return-1;let r=n.getUint16(t+=6,!1)==18761;t+=n.getUint32(t+4,r);let c=n.getUint16(t,r);t+=2;for(let p=0;p<c;p++)if(n.getUint16(t+p*12,r)==274)return n.getUint16(t+p*12+8,r)}else{if((i&65280)!==65280)break;t+=n.getUint16(t,!1)}}return-1}var xl=(()=>{let n=class n{constructor(){this.autoRotateSupported=_l()}loadImageFile(t,i){return Z(this,null,function*(){let r=yield t.arrayBuffer();return yield this.checkImageTypeAndLoadImageFromArrayBuffer(r,t.type,i)})}checkImageTypeAndLoadImageFromArrayBuffer(t,i,r){return this.isValidImageType(i)?this.loadImageFromArrayBuffer(t,r,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,i){return Z(this,null,function*(){let c=yield(yield fetch(t)).blob(),p=yield c.arrayBuffer();return yield this.loadImageFromArrayBuffer(p,i,c.type)})}loadBase64Image(t,i){let r=this.base64ToArrayBuffer(t);return this.loadImageFromArrayBuffer(r,i)}base64ToArrayBuffer(t){t=t.replace(/^data:([^;]+);base64,/gmi,"");let i=atob(t),r=i.length,c=new Uint8Array(r);for(let p=0;p<r;p++)c[p]=i.charCodeAt(p);return c.buffer}loadImageFromArrayBuffer(t,i,r){return Z(this,null,function*(){let c=yield new Promise((p,m)=>Z(this,null,function*(){try{let w=new Blob([t],r?{type:r}:void 0),O=URL.createObjectURL(w),T=new Image,U=r==="image/svg+xml"?yield this.getSvgImageSize(w):void 0;T.onload=()=>p({originalImage:T,originalImageSize:U,originalObjectUrl:O,originalArrayBuffer:t}),T.onerror=m,T.src=O}catch(w){m(w)}}));return yield this.transformImageFromArrayBuffer(c,i,c.originalImageSize!=null)})}getSvgImageSize(t){return Z(this,null,function*(){let c=new DOMParser().parseFromString(yield t.text(),"image/svg+xml").querySelector("svg");if(!c)throw Error("Failed to parse SVG image");let p=c.getAttribute("width"),m=c.getAttribute("height");if(p&&m)return null;let w=c.getAttribute("viewBox")||c.getAttribute("viewbox");if(w){let O=w.split(" ");return{width:+O[2],height:+O[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(t,i,r=!1){return Z(this,null,function*(){let c=yield this.autoRotateSupported,p=gl(c?-1:t.originalArrayBuffer);if(!t.originalImage||!t.originalImage.complete)return Promise.reject(new Error("No image loaded"));let m={original:{objectUrl:t.originalObjectUrl,image:t.originalImage,size:t.originalImageSize??{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:p};return this.transformLoadedImage(m,i,r)})}transformLoadedImage(t,i,r=!1){return Z(this,null,function*(){let c=i.canvasRotation+t.exifTransform.rotate,p=t.original.size;if(!r&&c===0&&!t.exifTransform.flip&&!i.containWithinAspectRatio)return{original:{objectUrl:t.original.objectUrl,image:t.original.image,size:ze({},p)},transformed:{objectUrl:t.original.objectUrl,image:t.original.image,size:ze({},p)},exifTransform:t.exifTransform};let m=this.getTransformedSize(p,t.exifTransform,i),w=document.createElement("canvas");w.width=m.width,w.height=m.height;let O=w.getContext("2d");O?.setTransform(t.exifTransform.flip?-1:1,0,0,1,w.width/2,w.height/2),O?.rotate(Math.PI*(c/2)),O?.drawImage(t.original.image,-p.width/2,-p.height/2);let T=yield new Promise(F=>w.toBlob(F,i.format));if(!T)throw new Error("Failed to get Blob for transformed image.");let k=URL.createObjectURL(T),U=yield this.loadImageFromObjectUrl(k);return{original:{objectUrl:t.original.objectUrl,image:t.original.image,size:ze({},p)},transformed:{objectUrl:k,image:U,size:{width:U.width,height:U.height}},exifTransform:t.exifTransform}})}loadImageFromObjectUrl(t){return new Promise((i,r)=>{let c=new Image;c.onload=()=>i(c),c.onerror=r,c.src=t})}getTransformedSize(t,i,r){let c=r.canvasRotation+i.rotate;if(r.containWithinAspectRatio)if(c%2){let p=t.width*r.aspectRatio,m=t.height/r.aspectRatio;return{width:Math.max(t.height,p),height:Math.max(t.width,m)}}else{let p=t.height*r.aspectRatio,m=t.width/r.aspectRatio;return{width:Math.max(t.width,p),height:Math.max(t.height,m)}}return c%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),si=(()=>{let n=class n{constructor(t,i,r,c,p,m,w){this.cropService=t,this.cropperPositionService=i,this.loadImageService=r,this.sanitizer=c,this.cd=p,this.zone=m,this.hammerLoader=w,this.settings=new so,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Ie,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new me,this.startCropImage=new me,this.imageLoaded=new me,this.cropperReady=new me,this.loadImageFailed=new me,this.transformChange=new me,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage?.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(this.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop())),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let t=this.imageChangedEvent?.target?.files;return t instanceof FileList&&t.length>0}setCssTransform(){let t=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.objectUrl),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){this.loadedImage!=null&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(ze({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let t=ze({},this.maxSize);this.setMaxSize(),this.resizeCropperPosition(t),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){return Z(this,null,function*(){yield this.hammerLoader?.();let t=window?.Hammer||null;if(t){let i=new t(this.wrapper.nativeElement);i.get("pinch").set({enable:!0}),i.on("pinchmove",this.onPinch.bind(this)),i.on("pinchend",this.pinchStop.bind(this)),i.on("pinchstart",this.startPinch.bind(this))}else nr()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})}resizeCropperPosition(t){(t.width!==this.maxSize.width||t.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/t.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/t.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/t.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/t.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){let i=+t.key;i>=1&&i<=9&&(this.settings.stepSize=i)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;let r=t.shiftKey?Ie.Resize:Ie.Move,c=t.altKey?ll(t.key):cl(t.key),p=dl(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},r,c),this.handleMouseMove(p),this.handleMouseUp()}startMove(t,i,r=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===Ie.Pinch||i===Ie.Drag&&!this.allowMoveImage||("preventDefault"in t&&t.preventDefault(),this.moveStart=ze({active:!0,type:i,position:r,transform:ze({},this.transform),clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper),this.initMouseMove())}initMouseMove(){zi(sn(document,"mousemove"),sn(document,"touchmove")).pipe(Xo(zi(sn(document,"mouseup"),sn(document,"touchend")).pipe(Qo()))).subscribe({next:t=>this.zone.run(()=>{this.handleMouseMove(t),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=ze({active:!0,type:Ie.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}handleMouseMove(t){if(this.moveStart.active){if("stopPropagation"in t&&t.stopPropagation(),"preventDefault"in t&&t.preventDefault(),this.moveStart.type===Ie.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Ie.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Ie.Drag){let i=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,r=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform=jo(ze({},this.transform),{translateH:(this.moveStart.transform?.translateH||0)+i,translateV:(this.moveStart.transform?.translateV||0)+r}),this.setCssTransform()}}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Ie.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){let t=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(t.width),this.maxSize.height=parseFloat(t.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){let t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===Ie.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(t=this.settings.output){if(this.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),t==="blob")return this.cropToBlob();if(t==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((t,i)=>this.zone.run(()=>Z(this,null,function*(){let r=yield this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);r?(this.imageCropped.emit(r),t(r)):i("Crop image failed")})))}cropToBase64(){let t=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return t?(this.imageCropped.emit(t),t):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}};n.\u0275fac=function(i){return new(i||n)(I(hl),I(ul),I(xl),I(zt),I(ir),I(Jo),I(rr,8))},n.\u0275cmp=L({type:n,selectors:[["image-cropper"]],viewQuery:function(i,r){if(i&1&&(pt(il,7),pt(ol,5)),i&2){let c;ht(c=ut())&&(r.wrapper=c.first),ht(c=ut())&&(r.sourceImage=c.first)}},hostVars:6,hostBindings:function(i,r){i&1&&y("resize",function(){return r.onResize()},!1,Ko),i&2&&(At("text-align",r.alignImage),Dn("disabled",r.disabled)("ngx-ix-hidden",r.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},standalone:!0,features:[ue,De],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(i,r){i&1&&(s(0,"div",null,0),M(2,rl,2,8,"img",2),b(3,"div",3),M(4,sl,3,16,"div",4),a()),i&2&&(At("background",r.imageVisible&&r.backgroundColor),d(2),C("ngIf",r.safeImgDataUrl),d(),At("width",r.maxSize.width,"px")("height",r.maxSize.height,"px")("margin-left",r.alignImage==="center"?r.marginLeft:null),d(),C("ngIf",r.imageVisible))},dependencies:[oe],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0});let o=n;return o})();var Cl=o=>({visibility:o}),Ta=o=>({circular:o});function vl(o,n){if(o&1){let e=E();s(0,"image-cropper",7),y("imageCropped",function(i){f(e);let r=_();return x(r.imageCropped(i))})("imageLoaded",function(){f(e);let i=_();return x(i.imageLoaded())})("cropperReady",function(){f(e);let i=_();return x(i.cropperReady())})("loadImageFailed",function(){f(e);let i=_();return x(i.loadImageFailed())}),a()}if(o&2){let e=_();C("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("output","base64")("aspectRatio",e.ratio)}}function yl(o,n){if(o&1&&b(0,"img",11),o&2){let e=_(2);H("src",e.previewUrl,D),C("ngClass",V(2,Ta,e.shape=="circular"))}}function wl(o,n){if(o&1&&b(0,"img",12),o&2){let e=_(2);C("ngClass",V(1,Ta,e.shape=="circular"))}}function Ml(o,n){if(o&1&&(s(0,"div",8),M(1,yl,1,4,"img",9)(2,wl,1,3,"img",10),a()),o&2){let e=_();d(),C("ngIf",e.previewUrl),d(),C("ngIf",!e.previewUrl)}}function Sl(o,n){if(o&1){let e=E();s(0,"div",13)(1,"button",14),y("click",function(){f(e);let i=_();return x(i.cancelImageOnAdd())}),h(2,"CANCEL"),a(),s(3,"button",15),y("click",function(){f(e);let i=_();return x(i.setImageOnAdd())}),h(4,"SAVE"),a()()}}var Ia=(()=>{let n=class n{constructor(t){this.sanitizer=t,this.imageLoadedEvent=new me,this.cropperActiveEvent=new me,this.image_is_preview=!1}ngOnChanges(){this.previewUrlo=this.previewUrl}fileChangeEvent(t){this.imageChangedEvent=t,this.cropperActiveEvent.emit(!0)}imageCropped(t){this.croppedImage=t.base64,this.previewUrl=t.base64,this.image_is_preview=!0}imageLoaded(){}cropperReady(){}loadImageFailed(){}cancelImageOnAdd(){this.imageChangedEvent=void 0,this.previewUrl=this.previewUrlo,this.imageLoadedEvent.emit(this.previewUrl)}setImageOnAdd(){this.previewUrl=this.croppedImage,console.log("this.previewUrl",this.previewUrl),this.imageChangedEvent=void 0,this.imageLoadedEvent.emit(this.previewUrl),this.cropperActiveEvent.emit(!1)}};n.\u0275fac=function(i){return new(i||n)(I(zt))},n.\u0275cmp=L({type:n,selectors:[["app-profile-image-upload"]],inputs:{previewUrl:"previewUrl",ratio:"ratio",shape:"shape"},outputs:{imageLoadedEvent:"imageLoadedEvent",cropperActiveEvent:"cropperActiveEvent"},features:[ue],decls:8,vars:6,consts:[[1,"form-group",2,"margin-bottom","0"],[1,"btn","btn-default","button_secondary",3,"ngStyle"],[1,"fa","fa-image"],["type","file","name","image",2,"display","none",3,"change"],["format","png","class","image_cropper_container",3,"imageChangedEvent","maintainAspectRatio","output","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed",4,"ngIf"],["class","image_container",4,"ngIf"],["class","text-center","style","padding:40px 0;",4,"ngIf"],["format","png",1,"image_cropper_container",3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","imageChangedEvent","maintainAspectRatio","output","aspectRatio"],[1,"image_container"],["class","image_preview_on_edit",3,"src","ngClass",4,"ngIf"],["src","../../../../assets/images/noimage.png","class","image_preview_on_edit",3,"ngClass",4,"ngIf"],[1,"image_preview_on_edit",3,"src","ngClass"],["src","../../../../assets/images/noimage.png",1,"image_preview_on_edit",3,"ngClass"],[1,"text-center",2,"padding","40px 0"],[1,"btn","btn-default","button_secondary",2,"margin","0 5px",3,"click"],[1,"btn","btn-default","button_primary",2,"margin","0 5px",3,"click"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"label",1),b(2,"i",2),h(3,"\xA0Upload image"),s(4,"input",3),y("change",function(p){return r.fileChangeEvent(p)}),a()()(),M(5,vl,1,4,"image-cropper",4)(6,Ml,3,2,"div",5)(7,Sl,5,0,"div",6)),i&2&&(d(),C("ngStyle",V(4,Cl,r.imageChangedEvent?"hidden":"visible")),d(4),C("ngIf",r.imageChangedEvent),d(),C("ngIf",!r.imageChangedEvent),d(),C("ngIf",r.imageChangedEvent))},dependencies:[ce,oe,Rt,si],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.image_cropper_container[_ngcontent-%COMP%]{width:250px;margin:auto}.image_preview_on_edit[_ngcontent-%COMP%]{height:125px;width:125px;display:block;margin:auto;object-fit:cover;object-position:center;border:solid 1px lightgrey;border-radius:50%}.image_container[_ngcontent-%COMP%]{padding:20px 0}']});let o=n;return o})();function kl(o,n){o&1&&(s(0,"div",2)(1,"em"),h(2,"You can edit or modify your account settings here. Your profile image is shown on the leaderboard table, make it a good one!"),a()())}function Tl(o,n){o&1&&(s(0,"div",2)(1,"em"),h(2,"You can edit or modify your account settings here."),a()())}function Il(o,n){if(o&1){let e=E();s(0,"i",37),y("click",function(){f(e);let i=_(3);return x(i.editProfileImage())}),a()}}function Al(o,n){if(o&1&&(s(0,"div",28),b(1,"img",35),M(2,Il,1,0,"i",36),a()),o&2){let e=_(2);d(),H("src",e.user.image,D),d(),C("ngIf",e.user)}}function Rl(o,n){o&1&&(s(0,"span"),b(1,"i",38),a())}function Vl(o,n){o&1&&(s(0,"span"),b(1,"i",39),a())}function zl(o,n){if(o&1){let e=E();s(0,"div",26)(1,"div",27),M(2,Al,3,2,"div",28),s(3,"ul",29)(4,"li",30),h(5),s(6,"span")(7,"button",31),y("click",function(){f(e);let i=_();return x(i.showEditName())}),h(8,"Edit"),a()()(),s(9,"li",30),h(10),M(11,Rl,2,0,"span",32)(12,Vl,2,0,"span",32),s(13,"span")(14,"button",31),y("click",function(){f(e);let i=_();return x(i.showEditEmail())}),h(15),a()()(),s(16,"li",30),h(17,"Password "),s(18,"span")(19,"button",31),y("click",function(){f(e);let i=_();return x(i.showEditPassword())}),h(20,"Edit"),a()()(),s(21,"li",33),y("click",function(){f(e);let i=_();return x(i.logout())}),h(22,"Logout "),a(),s(23,"li",34),y("click",function(){f(e);let i=_();return x(i.confirmDelete())}),h(24,"Delete Account "),a()()()()}if(o&2){let e=_();d(2),P(2,e.user.account_type=="player"?2:-1),d(3),z("",e.user.username," "),d(5),z("",e.user.email," \xA0 "),d(),C("ngIf",e.user.email_has_been_verified==!0),d(),C("ngIf",e.user.email_has_been_verified!=!0),d(3),z(" ",e.user.email_has_been_verified==!0?"Edit":"Verify"," ")}}function Ll(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(2);d(),A(e.invalid_user_name)}}function Bl(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("editNameModal"))}),b(2,"i",19),a(),s(3,"h1",40),h(4,"Edit Username"),a(),s(5,"div",41)(6,"input",23),J("ngModelChange",function(i){f(e);let r=_();return K(r.user_name,i)||(r.user_name=i),x(i)}),y("ngModelChange",function(){f(e);let i=_();return x(i.clearAlerts())}),a()(),M(7,Ll,2,1,"div",42),s(8,"div",24)(9,"button",43),y("click",function(){f(e);let i=_();return x(i.saveName())}),h(10,"SAVE"),a()()()}if(o&2){let e=_();d(6),X("ngModel",e.user_name),d(),C("ngIf",e.invalid_user_name)}}function Nl(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(3);d(),A(e.invalid_user_email)}}function Ul(o,n){if(o&1){let e=E();s(0,"div",48)(1,"h1",40),h(2,"Edit Email"),a(),s(3,"div",49)(4,"input",23),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.user_email,i)||(r.user_email=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.clearAlerts())}),a()(),M(5,Nl,2,1,"div",42),s(6,"p",50),b(7,"i",51),h(8,"\xA0Editing will require verification"),a()()}if(o&2){let e=_(2);d(4),X("ngModel",e.user_email),d(),C("ngIf",e.invalid_user_email)}}function Dl(o,n){o&1&&(s(0,"div",44),h(1,"Code is incorrect"),a())}function Fl(o,n){if(o&1){let e=E();s(0,"div",52)(1,"p"),h(2,"Please enter the verification code that was sent to "),s(3,"em"),h(4),a()(),s(5,"div",53)(6,"input",54),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_1e,i)||(r.digit_1e=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodeEmail(1))}),a(),s(7,"input",55),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_2e,i)||(r.digit_2e=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodeEmail(2))}),a(),s(8,"input",56),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_3e,i)||(r.digit_3e=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodeEmail(3))}),a(),s(9,"input",57),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_4e,i)||(r.digit_4e=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodeEmail(4))}),a(),s(10,"input",58),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_5e,i)||(r.digit_5e=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodeEmail(5))}),a(),s(11,"input",59),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_6e,i)||(r.digit_6e=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodeEmail(6))}),a()(),s(12,"div",60)(13,"input",23),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digits,i)||(r.digits=i),x(i)}),a()(),M(14,Dl,2,0,"div",42),a()}if(o&2){let e=_(2);d(4),A(e.user.email),d(2),X("ngModel",e.digit_1e),d(),X("ngModel",e.digit_2e),d(),X("ngModel",e.digit_3e),d(),X("ngModel",e.digit_4e),d(),X("ngModel",e.digit_5e),d(),X("ngModel",e.digit_6e),d(2),X("ngModel",e.digits),d(),C("ngIf",e.email_verification_code_failed==!0)}}function ql(o,n){if(o&1){let e=E();s(0,"button",43),y("click",function(){f(e);let i=_(2);return x(i.verifyEmail())}),h(1,"VERIFY"),a()}}function Hl(o,n){if(o&1){let e=E();s(0,"button",43),y("click",function(){f(e);let i=_(2);return x(i.submitEmailVerificationCode())}),h(1,"SUBMIT"),a()}}function Wl(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("editEmailModal"))}),b(2,"i",19),a(),M(3,Ul,9,2,"div",45)(4,Fl,15,9,"div",46),s(5,"div",24),M(6,ql,2,0,"button",47)(7,Hl,2,0,"button",47),a()()}if(o&2){let e=_();d(3),C("ngIf",e.email_change_step==1),d(),C("ngIf",e.email_change_step==2),d(2),C("ngIf",e.email_change_step==1),d(),C("ngIf",e.email_change_step==2)}}function jl(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(3);d(),A(e.invalid_user_phone)}}function Gl(o,n){if(o&1){let e=E();s(0,"div",48)(1,"h1",40),h(2,"Phone Verification"),a(),s(3,"p"),h(4,"Add a phone number to your account to receive notifications. "),a(),s(5,"div",49)(6,"label"),h(7,"Mobile number"),a(),b(8,"br"),s(9,"input",23),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.user_phone,i)||(r.user_phone=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.clearAlerts())}),a(),M(10,jl,2,1,"div",42),a()()}if(o&2){let e=_(2);d(9),X("ngModel",e.user_phone),d(),C("ngIf",e.invalid_user_phone)}}function Yl(o,n){if(o&1){let e=E();s(0,"div",52)(1,"p"),h(2,"Please enter the verification code that was sent to "),s(3,"em"),h(4),a()(),s(5,"div",53)(6,"input",63),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_1p,i)||(r.digit_1p=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodePhone(1))}),a(),s(7,"input",64),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_2p,i)||(r.digit_2p=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodePhone(2))}),a(),s(8,"input",65),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_3p,i)||(r.digit_3p=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodePhone(3))}),a(),s(9,"input",66),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_4p,i)||(r.digit_4p=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodePhone(4))}),a(),s(10,"input",67),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_5p,i)||(r.digit_5p=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodePhone(5))}),a(),s(11,"input",68),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digit_6p,i)||(r.digit_6p=i),x(i)}),y("ngModelChange",function(){f(e);let i=_(2);return x(i.evalAccessCodePhone(6))}),a()(),s(12,"div",60)(13,"input",23),J("ngModelChange",function(i){f(e);let r=_(2);return K(r.digits,i)||(r.digits=i),x(i)}),a()()()}if(o&2){let e=_(2);d(4),A(e.user_phone),d(2),X("ngModel",e.digit_1p),d(),X("ngModel",e.digit_2p),d(),X("ngModel",e.digit_3p),d(),X("ngModel",e.digit_4p),d(),X("ngModel",e.digit_5p),d(),X("ngModel",e.digit_6p),d(2),X("ngModel",e.digits)}}function Ql(o,n){if(o&1){let e=E();s(0,"button",69),y("click",function(){f(e);let i=_(2);return x(i.sendPhoneCode())}),h(1,"SEND CODE"),a()}}function Xl(o,n){if(o&1){let e=E();s(0,"button",69),y("click",function(){f(e);let i=_(2);return x(i.confirmPhoneCode())}),h(1,"CONFIRM"),a()}}function Kl(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("editPhoneModal"))}),b(2,"i",19),a(),M(3,Gl,11,2,"div",45)(4,Yl,14,8,"div",46),s(5,"div",24)(6,"button",61),y("click",function(){f(e);let i=_();return x(i.closeModal("editPhoneModal"))}),h(7,"CANCEL"),a(),M(8,Ql,2,0,"button",62)(9,Xl,2,0,"button",62),a()()}if(o&2){let e=_();d(3),C("ngIf",e.phone_change_step==1),d(),C("ngIf",e.phone_change_step==2),d(4),C("ngIf",e.phone_change_step==1),d(),C("ngIf",e.phone_change_step==2)}}function Jl(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(2);d(),A(e.invalid_user_zipcode)}}function $l(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("editLocationModal"))}),b(2,"i",19),a(),s(3,"h1",40),h(4,"Set Location"),a(),s(5,"p"),h(6,"Set your location so we can personalize your experience showing you distance to certain classes"),a(),s(7,"div",70)(8,"label"),h(9,"Zip Code"),a(),b(10,"br"),s(11,"input",71),J("ngModelChange",function(i){f(e);let r=_();return K(r.user_zipcode,i)||(r.user_zipcode=i),x(i)}),y("ngModelChange",function(){f(e);let i=_();return i.evalZipCode(),x(i.clearAlerts())}),a(),M(12,Jl,2,1,"div",42),s(13,"p",72),h(14),a()(),s(15,"div",24)(16,"button",69),y("click",function(){f(e);let i=_();return x(i.saveZipCode())}),h(17,"SAVE"),a()()()}if(o&2){let e=_();d(11),X("ngModel",e.user_zipcode),d(),C("ngIf",e.invalid_user_zipcode),d(2),ie("",e.location.city,", ",e.location.state,"")}}function Zl(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(2);d(),A(e.invalid_password_current)}}function ed(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(2);d(),A(e.invalid_password_new)}}function td(o,n){if(o&1&&(s(0,"div",44),h(1),a()),o&2){let e=_(2);d(),z("",e.invalid_password_new_confirm," ")}}function nd(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("editPasswordModal"))}),b(2,"i",19),a(),s(3,"h1",40),h(4,"Reset Password"),a(),s(5,"div",73)(6,"label"),h(7,"Current Password"),a(),b(8,"br"),s(9,"input",74),J("ngModelChange",function(i){f(e);let r=_();return K(r.password_current,i)||(r.password_current=i),x(i)}),y("ngModelChange",function(){f(e);let i=_();return x(i.clearAlerts())}),a()(),M(10,Zl,2,1,"div",42),s(11,"div",49)(12,"label"),h(13,"New Password"),a(),b(14,"br"),s(15,"input",74),J("ngModelChange",function(i){f(e);let r=_();return K(r.password_new,i)||(r.password_new=i),x(i)}),y("ngModelChange",function(){f(e);let i=_();return x(i.clearAlerts())}),a(),M(16,ed,2,1,"div",42),s(17,"label"),h(18,"Confirm Password"),a(),b(19,"br"),s(20,"input",74),J("ngModelChange",function(i){f(e);let r=_();return K(r.password_new_confirm,i)||(r.password_new_confirm=i),x(i)}),y("ngModelChange",function(){f(e);let i=_();return x(i.clearAlerts())}),a(),M(21,td,2,1,"div",42),a(),s(22,"div",24)(23,"button",69),y("click",function(){f(e);let i=_();return x(i.savePassword())}),h(24,"SUBMIT"),a()()()}if(o&2){let e=_();d(9),X("ngModel",e.password_current),d(),C("ngIf",e.invalid_password_current),d(5),X("ngModel",e.password_new),d(),C("ngIf",e.invalid_password_new),d(4),X("ngModel",e.password_new_confirm),d(),C("ngIf",e.invalid_password_new_confirm)}}function id(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("emailVerificationSuccessModal"))}),b(2,"i",19),a(),s(3,"p",75),h(4,"Thank you! Your email has been verified successfully."),a(),s(5,"div",24)(6,"button",69),y("click",function(){f(e);let i=_();return x(i.closeModal("emailVerificationSuccessModal"))}),h(7,"OK"),a()()()}}function od(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("phoneVerificationSuccessModal"))}),b(2,"i",19),a(),s(3,"p",75),h(4,"Thank you! Your phone has been verified successfully."),a(),s(5,"div",24)(6,"button",69),y("click",function(){f(e);let i=_();return x(i.closeModal("phoneVerificationSuccessModal"))}),h(7,"OK"),a()()()}}function rd(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("changePasswordSuccessModal"))}),b(2,"i",19),a(),s(3,"p",75),h(4,"Your password has been changed."),a(),s(5,"div",24)(6,"button",69),y("click",function(){f(e);let i=_();return x(i.closeModal("changePasswordSuccessModal"))}),h(7,"OK"),a()()()}}function ad(o,n){if(o&1){let e=E();s(0,"div",24)(1,"button",69),y("click",function(){f(e);let i=_(2);return x(i.closeModal("profileImageModal"))}),h(2,"OK"),a()()}}function sd(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("profileImageModal"))}),b(2,"i",19),a(),s(3,"app-profile-image-upload",76),y("imageLoadedEvent",function(i){f(e);let r=_();return x(r.saveProfileImage(i))})("cropperActiveEvent",function(i){f(e);let r=_();return x(r.setCropperActive(i))}),a(),M(4,ad,3,0,"div",77),a()}if(o&2){let e=_();d(3),C("previewUrl",e.user.image)("ratio",1/1)("shape","rectangular"),d(),C("ngIf",e.cropper_active!=!0)}}function cd(o,n){if(o&1){let e=E();s(0,"div",24)(1,"button",69),y("click",function(){f(e);let i=_(2);return x(i.closeModal("profileImageModal"))}),h(2,"OK"),a()()}}function ld(o,n){if(o&1){let e=E();s(0,"div",17)(1,"button",18),y("click",function(){f(e);let i=_();return x(i.closeModal("profileImageModal"))}),b(2,"i",19),a(),s(3,"app-profile-image-upload",76),y("imageLoadedEvent",function(i){f(e);let r=_();return x(r.saveProfileImage(i))})("cropperActiveEvent",function(i){f(e);let r=_();return x(r.setCropperActive(i))}),a(),M(4,cd,3,0,"div",77),a()}if(o&2){let e=_();d(3),C("previewUrl",e.user.image)("ratio",1/1)("shape","rectangular"),d(),C("ngIf",e.cropper_active!=!0)}}var Aa=(()=>{let n=class n{constructor(t,i,r,c,p,m){this.userService=t,this.tablesService=i,this.commonService=r,this.myblobService=c,this.router=p,this.document=m,this.user_name="",this.user_email="",this.user_zipcode="",this.user_phone="",this.password_current="",this.password_new="",this.password_new_confirm="",this.invalid_user_name="",this.invalid_user_email="",this.invalid_user_phone="",this.invalid_user_zipcode="",this.invalid_password_current="",this.invalid_password_new="",this.invalid_password_new_confirm="",this.email_verification_code_failed=!1,this.email_change_step=0,this.phone_change_step=0,this.digit_1e="",this.digit_2e="",this.digit_3e="",this.digit_4e="",this.digit_5e="",this.digit_6e="",this.digit_1p="",this.digit_2p="",this.digit_3p="",this.digit_4p="",this.digit_5p="",this.digit_6p="",this.digits="",this.location={},this.profile_image_filename="",this.cropper_active=!1,this.delete_confirm="",this.image_is_preview=!1}ngOnInit(){this.userService._getUser.subscribe(t=>{this.user=t,console.log("this.user",this.user),this.user&&(this.user.sign_up_date&&(this.user.sign_up_date_humanized=this.commonService.getDate(this.user.sign_up_date)),this.notify_via_sms=this.user.notify_by_sms,this.user_zipcode=this.user.location_zipcode,this.location={city:this.user.location_city,state:this.user.location_state})}),this.myblobService._profileImageUploaded.subscribe(t=>{t&&(console.log("filename----",t),this.user.image="https://sportzbattle.blob.core.windows.net/users/"+t,this.saveUserObjectInMemory())})}showEditName(){this.user_name=this.user.username,$("#editNameModal").modal("show")}showEditEmail(){this.clearDigits(),this.email_change_step=1,this.user_email=this.user.email,$("#editEmailModal").modal("show")}showEditPhone(){this.clearDigits(),this.phone_change_step=1,this.user_phone="",$("#editPhoneModal").modal("show")}showEditLocation(){console.log("this.user",this.user),this.user_zipcode=this.user.location_zipcode,this.location.city=this.user.location_city,this.location.state=this.user.location_state,$("#editLocationModal").modal("show")}showEditPassword(){$("#editPasswordModal").modal("show")}saveName(){if(console.log("save name"),!this.user_name){this.invalid_user_name="Please enter a valid name";return}var t={user_id:this.user.user_id,username:this.user_name};this.tablesService.UpdateItem("users","user_id",t).subscribe(()=>{this.user.username=this.user_name,$("#editNameModal").modal("hide"),this.saveUserObjectInMemory()})}clearAlerts(){this.invalid_user_name="",this.invalid_user_email="",this.invalid_user_phone="",this.invalid_user_zipcode="",this.invalid_password_current="",this.invalid_password_new="",this.invalid_password_new_confirm=""}saveUserObjectInMemory(){localStorage.setItem("user",JSON.stringify(this.user))}verifyEmail(){if(!this.user_email)this.invalid_user_email="Please enter a valid email";else{var t=this.user_email.match(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/);t||(this.invalid_user_email="Please enter a valid email")}this.invalid_user_email||(this.email_change_step=2)}evalAccessCodeEmail(t){if(t==1){if(this.digit_1e.length==1){var i=this.document.getElementById("digit_2e");i&&i.focus()}}else if(t==2){if(this.digit_2e.length==1){var i=this.document.getElementById("digit_3e");i&&i.focus()}}else if(t==3){if(this.digit_3e.length==1){var i=this.document.getElementById("digit_4e");i&&i.focus()}}else if(t==4){if(this.digit_4e.length==1){var i=this.document.getElementById("digit_5e");i&&i.focus()}}else if(t==5){if(this.digit_5e.length==1){var i=this.document.getElementById("digit_6e");i&&i.focus()}}else t==6;this.email_verification_code_failed=!1}submitEmailVerificationCode(){}emailVerificationSuccess(){}sendPhoneCode(){}evalAccessCodePhone(t){if(t==1){if(this.digit_1p.length==1){var i=this.document.getElementById("digit_2p");i&&i.focus()}}else if(t==2){if(this.digit_2p.length==1){var i=this.document.getElementById("digit_3p");i&&i.focus()}}else if(t==3){if(this.digit_3p.length==1){var i=this.document.getElementById("digit_4p");i&&i.focus()}}else if(t==4){if(this.digit_4p.length==1){var i=this.document.getElementById("digit_5p");i&&i.focus()}}else if(t==5){if(this.digit_5p.length==1){var i=this.document.getElementById("digit_6p");i&&i.focus()}}else t==6;this.email_verification_code_failed=!1}confirmPhoneCode(){}phoneVerificationSuccess(){}evalZipCode(){}saveZipCode(){if(!this.user_zipcode)this.invalid_user_zipcode="Please enter a valid zip code";else{var t=this.user_zipcode.match(/^\d{5}/);t||(this.invalid_user_zipcode="Please enter a valid zip code")}if(!this.invalid_user_zipcode&&this.location){var i={user_id:this.user.user_id,location_zipcode:this.user_zipcode,location_city:this.location.city,location_state:this.location.state,location_lat:this.location.lat,location_lng:this.location.lng};this.user.location_zipcode=this.user_zipcode,this.tablesService.UpdateItem("users","user_id",i).subscribe(()=>{$("#editLocationModal").modal("hide")})}}savePassword(){}editProfileImage(){console.log("------------------------"),$("#profileImageModal").modal("show")}saveProfileImage(t){console.log("save profile image"),this.profile_image_filename=this.commonService.generateImageName()+".jpeg";var i=this;this.commonService.resizeImage(t,200,.75,this.profile_image_filename).then(function(r){i.user.image=r.base64,i.image_is_preview=!0,i.myblobService.uploadProfileImageBlob(r.base64,i.user.user_id+"/"+r.filename);var c={user_id:i.user.user_id,image:"https://sportzbattle.blob.core.windows.net/users/"+i.user.user_id+"/"+i.profile_image_filename};i.tablesService.UpdateItem("users","user_id",c).subscribe(p=>{})})}clearDigits(){this.digit_1e="",this.digit_2e="",this.digit_3e="",this.digit_4e="",this.digit_5e="",this.digit_6e="",this.digit_1p="",this.digit_2p="",this.digit_3p="",this.digit_4p="",this.digit_5p="",this.digit_6p=""}setCropperActive(t){this.cropper_active=t}goBack(){}logout(){this.userService.logoutUser()}closeModal(t){$("#"+t).modal("hide")}confirmDelete(){$("#confirmDeleteModal").modal("show")}deleteAccount(){}goto(t){this.router.navigate([t])}notifyViaSMS(){setTimeout(()=>{var t={user_id:this.user.user_id,notify_by_sms:this.notify_via_sms};this.user.notify_by_sms=this.notify_via_sms,this.tablesService.UpdateItem("users","user_id",t).subscribe()},200)}};n.\u0275fac=function(i){return new(i||n)(I(xe),I(Se),I(fe),I(Gn),I(re),I(or))},n.\u0275cmp=L({type:n,selectors:[["app-settings"]],decls:67,vars:13,consts:[[1,"background","backgroundx"],[1,"page_title"],[1,"text-start",2,"padding","30px 0"],["class","content_container","style","max-width:450px;",4,"ngIf"],["id","editNameModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],["id","editEmailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editPhoneModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editLocationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editPasswordModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","emailVerificationSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","phoneVerificationSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","changePasswordSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","profileImageModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","confirmDeleteModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"delete_account_title"],[2,"padding-top","26px","text-align","left"],[1,"text-left"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-danger",2,"min-width","150px",3,"click"],[1,"content_container",2,"max-width","450px"],[1,"settings_container"],[2,"position","relative","width","fit-content","display","block","margin","auto"],[2,"list-style-type","none","max-width","400px","padding","0"],[1,"list_itemx"],[1,"btn","btn-default","settings_edit_button",3,"click"],[4,"ngIf"],[1,"list_itemx","logout_button",3,"click"],[1,"list_itemx","delete_account_button",3,"click"],[1,"profile_image",3,"src"],["class","fa fa-pencil edit_image_icon",3,"click",4,"ngIf"],[1,"fa","fa-pencil","edit_image_icon",3,"click"],[1,"fa","fa-check","verified_icon"],[1,"fa","fa-minus","not_verified_icon"],[1,"modal_title"],[2,"padding","30px 0 10px 0"],["class","alert_message",4,"ngIf"],["type","button",1,"btn","btn-default","button_primary",3,"click"],[1,"alert_message"],["class","form-group col-12",4,"ngIf"],["class","form-group col-12","style","padding-top: 30px;",4,"ngIf"],["type","button","class","btn btn-default button_primary",3,"click",4,"ngIf"],[1,"form-group","col-12"],[2,"padding","30px 0"],[2,"padding-left","10px","color","grey"],[1,"fa","fa-lock"],[1,"form-group","col-12",2,"padding-top","30px"],[1,"d-none","d-md-block","text-center"],["id","digit_1e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_2e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_3e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_4e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_5e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_6e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],[1,"d-block","d-md-none","text-center"],["type","button",1,"btn","btn-default","button_secondary",2,"margin","0 7px",3,"click"],["type","button","class","btn btn-default button_primary","style","min-width:150px",3,"click",4,"ngIf"],["id","digit_1p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_2p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_3p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_4p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_5p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_6p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-default","button_primary",2,"min-width","150px",3,"click"],[2,"padding","30px 0","max-width","225px","margin","auto"],["type","text",1,"form-control",2,"text-align","center",3,"ngModelChange","ngModel"],[1,"location_text"],[2,"padding-top","30px"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[2,"padding-top","40px","text-align","center"],[3,"imageLoadedEvent","cropperActiveEvent","previewUrl","ratio","shape"],["class","text-center","style","padding: 25px 0;",4,"ngIf"]],template:function(i,r){i&1&&(b(0,"app-user-sidemenu"),s(1,"div",0)(2,"div",1),h(3,"Account"),a(),M(4,kl,3,0,"div",2)(5,Tl,3,0)(6,zl,25,6,"div",3),a(),s(7,"div",4)(8,"div",5)(9,"div",6),M(10,Bl,11,2,"div",7),a()()(),s(11,"div",8)(12,"div",5)(13,"div",6),M(14,Wl,8,4,"div",7),a()()(),s(15,"div",9)(16,"div",5)(17,"div",6),M(18,Kl,10,4,"div",7),a()()(),s(19,"div",10)(20,"div",5)(21,"div",6),M(22,$l,18,4,"div",7),a()()(),s(23,"div",11)(24,"div",5)(25,"div",6),M(26,nd,25,6,"div",7),a()()(),s(27,"div",12)(28,"div",5)(29,"div",6),M(30,id,8,0,"div",7),a()()(),s(31,"div",13)(32,"div",5)(33,"div",6),M(34,od,8,0,"div",7),a()()(),s(35,"div",14)(36,"div",5)(37,"div",6),M(38,rd,8,0,"div",7),a()()(),s(39,"div",15)(40,"div",5)(41,"div",6),M(42,sd,5,4,"div",7),a()()(),s(43,"div",16)(44,"div",5)(45,"div",6)(46,"div",17)(47,"button",18),y("click",function(){return r.closeModal("confirmDeleteModal")}),b(48,"i",19),a(),s(49,"p",20)(50,"strong"),h(51,"Delete Account"),a()(),s(52,"p",21),h(53,"Please confirm you wish to delete your account. This can not be undone. Your account will be permanently deleted."),a(),s(54,"div",22),h(55," To confirm delete, please type "),s(56,"em"),h(57,"DELETE"),a(),h(58," and click confirm. "),s(59,"input",23),J("ngModelChange",function(p){return K(r.delete_confirm,p)||(r.delete_confirm=p),p}),a()(),s(60,"div",24)(61,"button",25),y("click",function(){return r.deleteAccount()}),h(62,"Confirm delete"),a()()()()()(),s(63,"div",15)(64,"div",5)(65,"div",6),M(66,ld,5,4,"div",7),a()()()),i&2&&(d(4),P(4,r.user.account_type=="player"?4:5),d(2),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(4),C("ngIf",r.user),d(17),X("ngModel",r.delete_confirm),d(7),C("ngIf",r.user))},dependencies:[oe,Hn,Wn,dr,jn,Fe,Ia],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.backgroundx[_ngcontent-%COMP%]{padding-left:260px;color:#fff;padding-right:40px}.content_container[_ngcontent-%COMP%]{max-width:450px;display:block;margin:auto}.profile_image[_ngcontent-%COMP%]{width:125px;height:125px;border:solid 1px lightgrey;border-radius:50%}.stats_button[_ngcontent-%COMP%]{width:100px;font-size:18px}.ccx[_ngcontent-%COMP%]{padding-top:0}.no_items_image[_ngcontent-%COMP%]{width:275px;margin:auto;display:block}.no_items_label[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:18px;padding:30px 0}.profile_name_container[_ngcontent-%COMP%]{display:block;padding:15px 0}.list_itemx[_ngcontent-%COMP%]{border-bottom:solid 1px lightgrey;padding:15px 0}.settings_edit_button[_ngcontent-%COMP%]{float:right;color:#3cf}.digit_input[_ngcontent-%COMP%]{width:35px;display:inline-block;margin:0 3px}.location_text[_ngcontent-%COMP%]{text-align:center;padding:5px;margin:0;font-style:italic;color:gray}.edit_image_icon[_ngcontent-%COMP%]{position:absolute;border:solid 1px lightgrey;border-radius:50%;padding:7px;color:gray;background-color:#fff;right:calc(50% - 70px);cursor:pointer}.edit_image_icon[_ngcontent-%COMP%]:hover{background-color:#3cf;color:#fff;border-color:#3cf}.verified_icon[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;padding:6px;border-radius:50%}.not_verified_icon[_ngcontent-%COMP%]{color:#fff;background-color:#d3d3d3;padding:6px;border-radius:50%}.delete_account_title[_ngcontent-%COMP%]{color:#ff4500;margin:0;font-size:26px}.delete_account_button[_ngcontent-%COMP%]{color:gray;text-align:right;border-bottom:none;cursor:pointer}.profile_button[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;color:gray}.profile_button[_ngcontent-%COMP%]:hover{text-decoration:underline}.logout_button[_ngcontent-%COMP%]{cursor:pointer}.logout_button[_ngcontent-%COMP%]:hover{text-decoration:underline}.not_verified_message[_ngcontent-%COMP%]{background-color:#ff0;color:#000;width:100%;padding:15px 30px}@media only screen and (max-width: 768px){.ccx[_ngcontent-%COMP%]{padding-top:0;top:0}.backgroundx[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}']});let o=n;return o})();var dd=(o,n)=>n.user_id,co=o=>({selected:o});function pd(o,n){if(o&1&&(s(0,"tr")(1,"td",8),b(2,"img",9),a(),s(3,"td",8),h(4),a(),s(5,"td",8),b(6,"img",9),h(7),a(),s(8,"td",8),h(9),a()()),o&2){let e=n.$implicit,t=_(2);d(2),H("src",e.image,D),d(2),A(e.username.slice(0,10)),d(2),H("src",e.level_icon,D),d(),z("\xA0",e.level,""),d(2),A(t.tab=="daily"?e.max_score:e.points)}}function hd(o,n){if(o&1&&(s(0,"table",7)(1,"thead")(2,"tr"),b(3,"th",8),s(4,"th",8),h(5,"Username"),a(),s(6,"th",8),h(7,"Level"),a(),s(8,"th",8),h(9),a()()(),s(10,"tbody"),_e(11,pd,10,5,"tr",null,dd),a()()),o&2){let e=_();d(9),A(e.tab=="daily"?"High Score":"Total Points"),d(2),ge(e.players)}}function ud(o,n){o&1&&(s(0,"div",10),h(1,"There are no players to show"),a())}var Ra=(()=>{let n=class n{constructor(t,i,r,c){this.userService=t,this.commonService=i,this.tablesService=r,this.router=c,this.players=[],this.data=[],this.games=[],this.tab="all-time",this.data_ready=!1,this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight(),this.monthly_start_time=this.commonService.getFirstDayOfMonthEpoch()}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(t=>{if(!t){this.router.navigate(["login"]);return}this.user=t,this.loadData()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}loadData(){this.userService.getAllGames().subscribe(t=>{this.games=t,this.filterPlayers()})}filterPlayers(){this.data_ready=!1;var t=[];this.tab=="all-time"?t=this.games:this.tab=="monthly"?t=this.games.filter(i=>i.timestamp>=this.monthly_start_time):this.tab=="daily"&&(t=this.games.filter(i=>i.timestamp>=this.daily_start_time)),this.players=[],t.forEach(i=>{var r=this.players.find(c=>c.user_id==i.user_id);r||this.players.push({user_id:i.user_id,username:i.username,image:i.user_image})}),this.players.forEach(i=>{var r=t.filter(m=>m.user_id==i.user_id);i.games=r.length;var c=0,p=0;r.forEach(m=>{c+=m.score?m.score:0,m.score>p&&(p=m.score)}),i.points=c,i.max_score=p}),this.players=this.players.sort((i,r)=>r.points-i.points),this.tab=="all-time"&&!this.players_map&&(this.players_map=this.players.map(i=>({user_id:i.user_id,all_time_points:i.points}))),this.players.forEach(i=>{var r=this.players_map.find(c=>c.user_id==i.user_id);r&&(i.all_time_points=r.all_time_points)}),this.assignLevels(),this.data_ready=!0}assignLevels(){this.tablesService.GetAll("skill_levels").subscribe(t=>{this.players.forEach(i=>{this.commonService.assignLevel(i,t)})})}};n.\u0275fac=function(i){return new(i||n)(I(xe),I(fe),I(Se),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-leaderboard"]],decls:17,vars:10,consts:[[1,"background","backgroundx"],[1,"contentsx"],[1,"page_title"],[1,"submenu_container"],[1,"submenu_item",3,"click","ngClass"],[1,"table_container"],[1,"graph_title"],[1,"table","tablex"],[1,"tc"],[1,"player_image",3,"src"],[1,"note"]],template:function(i,r){i&1&&(b(0,"app-user-sidemenu"),s(1,"div",0)(2,"div",1)(3,"div",2),h(4,"Leaderboard"),a(),s(5,"div",3)(6,"div",4),y("click",function(){return r.tab="daily",r.filterPlayers()}),h(7,"Daily"),a(),s(8,"div",4),y("click",function(){return r.tab="monthly",r.filterPlayers()}),h(9,"Monthly"),a(),s(10,"div",4),y("click",function(){return r.tab="all-time",r.filterPlayers()}),h(11,"All-Time"),a()(),s(12,"div",5)(13,"div",6),h(14,"Top Players"),a(),M(15,hd,13,1,"table",7)(16,ud,2,0),a()()()),i&2&&(d(6),C("ngClass",V(4,co,r.tab=="daily")),d(2),C("ngClass",V(6,co,r.tab=="monthly")),d(2),C("ngClass",V(8,co,r.tab=="all-time")),d(5),P(15,r.players.length>0?15:16))},dependencies:[ce,Fe],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.submenu_container[_ngcontent-%COMP%]{padding:20px 0}.submenu_item[_ngcontent-%COMP%]{font-size:20px;display:inline-block;padding:0 15px;color:#fff;font-family:orbitron-medium;cursor:pointer}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600;padding:8px 0}.table_container[_ngcontent-%COMP%]{padding:30px 0}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:28px;color:#fff;text-align:center;padding:0 0 20px}.tablex[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:auto}.player_image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.selected[_ngcontent-%COMP%]{border-bottom:solid 2px white}.contentsx[_ngcontent-%COMP%]{padding:50px}.note[_ngcontent-%COMP%]{padding:30px 0;font-style:italic;color:#fff;font-size:20px;text-align:center}@media screen and (max-width: 768px){.contentsx[_ngcontent-%COMP%]{padding:0}}']});let o=n;return o})();var Le=Object.create(null);Le.open="0";Le.close="1";Le.ping="2";Le.pong="3";Le.message="4";Le.upgrade="5";Le.noop="6";var gn=Object.create(null);Object.keys(Le).forEach(o=>{gn[Le[o]]=o});var fn={type:"error",data:"parser error"};var La=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ba=typeof ArrayBuffer=="function",Na=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,xn=({type:o,data:n},e,t)=>La&&n instanceof Blob?e?t(n):Va(n,t):Ba&&(n instanceof ArrayBuffer||Na(n))?e?t(n):Va(new Blob([n]),t):t(Le[o]+(n||"")),Va=(o,n)=>{let e=new FileReader;return e.onload=function(){let t=e.result.split(",")[1];n("b"+(t||""))},e.readAsDataURL(o)};function za(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}var lo;function Ua(o,n){if(La&&o.data instanceof Blob)return o.data.arrayBuffer().then(za).then(n);if(Ba&&(o.data instanceof ArrayBuffer||Na(o.data)))return n(za(o.data));xn(o,!1,e=>{lo||(lo=new TextEncoder),n(lo.encode(e))})}var Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<Da.length;o++)bn[Da.charCodeAt(o)]=o;var Fa=o=>{let n=o.length*.75,e=o.length,t,i=0,r,c,p,m;o[o.length-1]==="="&&(n--,o[o.length-2]==="="&&n--);let w=new ArrayBuffer(n),O=new Uint8Array(w);for(t=0;t<e;t+=4)r=bn[o.charCodeAt(t)],c=bn[o.charCodeAt(t+1)],p=bn[o.charCodeAt(t+2)],m=bn[o.charCodeAt(t+3)],O[i++]=r<<2|c>>4,O[i++]=(c&15)<<4|p>>2,O[i++]=(p&3)<<6|m&63;return w};var md=typeof ArrayBuffer=="function",Cn=(o,n)=>{if(typeof o!="string")return{type:"message",data:qa(o,n)};let e=o.charAt(0);return e==="b"?{type:"message",data:_d(o.substring(1),n)}:gn[e]?o.length>1?{type:gn[e],data:o.substring(1)}:{type:gn[e]}:fn},_d=(o,n)=>{if(md){let e=Fa(o);return qa(e,n)}else return{base64:!0,data:o}},qa=(o,n)=>{switch(n){case"blob":return o instanceof Blob?o:new Blob([o]);case"arraybuffer":default:return o instanceof ArrayBuffer?o:o.buffer}};var Ha="",Wa=(o,n)=>{let e=o.length,t=new Array(e),i=0;o.forEach((r,c)=>{xn(r,!1,p=>{t[c]=p,++i===e&&n(t.join(Ha))})})},ja=(o,n)=>{let e=o.split(Ha),t=[];for(let i=0;i<e.length;i++){let r=Cn(e[i],n);if(t.push(r),r.type==="error")break}return t};function Ga(){return new TransformStream({transform(o,n){Ua(o,e=>{let t=e.length,i;if(t<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,t);else if(t<65536){i=new Uint8Array(3);let r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,t)}else{i=new Uint8Array(9);let r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(t))}o.data&&typeof o.data!="string"&&(i[0]|=128),n.enqueue(i),n.enqueue(e)})}})}var po;function li(o){return o.reduce((n,e)=>n+e.length,0)}function di(o,n){if(o[0].length===n)return o.shift();let e=new Uint8Array(n),t=0;for(let i=0;i<n;i++)e[i]=o[0][t++],t===o[0].length&&(o.shift(),t=0);return o.length&&t<o[0].length&&(o[0]=o[0].slice(t)),e}function Ya(o,n){po||(po=new TextDecoder);let e=[],t=0,i=-1,r=!1;return new TransformStream({transform(c,p){for(e.push(c);;){if(t===0){if(li(e)<1)break;let m=di(e,1);r=(m[0]&128)===128,i=m[0]&127,i<126?t=3:i===126?t=1:t=2}else if(t===1){if(li(e)<2)break;let m=di(e,2);i=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),t=3}else if(t===2){if(li(e)<8)break;let m=di(e,8),w=new DataView(m.buffer,m.byteOffset,m.length),O=w.getUint32(0);if(O>Math.pow(2,21)-1){p.enqueue(fn);break}i=O*Math.pow(2,32)+w.getUint32(4),t=3}else{if(li(e)<i)break;let m=di(e,i);p.enqueue(Cn(r?m:po.decode(m),n)),t=0}if(i===0||i>o){p.enqueue(fn);break}}}})}var ho=4;function G(o){if(o)return gd(o)}function gd(o){for(var n in G.prototype)o[n]=G.prototype[n];return o}G.prototype.on=G.prototype.addEventListener=function(o,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(n),this};G.prototype.once=function(o,n){function e(){this.off(o,e),n.apply(this,arguments)}return e.fn=n,this.on(o,e),this};G.prototype.off=G.prototype.removeListener=G.prototype.removeAllListeners=G.prototype.removeEventListener=function(o,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+o];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var t,i=0;i<e.length;i++)if(t=e[i],t===n||t.fn===n){e.splice(i,1);break}return e.length===0&&delete this._callbacks["$"+o],this};G.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+o],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(e){e=e.slice(0);for(var t=0,i=e.length;t<i;++t)e[t].apply(this,n)}return this};G.prototype.emitReserved=G.prototype.emit;G.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]};G.prototype.hasListeners=function(o){return!!this.listeners(o).length};var be=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pi(o,...n){return n.reduce((e,t)=>(o.hasOwnProperty(t)&&(e[t]=o[t]),e),{})}var fd=be.setTimeout,xd=be.clearTimeout;function Xe(o,n){n.useNativeTimers?(o.setTimeoutFn=fd.bind(be),o.clearTimeoutFn=xd.bind(be)):(o.setTimeoutFn=be.setTimeout.bind(be),o.clearTimeoutFn=be.clearTimeout.bind(be))}var bd=1.33;function Qa(o){return typeof o=="string"?Cd(o):Math.ceil((o.byteLength||o.size)*bd)}function Cd(o){let n=0,e=0;for(let t=0,i=o.length;t<i;t++)n=o.charCodeAt(t),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(t++,e+=4);return e}function Xa(o){let n="";for(let e in o)o.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(o[e]));return n}function Ka(o){let n={},e=o.split("&");for(let t=0,i=e.length;t<i;t++){let r=e[t].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var hi=class extends Error{constructor(n,e,t){super(n),this.description=e,this.context=t,this.type="TransportError"}},Ke=class extends G{constructor(n){super(),this.writable=!1,Xe(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,e,t){return super.emitReserved("error",new hi(n,e,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){let e=Cn(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){let e=Xa(n);return e.length?"?"+e:""}};var es="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),uo=64,vd={},Ja=0,ui=0,$a;function Za(o){let n="";do n=es[o%uo]+n,o=Math.floor(o/uo);while(o>0);return n}function mi(){let o=Za(+new Date);return o!==$a?(Ja=0,$a=o):o+"."+Za(Ja++)}for(;ui<uo;ui++)vd[es[ui]]=ui;var ts=!1;try{ts=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var ns=ts;function mo(o){let n=o.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||ns))return new XMLHttpRequest}catch{}if(!n)try{return new be[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function yd(){}var wd=function(){return new mo({xdomain:!1}).responseType!=null}(),gi=class extends Ke{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){let t=location.protocol==="https:",i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||i!==n.port}let e=n&&n.forceBase64;this.supportsBinary=wd&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){let e=t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};ja(n,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,Wa(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=mi()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new _i(this.uri(),n)}doWrite(n,e){let t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}},_i=(()=>{class o extends G{constructor(e,t){super(),Xe(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;let t=pi(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let i=this.xhr=new mo(t);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=o.requestsCount++,o.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=yd,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return o.requestsCount=0,o.requests={},o})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",is);else if(typeof addEventListener=="function"){let o="onpagehide"in be?"pagehide":"unload";addEventListener(o,is,!1)}}function is(){for(let o in _i.requests)_i.requests.hasOwnProperty(o)&&_i.requests[o].abort()}var Ct=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),vn=be.WebSocket||be.MozWebSocket,fi=!0,os="arraybuffer";var rs=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",xi=class extends Ke{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let n=this.uri(),e=this.opts.protocols,t=rs?{}:pi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=fi&&!rs?e?new vn(n,e):new vn(n):new vn(n,e,t)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],i=e===n.length-1;xn(t,this.supportsBinary,r=>{let c={};fi||(t.options&&(c.compress=t.options.compress),this.opts.perMessageDeflate&&(typeof r=="string"?Buffer.byteLength(r):r.length)<this.opts.perMessageDeflate.threshold&&(c.compress=!1));try{fi?this.ws.send(r):this.ws.send(r,c)}catch{}i&&Ct(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=mi()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}check(){return!!vn}};var bi=class extends Ke{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{let e=Ya(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=n.readable.pipeThrough(e).getReader(),i=Ga();i.readable.pipeTo(n.writable),this.writer=i.writable.getWriter();let r=()=>{t.read().then(({done:p,value:m})=>{p||(this.onPacket(m),r())}).catch(p=>{})};r();let c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],i=e===n.length-1;this.writer.write(t).then(()=>{i&&Ct(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}};var _o={websocket:xi,webtransport:bi,polling:gi};var Md=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sd=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wt(o){if(o.length>2e3)throw"URI too long";let n=o,e=o.indexOf("["),t=o.indexOf("]");e!=-1&&t!=-1&&(o=o.substring(0,e)+o.substring(e,t).replace(/:/g,";")+o.substring(t,o.length));let i=Md.exec(o||""),r={},c=14;for(;c--;)r[Sd[c]]=i[c]||"";return e!=-1&&t!=-1&&(r.source=n,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Od(r,r.path),r.queryKey=Pd(r,r.query),r}function Od(o,n){let e=/\/{2,9}/g,t=n.replace(e,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&t.splice(0,1),n.slice(-1)=="/"&&t.splice(t.length-1,1),t}function Pd(o,n){let e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,i,r){i&&(e[i]=r)}),e}var Ci=(()=>{class o extends G{constructor(e,t={}){super(),this.binaryType=os,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Wt(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Wt(t.host).host),Xe(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ka(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=ho,t.transport=e,this.id&&(t.sid=this.id);let i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new _o[e](i)}open(){let e;if(this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),i=!1;o.priorWebsocketSuccess=!1;let r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",k=>{if(!i)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;o.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(T(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let U=new Error("probe error");U.transport=t.name,this.emitReserved("upgradeError",U)}}))};function c(){i||(i=!0,T(),t.close(),t=null)}let p=k=>{let U=new Error("probe error: "+k);U.transport=t.name,c(),this.emitReserved("upgradeError",U)};function m(){p("transport closed")}function w(){p("socket closed")}function O(k){t&&k.name!==t.name&&c()}let T=()=>{t.removeListener("open",r),t.removeListener("error",p),t.removeListener("close",m),this.off("close",w),this.off("upgrading",O)};t.once("open",r),t.once("error",p),t.once("close",m),this.once("close",w),this.once("upgrading",O),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onOpen(){if(this.readyState="open",o.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){let r=this.writeBuffer[i].data;if(r&&(t+=Qa(r)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,r){if(typeof t=="function"&&(r=t,t=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let c={type:e,data:t,options:i};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),r&&this.once("flush",r),this.flush()}close(){let e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){o.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],i=0,r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}return o.protocol=ho,o})();var Sm=Ci.protocol;function as(o,n="",e){let t=o;e=e||typeof location<"u"&&location,o==null&&(o=e.protocol+"//"+e.host),typeof o=="string"&&(o.charAt(0)==="/"&&(o.charAt(1)==="/"?o=e.protocol+o:o=e.host+o),/^(https?|wss?):\/\//.test(o)||(typeof e<"u"?o=e.protocol+"//"+o:o="https://"+o),t=Wt(o)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";let r=t.host.indexOf(":")!==-1?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+r+":"+t.port+n,t.href=t.protocol+"://"+r+(e&&e.port===t.port?"":":"+t.port),t}var vo={};sc(vo,{Decoder:()=>bo,Encoder:()=>xo,PacketType:()=>N,protocol:()=>ps});var Ed=typeof ArrayBuffer=="function",kd=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,ss=Object.prototype.toString,Td=typeof Blob=="function"||typeof Blob<"u"&&ss.call(Blob)==="[object BlobConstructor]",Id=typeof File=="function"||typeof File<"u"&&ss.call(File)==="[object FileConstructor]";function wn(o){return Ed&&(o instanceof ArrayBuffer||kd(o))||Td&&o instanceof Blob||Id&&o instanceof File}function yn(o,n){if(!o||typeof o!="object")return!1;if(Array.isArray(o)){for(let e=0,t=o.length;e<t;e++)if(yn(o[e]))return!0;return!1}if(wn(o))return!0;if(o.toJSON&&typeof o.toJSON=="function"&&arguments.length===1)return yn(o.toJSON(),!0);for(let e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&yn(o[e]))return!0;return!1}function cs(o){let n=[],e=o.data,t=o;return t.data=go(e,n),t.attachments=n.length,{packet:t,buffers:n}}function go(o,n){if(!o)return o;if(wn(o)){let e={_placeholder:!0,num:n.length};return n.push(o),e}else if(Array.isArray(o)){let e=new Array(o.length);for(let t=0;t<o.length;t++)e[t]=go(o[t],n);return e}else if(typeof o=="object"&&!(o instanceof Date)){let e={};for(let t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=go(o[t],n));return e}return o}function ls(o,n){return o.data=fo(o.data,n),delete o.attachments,o}function fo(o,n){if(!o)return o;if(o&&o._placeholder===!0){if(typeof o.num=="number"&&o.num>=0&&o.num<n.length)return n[o.num];throw new Error("illegal attachments")}else if(Array.isArray(o))for(let e=0;e<o.length;e++)o[e]=fo(o[e],n);else if(typeof o=="object")for(let e in o)Object.prototype.hasOwnProperty.call(o,e)&&(o[e]=fo(o[e],n));return o}var Ad=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ps=5,N=function(o){return o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK",o}(N||{}),xo=class{constructor(n){this.replacer=n}encode(n){return(n.type===N.EVENT||n.type===N.ACK)&&yn(n)?this.encodeAsBinary({type:n.type===N.EVENT?N.BINARY_EVENT:N.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let e=""+n.type;return(n.type===N.BINARY_EVENT||n.type===N.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=cs(n),t=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(t),i}};function ds(o){return Object.prototype.toString.call(o)==="[object Object]"}var bo=class o extends G{constructor(n){super(),this.reviver=n}add(n){let e;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);let t=e.type===N.BINARY_EVENT;t||e.type===N.BINARY_ACK?(e.type=t?N.EVENT:N.ACK,this.reconstructor=new Co(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(wn(n)||n.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let e=0,t={type:Number(n.charAt(0))};if(N[t.type]===void 0)throw new Error("unknown packet type "+t.type);if(t.type===N.BINARY_EVENT||t.type===N.BINARY_ACK){let r=e+1;for(;n.charAt(++e)!=="-"&&e!=n.length;);let c=n.substring(r,e);if(c!=Number(c)||n.charAt(e)!=="-")throw new Error("Illegal attachments");t.attachments=Number(c)}if(n.charAt(e+1)==="/"){let r=e+1;for(;++e&&!(n.charAt(e)===","||e===n.length););t.nsp=n.substring(r,e)}else t.nsp="/";let i=n.charAt(e+1);if(i!==""&&Number(i)==i){let r=e+1;for(;++e;){let c=n.charAt(e);if(c==null||Number(c)!=c){--e;break}if(e===n.length)break}t.id=Number(n.substring(r,e+1))}if(n.charAt(++e)){let r=this.tryParse(n.substr(e));if(o.isPayloadValid(t.type,r))t.data=r;else throw new Error("invalid payload")}return t}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case N.CONNECT:return ds(e);case N.DISCONNECT:return e===void 0;case N.CONNECT_ERROR:return typeof e=="string"||ds(e);case N.EVENT:case N.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&Ad.indexOf(e[0])===-1);case N.ACK:case N.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Co=class{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){let e=ls(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Oe(o,n,e){return o.on(n,e),function(){o.off(n,e)}}var Rd=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),jt=class extends G{constructor(n,e,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let n=this.io;this.subs=[Oe(n,"open",this.onopen.bind(this)),Oe(n,"packet",this.onpacket.bind(this)),Oe(n,"error",this.onerror.bind(this)),Oe(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){if(Rd.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let t={type:N.EVENT,data:e};if(t.options={},t.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let c=this.ids++,p=e.pop();this._registerAckCallback(c,p),t.id=c}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(t),this.packet(t)):this.sendBuffer.push(t)),this.flags={},this}_registerAckCallback(n,e){var t;let i=(t=this.flags.timeout)!==null&&t!==void 0?t:this._opts.ackTimeout;if(i===void 0){this.acks[n]=e;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===n&&this.sendBuffer.splice(p,1);e.call(this,new Error("operation has timed out"))},i),c=(...p)=>{this.io.clearTimeoutFn(r),e.apply(this,p)};c.withError=!0,this.acks[n]=c}emitWithAck(n,...e){return new Promise((t,i)=>{let r=(c,p)=>c?i(c):t(p);r.withError=!0,e.push(r),this.emit(n,...e)})}_addToQueue(n){let e;typeof n[n.length-1]=="function"&&(e=n.pop());let t={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((i,...r)=>t!==this._queue[0]?void 0:(i!==null?t.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(i)):(this._queue.shift(),e&&e(null,...r)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:N.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(t=>String(t.id)===n)){let t=this.acks[n];delete this.acks[n],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case N.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case N.EVENT:case N.BINARY_EVENT:this.onevent(n);break;case N.ACK:case N.BINARY_ACK:this.onack(n);break;case N.DISCONNECT:this.ondisconnect();break;case N.CONNECT_ERROR:this.destroy();let t=new Error(n.data.message);t.data=n.data.data,this.emitReserved("connect_error",t);break}}onevent(n){let e=n.data||[];n.id!=null&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let t of e)t.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){let e=this,t=!1;return function(...i){t||(t=!0,e.packet({type:N.ACK,id:n,data:i}))}}onack(n){let e=this.acks[n.id];typeof e=="function"&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:N.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){let e=this._anyListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){let e=this._anyOutgoingListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let t of e)t.apply(this,n.data)}}};function vt(o){o=o||{},this.ms=o.min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}vt.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*o);o=Math.floor(n*10)&1?o+e:o-e}return Math.min(o,this.max)|0};vt.prototype.reset=function(){this.attempts=0};vt.prototype.setMin=function(o){this.ms=o};vt.prototype.setMax=function(o){this.max=o};vt.prototype.setJitter=function(o){this.jitter=o};var Gt=class extends G{constructor(n,e){var t;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(e=n,n=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Xe(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((t=e.randomizationFactor)!==null&&t!==void 0?t:.5),this.backoff=new vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=n;let i=e.parser||vo;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(e=this.backoff)===null||e===void 0||e.setMin(n),this)}randomizationFactor(n){var e;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(e=this.backoff)===null||e===void 0||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(e=this.backoff)===null||e===void 0||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Ci(this.uri,this.opts);let e=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;let i=Oe(e,"open",function(){t.onopen(),n&&n()}),r=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),n?n(p):this.maybeReconnectOnOpen()},c=Oe(e,"error",r);if(this._timeout!==!1){let p=this._timeout,m=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),e.close()},p);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(i),this.subs.push(c),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let n=this.engine;this.subs.push(Oe(n,"ping",this.onping.bind(this)),Oe(n,"data",this.ondata.bind(this)),Oe(n,"error",this.onerror.bind(this)),Oe(n,"close",this.onclose.bind(this)),Oe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){Ct(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let t=this.nsps[n];return t?this._autoConnect&&!t.active&&t.connect():(t=new jt(this,n,e),this.nsps[n]=t),t}_destroy(n){let e=Object.keys(this.nsps);for(let t of e)if(this.nsps[t].active)return;this._close()}_packet(n){let e=this.encoder.encode(n);for(let t=0;t<e.length;t++)this.engine.write(e[t],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let t=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(i=>{i?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",i)):n.onreconnect()}))},e);this.opts.autoUnref&&t.unref(),this.subs.push(()=>{this.clearTimeoutFn(t)})}}onreconnect(){let n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}};var Mn={};function Sn(o,n){typeof o=="object"&&(n=o,o=void 0),n=n||{};let e=as(o,n.path||"/socket.io"),t=e.source,i=e.id,r=e.path,c=Mn[i]&&r in Mn[i].nsps,p=n.forceNew||n["force new connection"]||n.multiplex===!1||c,m;return p?m=new Gt(t,n):(Mn[i]||(Mn[i]=new Gt(t,n)),m=Mn[i]),e.query&&!n.query&&(n.query=e.queryKey),m.socket(e.path,n)}Object.assign(Sn,{Manager:Gt,Socket:jt,io:Sn,connect:Sn});var hs=(()=>{let n=class n{constructor(){this._getMessage=new Go(void 0),this.connect()}connect(){this.socket=Sn(sr.baseurl),this.socket.on("connect",()=>{console.log("Connected to the server")}),this.socket.on("disconnect",()=>{console.log("Disconnected from the server")}),this.socket.on("message",t=>{console.log("socket message",t),this._getMessage.next(t),this._getMessage.next(void 0)})}sendMessage(t){this.socket.emit("ping",t)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();var zd=o=>({"animated-circle":o}),Yt=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-timer"]],inputs:{time:"time"},standalone:!0,features:[De],decls:2,vars:4,consts:[[1,"timer",3,"ngClass"]],template:function(i,r){i&1&&(s(0,"div",0),h(1),a()),i&2&&(C("ngClass",V(2,zd,r.time<4&&r.time>0)),d(),z(" ",r.time,`
`))},dependencies:[Vt,ce],styles:[".timer[_ngcontent-%COMP%]{width:80px;height:80px;background-color:transparent;border-radius:50%;position:absolute;top:0;right:1%;font-size:3em;padding:0 .4em;color:#fff;border:solid 3px;font-family:orbitron-medium}.animated-circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_colorChange 1s infinite}@media screen and (max-width: 768px){.timer[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2em;padding:.2em .5em;font-family:orbitron-medium;margin-top:5px}}@media screen and (min-width: 768px){.animated-circle[_ngcontent-%COMP%]{animation:none}}@keyframes _ngcontent-%COMP%_colorChange{0%,to{background-color:transparent}50%{background-color:red}}@media screen and (max-height: 500px){.timer[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2em;padding:.2em .5em;font-family:orbitron-medium;margin-top:5px}}"]});let o=n;return o})();var yo=o=>({green:o});function Ld(o,n){if(o&1&&(b(0,"div",9)(1,"div",9)(2,"div",9),h(3," \xA0 ")),o&2){let e=_(2);C("ngClass",V(3,yo,e.user.lives>=1)),d(),C("ngClass",V(5,yo,e.user.lives>=2)),d(),C("ngClass",V(7,yo,e.user.lives>=3))}}function Bd(o,n){if(o&1){let e=E();s(0,"div",0),b(1,"img",5),h(2,"\xA0 "),b(3,"i",6),h(4),M(5,Ld,4,9),b(6,"i",7),h(7),s(8,"button",8),y("click",function(){f(e);let i=_();return x(i.confirmExit())}),h(9,"Exit"),a()()}if(o&2){let e=_();d(),H("src",e.user.image,D),d(3),ie("\xA0",e.user.points," | ",e.user.daily_high?e.user.daily_high:e.user.points," \xA0 "),d(),P(5,e.show_lives?5:-1),d(2),z("\xA0",e.active_players," ")}}function Nd(o,n){if(o&1){let e=E();s(0,"div",10)(1,"em"),b(2,"i",7),h(3),a(),s(4,"button",8),y("click",function(){f(e);let i=_();return x(i.confirmExit())}),h(5,"Exit"),a()()}if(o&2){let e=_();d(3),z("\xA0\xA0Total Daily Plays: ",e.active_players,"")}}function Ud(o,n){if(o&1){let e=E();s(0,"div",11)(1,"button",12),y("click",function(){f(e);let i=_();return x(i.closeModal("confirmExitModal"))}),b(2,"i",13),a(),s(3,"h1",14),h(4,"Are you sure you want to exit the game?"),a(),s(5,"div",15)(6,"button",16),y("click",function(){f(e);let i=_();return x(i.exitGame())}),h(7,"YES"),a(),b(8,"br")(9,"br"),s(10,"button",16),y("click",function(){f(e);let i=_();return x(i.closeModal("confirmExitModal"))}),h(11,"NO"),a()()()}}var Qt=(()=>{let n=class n{constructor(t){this.router=t}ngOnChanges(t){this.number_of_users=10+Math.round(Math.random()*10)}confirmExit(){$("#confirmExitModal").modal("show")}exitGame(){$("#confirmExitModal").modal("hide"),this.user.account_type=="player"?this.router.navigate(["user/user-dashboard"]):this.router.navigate(["business/business-dashboard"])}closeModal(t){$("#"+t).modal("hide")}showGameTypeModal(){$("#gameTypeModal").modal("show")}};n.\u0275fac=function(i){return new(i||n)(I(re))},n.\u0275cmp=L({type:n,selectors:[["app-user-stats"]],inputs:{user:"user",counter:"counter",active_players:"active_players",show_lives:"show_lives",on_fire:"on_fire"},standalone:!0,features:[ue,De],decls:6,vars:2,consts:[[1,"user_stats"],["id","confirmExitModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],[1,"user_image",3,"src"],[1,"fa-solid","fa-arrow-trend-up","trend_icon"],[1,"fa-solid","fa-user","user_icon"],[1,"btn","btn-default","button_primary","button_exit",3,"click"],[1,"life_circle",3,"ngClass"],[1,"game_stats"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"modal_title"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-default","button_primary",3,"click"]],template:function(i,r){i&1&&(M(0,Bd,10,5,"div",0)(1,Nd,6,1),s(2,"div",1)(3,"div",2)(4,"div",3),M(5,Ud,12,0,"div",4),a()()()),i&2&&(P(0,r.user.account_type=="player"?0:1),d(5),C("ngIf",r.user))},dependencies:[Vt,ce,oe],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_stats[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;padding:0 10px 20px}.life_circle[_ngcontent-%COMP%]{width:12px;height:12px;display:inline-block;border-radius:50%;background-color:red;margin:0 1px;vertical-align:middle}.green[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.trend_icon[_ngcontent-%COMP%]{color:#adff2f;font-size:18px}.game_stats[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;padding:1% 0 0 1%}.user_icon[_ngcontent-%COMP%]{color:#3cf;font-size:20px}.user_image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%;display:inline-block}.button_exit[_ngcontent-%COMP%]{font-size:16px;padding:0 10px;min-width:auto;display:inline-block;margin:0 7px}.user_on_fire[_ngcontent-%COMP%]{width:50px;position:absolute;left:10px}@media screen and (max-height: 500px){.game_stats[_ngcontent-%COMP%]{font-size:1em}}']});let o=n;return o})();var Dd=["adDiv"],Xt=(()=>{let n=class n{constructor(t){this.renderer=t,this.is_mobile=window.innerWidth<768}ngOnChanges(t){}ngAfterViewInit(){this.is_mobile?this.atOptions={key:"66083ebfe50e5b624fb823fbc5b10d48",format:"iframe",height:50,width:320,params:{}}:this.atOptions={key:"809c7d8fd9f4fb93260caa4f27322a7e",format:"iframe",height:90,width:728,params:{}},console.log("adsloading");let t=document.createElement("script");var i=document.createElement("script");i.type="text/javascript",i.src="https://www.highperformanceformat.com/66083ebfe50e5b624fb823fbc5b10d48/invoke.js",t.innerHTML=`atOptions = ${JSON.stringify(this.atOptions)}`,this.adDiv?.nativeElement.append(t),this.adDiv?.nativeElement.append(i)}ngOnDestroy(){this.scriptElement&&this.renderer.removeChild(document.body,this.scriptElement),this.configScript&&this.renderer.removeChild(document.body,this.configScript)}};n.\u0275fac=function(i){return new(i||n)(I(It))},n.\u0275cmp=L({type:n,selectors:[["app-adsterra"]],viewQuery:function(i,r){if(i&1&&pt(Dd,5),i&2){let c;ht(c=ut())&&(r.adDiv=c.first)}},inputs:{counter:"counter"},standalone:!0,features:[ue,De],decls:2,vars:0,consts:[["adDiv",""],[1,"text-center",2,"padding","20px 0"]],template:function(i,r){i&1&&b(0,"div",1,0)}});let o=n;return o})();var Kt=(()=>{let n=class n{constructor(t){this.renderer=t}ngOnChanges(t){this.adScriptElement=this.renderer.createElement("script"),this.adScriptElement&&(this.adScriptElement.src="https://www.highperformanceformat.com/66083ebfe50e5b624fb823fbc5b10d48/invoke.js",this.adScriptElement.type="text/javascript",this.adScriptElement.async=!0),this.renderer.appendChild(document.body,this.adScriptElement);var i=Math.floor(Math.random()*this.banners.length);i==this.banners.length&&(i-=1),this.banner=this.banners[i]}ngOnDestroy(){this.adScriptElement&&this.renderer.removeChild(document.body,this.adScriptElement)}};n.\u0275fac=function(i){return new(i||n)(I(It))},n.\u0275cmp=L({type:n,selectors:[["app-question-footer4"]],inputs:{counter:"counter",venue_id:"venue_id",banners:"banners"},standalone:!0,features:[ue,De],decls:13,vars:6,consts:[[3,"counter"],[1,"row","join_container"],[1,"col-12","col-md-6","qrcode_container"],[1,"join_text"],[1,"text-center"],[3,"qrdata","width","margin","errorCorrectionLevel"],[1,"join_url"],[1,"col-12","col-md-6","logo_container"],["src","../../../assets/images/logo.png",1,"logo_with_words"],[1,"join_text",2,"padding","20px 0"]],template:function(i,r){i&1&&(b(0,"app-adsterra",0),s(1,"div",1)(2,"div",2)(3,"div",3),h(4,"Join the game for a chance to win money. It\u2019s free!"),a(),s(5,"div",4),b(6,"qrcode",5),a(),s(7,"div",6),h(8),a()(),s(9,"div",7),b(10,"img",8),s(11,"div",9),h(12,"SportzBattle.com"),a()()()),i&2&&(C("counter",r.counter),d(6),C("qrdata","sptzba.com/join/"+r.venue_id)("width",175)("margin",2)("errorCorrectionLevel","M"),d(2),A("sptzba.com/join/"+r.venue_id))},dependencies:[ri,oi,Xt],styles:[".join_container[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin:3% 0;padding-bottom:2%;width:100%;height:20vh}.join_text[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;text-align:center;padding:0 0 1.5%;font-family:orbitron-medium}.join_url[_ngcontent-%COMP%]{color:#ff0;font-size:1.5em;font-family:roboto-bold;text-align:center;padding-top:1.5%}.logo_with_words[_ngcontent-%COMP%]{height:100%;margin:auto;display:block;object-fit:contain}.qrcode_container[_ngcontent-%COMP%]{height:100%}.qr_code[_ngcontent-%COMP%]{height:60%;margin:auto;display:block}.logo_container[_ngcontent-%COMP%]{height:100%}.logo_words_container[_ngcontent-%COMP%]{display:none}.logo_words[_ngcontent-%COMP%]{width:80%;margin:auto;display:block}.button_invite_friend[_ngcontent-%COMP%]{background-color:#b30000;color:#fff;font-family:orbitron-medium;font-size:20px}.invite_friend_container[_ngcontent-%COMP%]{display:none}.banner[_ngcontent-%COMP%]{height:8%;margin:1% auto;display:block}@media screen and (max-width: 768px){.logo_with_words[_ngcontent-%COMP%]{display:none}.join_text[_ngcontent-%COMP%]{padding-top:0}.join_url[_ngcontent-%COMP%]{font-size:1em}.logo_words_container[_ngcontent-%COMP%]{display:block}.qrcode_container[_ngcontent-%COMP%], .logo_container[_ngcontent-%COMP%]{display:none}.join_container[_ngcontent-%COMP%]{height:auto}.invite_friend_container[_ngcontent-%COMP%]{display:block}.banner[_ngcontent-%COMP%]{width:100%;height:auto;margin:3% auto}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:3%}.join_container[_ngcontent-%COMP%]{margin:2% 0}}@media screen and (max-height: 500px){.join_text[_ngcontent-%COMP%], .join_url[_ngcontent-%COMP%]{font-size:.75em}}"]});let o=n;return o})();var vi=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-splash"]],decls:9,vars:0,consts:[["src","../../../assets/images/logo.png",1,"logo"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[2,"position","relative"],[1,"hero_text"],[1,"loading"],[1,"est"]],template:function(i,r){i&1&&(b(0,"img",0)(1,"img",1),s(2,"div",2)(3,"p",3),h(4,"Battle On"),a(),s(5,"div",4),h(6,"Loading..."),a(),s(7,"div",5),h(8,"Est. 2024"),a()())},styles:[".logo[_ngcontent-%COMP%]{width:100%;max-height:50%;margin:auto;display:block;object-fit:contain;padding-top:5%;animation:_ngcontent-%COMP%_blurToClear 3s ease-out forwards}@keyframes _ngcontent-%COMP%_blurToClear{0%{filter:blur(15px)}to{filter:blur(0px)}}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:100%;max-width:760px}.hero_text[_ngcontent-%COMP%]{color:#fff;font-size:2em;text-align:center;font-family:orbitron-bold;padding:0 10px}.loading[_ngcontent-%COMP%]{font-family:orbitron-regular;font-size:1.2em;text-align:center;color:#fff}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%]{width:90%;padding-top:35px}.logo_words[_ngcontent-%COMP%]{width:90%}.hero_text[_ngcontent-%COMP%]{font-size:1.6em}}.est[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:calc(50% - 45px);color:#fff;font-family:orbitron-bold}@media screen and (max-height: 500px){.logo[_ngcontent-%COMP%]{max-height:45%;width:auto;padding-top:35px}.logo_words[_ngcontent-%COMP%]{width:70%}.hero_text[_ngcontent-%COMP%]{font-size:1.2em}}"]});let o=n;return o})();var Fd=(o,n)=>n.user_id;function qd(o,n){if(o&1&&(s(0,"div",5),h(1),a()),o&2){let e=_();d(),A(e.countdown)}}function Hd(o,n){o&1&&(s(0,"div"),h(1,"$0"),a())}function Wd(o,n){o&1&&(s(0,"div"),h(1,"$0"),a())}function jd(o,n){o&1&&(s(0,"div"),h(1,"$0"),a())}function Gd(o,n){o&1&&(s(0,"div"),h(1,"$0"),a())}function Yd(o,n){o&1&&(s(0,"div"),h(1,"$0"),a())}function Qd(o,n){if(o&1&&(s(0,"tr")(1,"td",3),h(2),a(),s(3,"td",4),b(4,"img",6),h(5),a(),s(6,"td",3),h(7),a(),s(8,"td",3),M(9,Hd,2,0,"div",7)(10,Wd,2,0,"div",7)(11,jd,2,0,"div",7)(12,Gd,2,0,"div",7)(13,Yd,2,0,"div",7),a()()),o&2){let e=n.$implicit;d(2),A(e.position),d(2),H("src",e.image,D),d(),z("\xA0\xA0\xA0",e.username," "),d(2),A(e.max_score),d(2),C("ngIf",e.position==1),d(),C("ngIf",e.position==2),d(),C("ngIf",e.position==3),d(),C("ngIf",e.position==4),d(),C("ngIf",e.position>4)}}var xs=(()=>{let n=class n{constructor(t,i){this.userService=t,this.commonService=i,this.is_mobile=window.innerWidth<768,this.users_o=[],this.games=[],this.players=[],this.data_ready=!1,this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight()}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(i=>{this.user=i,this.loadData()}),this.position_label=this.is_mobile?"Pos.":"Position",this.points_label=this.is_mobile?"Pts.":"Points",this.winnings_label=this.is_mobile?"PW":"Potential Winnings",this.users=this.users_o.slice(0,5),setTimeout(()=>{this.users=this.users_o.slice(5,10)},7e3),this.countdown_interval=setInterval(()=>{this.countdown=this.timeUntil3AMET()},1e3);var t=Math.floor(Math.random()*this.banners.length);t==this.banners.length&&(t-=1),this.banner=this.banners[t]}ngOnDestroy(){clearInterval(this.countdown_interval)}loadData(){this.userService.getAllGames().subscribe(t=>{this.games=t.filter(i=>i.timestamp>=this.daily_start_time),this.filterPlayers()})}filterPlayers(){this.data_ready=!1,this.players=[],this.games.forEach(t=>{var i=this.players.find(r=>r.user_id==t.user_id);i||this.players.push({user_id:t.user_id,username:t.username,image:t.user_image})}),this.players.forEach(t=>{var i=this.games.filter(p=>p.user_id==t.user_id);t.games=i.length;var r=0,c=0;i.forEach(p=>{r+=p.score?p.score:0}),i.forEach(p=>{p.score>c&&(c=p.score)}),t.points=r,t.max_score=c}),this.players=this.players.sort((t,i)=>t.score-i.score),this.players.forEach((t,i)=>{t.position=i+1}),this.data_ready=!0}timeUntil3AMET(){let t=new Date,i=4;var r=new Date(t.getTime()+i*60*60*1e3),c=new Date(r);c.setHours(3,0,0,0),r.getHours()>=3&&c.setDate(c.getDate()+1);var p=c-r,m=Math.floor(p/(1e3*60*60)),w=Math.floor(p%(1e3*60*60)/(1e3*60)),O=Math.floor(p%(1e3*60)/1e3),T,k;return T=w<10?"0"+w:w,k=O<10?"0"+O:O,this.is_mobile==!0?`${m}:${T}::${k}`:`${m} hrs, ${w} min, ${O} sec`}};n.\u0275fac=function(i){return new(i||n)(I(xe),I(fe))},n.\u0275cmp=L({type:n,selectors:[["app-leaderboard-table"]],inputs:{banners:"banners"},decls:18,vars:4,consts:[["class","countdown",4,"ngIf"],[1,"title"],[1,"table","leaderboard_table"],[1,"tc",2,"text-align","center"],[1,"tc"],[1,"countdown"],[1,"user_image",3,"src"],[4,"ngIf"]],template:function(i,r){i&1&&(M(0,qd,2,1,"div",0),s(1,"div",1),h(2,"Daily Leaderboard"),a(),s(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),h(7),a(),s(8,"th",4),h(9,"Player"),a(),s(10,"th",3),h(11),a(),s(12,"th",3),h(13),a()()(),s(14,"tbody"),_e(15,Qd,14,9,"tr",null,Fd),a()(),b(17,"app-adsterra")),i&2&&(C("ngIf",r.countdown),d(7),A(r.position_label),d(4),A(r.points_label),d(2),A(r.winnings_label),d(2),ge(r.players))},dependencies:[oe,Xt],styles:[".tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:1.2em;font-family:orbitron-medium}.leaderboard_table[_ngcontent-%COMP%]{width:80%;margin:auto}.title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:4em;color:#fff;text-align:center;padding:2% 0}.user_image[_ngcontent-%COMP%]{width:2.5em;border-radius:50%;height:2.5em;object-fit:cover}.countdown[_ngcontent-%COMP%]{text-align:right;font-size:1.5em;color:#fff;font-style:italic;padding:.5% 1.5%;position:absolute;top:1%;right:1%;background-color:red;font-family:orbitron-medium}.banner[_ngcontent-%COMP%]{width:80%;margin:2% auto;display:block}@media screen and (max-width: 768px){.tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:.8em}.title[_ngcontent-%COMP%]{font-size:2em}.leaderboard_table[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.countdown[_ngcontent-%COMP%]{font-size:1em}.banner[_ngcontent-%COMP%]{width:100%;max-width:none}}@media screen and (max-height: 500px){.title[_ngcontent-%COMP%]{font-size:2em}.tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:.8em}}"]});let o=n;return o})();var bs=(()=>{let n=class n{ngOnInit(){var t=Math.floor(Math.random()*this.ads.length);t==this.ads.length&&(t-=1),this.advertisement=this.ads[t]}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-advertisement-page"]],inputs:{ads:"ads"},decls:1,vars:1,consts:[[1,"hero_image",3,"src"]],template:function(i,r){i&1&&b(0,"img",0),i&2&&H("src",r.advertisement,D)},styles:[".hero_image[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover}"]});let o=n;return o})();function Jd(o,n){if(o&1){let e=E();s(0,"button",6),y("click",function(){f(e);let i=_(2);return x(i.makeDouble())}),h(1,"Double or Nothing"),a()}}function $d(o,n){o&1&&(s(0,"button",5),h(1,"Double or Nothing"),a())}function Zd(o,n){if(o&1&&M(0,Jd,2,0,"button",4)(1,$d,2,0,"button",5),o&2){let e=_();P(0,e.double_option_has_been_used==!1?0:-1),d(),P(1,e.option_selected?1:-1)}}var yi=(()=>{let n=class n{constructor(){this.make_double=new me,this.option_selected=!1,this.countdown_timer=4}ngOnInit(){this.timerInterval=setInterval(()=>{this.countdown_timer-=1,this.countdown_timer<0&&(this.countdown_timer=0)},1e3);var t=Math.floor(Math.random()*this.banners.length);t==this.banners.length&&(t-=1),this.banner=this.banners[t]}ngOnDestroy(){clearInterval(this.timerInterval)}makeDouble(){this.option_selected=!0,this.make_double.emit()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-prepare-screen"]],inputs:{banners:"banners",double_option_has_been_used:"double_option_has_been_used",account_type:"account_type"},outputs:{make_double:"make_double"},decls:6,vars:2,consts:[[1,"countdown_timer"],["src","../../../assets/images/logo.png",1,"logo_prepare"],["src","../../../assets/images/logo_words.png",1,"logo_words_prepare"],["data-ad-client","ca-pub-2657061045143735","data-ad-slot","3693071727","data-ad-format","auto","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"],[1,"btn","btn-default","button_primary","shiny-button"],["disabled","",1,"btn","btn-default","button_primary","double_or_nothing_selected"],[1,"btn","btn-default","button_primary","shiny-button",3,"click"]],template:function(i,r){i&1&&(s(0,"h1",0),h(1),a(),M(2,Zd,2,2),b(3,"img",1)(4,"img",2)(5,"ins",3)),i&2&&(d(),A(r.countdown_timer),d(),P(2,r.account_type=="player"?2:-1))},styles:['.countdown_timer[_ngcontent-%COMP%]{font-size:12em;color:#fff;font-family:roboto-bold;text-align:center;padding:0}.logo_prepare[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words_prepare[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.banner[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:3% auto;display:block}.double_or_nothing[_ngcontent-%COMP%]{background-color:transparent;border-radius:0;color:#fff;font-weight:600;font-size:16px;border:solid 2px gold;display:block;margin:-10px auto 30px}.double_or_nothing_selected[_ngcontent-%COMP%]{color:#000;background-color:gold;border-radius:0;font-weight:600;font-size:16px;border:solid 2x black;display:block;margin:-10px auto 30px}@media screen and (max-width: 768px){.countdown_timer[_ngcontent-%COMP%]{font-size:10em;padding:2% 0}.logo_prepare[_ngcontent-%COMP%], .logo_words_prepare[_ngcontent-%COMP%]{width:80%}}@media screen and (max-height: 500px){.countdown_timer[_ngcontent-%COMP%]{font-size:5em;padding:2% 0}}.shiny-button[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:15px 30px;font-size:16px;font-weight:700;color:#000;background:linear-gradient(45deg,gold,#fff);border:none;border-radius:5px;cursor:pointer;overflow:hidden;outline:none;margin:0 auto 30px;display:block}.shiny-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(120deg,#fff3,#fff9,#fff3);transform:rotate(45deg);filter:blur(5px);animation:_ngcontent-%COMP%_shine-animation 3s linear infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_shine-animation{0%{transform:rotate(45deg) translate(-200%)}50%{transform:rotate(45deg) translate(0)}to{transform:rotate(45deg) translate(200%)}}']});let o=n;return o})();var vs=(()=>{let n=class n{constructor(t){this.router=t,this.playAgain=new me}startAgain(){this.playAgain.emit()}gotoDashboard(){this.router.navigate(["user/user-dashboard"])}};n.\u0275fac=function(i){return new(i||n)(I(re))},n.\u0275cmp=L({type:n,selectors:[["app-game-over"]],outputs:{playAgain:"playAgain"},decls:11,vars:0,consts:[["src","../../../assets/images/logo.png",1,"logo",2,"padding-top","50px"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[1,"game_over"],[1,"text-center",2,"padding","30px 0"],[1,"btn","btn-default","play_again_button",3,"click"],[1,"btn","btn-default","dashboard_button",3,"click"]],template:function(i,r){i&1&&(b(0,"img",0)(1,"img",1),s(2,"div",2),h(3,"Game Over"),a(),b(4,"br"),s(5,"div",3)(6,"button",4),y("click",function(){return r.startAgain()}),h(7,"Play Again"),a(),b(8,"br"),s(9,"button",5),y("click",function(){return r.gotoDashboard()}),h(10,"Go to Dashboard"),a()())},styles:[".logo[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.game_over[_ngcontent-%COMP%]{color:#fff;font-size:2em;font-family:orbitron-bold;text-align:center}.play_again_button[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;font-size:1.5em;font-family:orbitron-medium;padding:10px 30px}.dashboard_button[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-medium;font-size:18px;padding:20px 0}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%], .logo_words[_ngcontent-%COMP%]{width:80%}}"]});let o=n;return o})();var ys=(()=>{let n=class n{ngOnInit(){this.width=window.innerWidth/2>275?275:window.innerWidth/2,this.getBanner()}ngOnChanges(t){this.getBanner()}getBanner(){var t=Math.floor(Math.random()*this.banners.length);t==this.banners.length&&(t-=1),this.banner=this.banners[t]}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-qrcode"]],inputs:{banners:"banners",venue_id:"venue_id"},features:[ue],decls:11,vars:4,consts:[["src","../../../assets/images/logo.png",1,"logo"],[1,"join_text","text-center"],[1,"text-center",2,"padding","40px 0"],[3,"qrdata","width","margin","errorCorrectionLevel"]],template:function(i,r){i&1&&(b(0,"img",0),s(1,"div",1),h(2," Advertise here on this screen today with SportzBattle via full page and banner ads "),b(3,"br")(4,"br"),h(5,`
Contact:\xA0tony@sportzbattle.com`),b(6,"br"),h(7,`
551-486-2793
`),a(),s(8,"div",2),b(9,"qrcode",3),a(),b(10,"app-adsterra")),i&2&&(d(9),C("qrdata","sportzbattle.com/contact-8")("width",r.width)("margin",2)("errorCorrectionLevel","M"))},dependencies:[oi,Xt],styles:[".join_container[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin:3% 0;padding-bottom:2%;width:100%;height:20vh}.join_text[_ngcontent-%COMP%]{font-size:1.9em;color:#fff;text-align:center;padding:40px 0 1.5%;font-family:orbitron-medium}.join_url[_ngcontent-%COMP%]{color:#ff0;font-size:2em;font-family:roboto-bold;text-align:center;padding:20px 0}.banner[_ngcontent-%COMP%]{height:8%;margin:1% auto;display:block}.qrcode[_ngcontent-%COMP%]{padding:40px 0}.logo[_ngcontent-%COMP%]{width:240px;margin:auto;display:block;padding:20px 0}@media screen and (max-width: 768px){.banner[_ngcontent-%COMP%]{width:100%;height:auto;margin:3% auto}.join_text[_ngcontent-%COMP%]{font-size:1.3em}.join_url[_ngcontent-%COMP%]{font-size:2em}.logo[_ngcontent-%COMP%]{width:220px}}"]});let o=n;return o})();var np=(o,n)=>n.text,ip=(o,n)=>({"font-size":o,"padding-top":n}),op=o=>({invisible:o}),rp=(o,n,e)=>({greenyellow:o,red:n,invisible:e});function ap(o,n){if(o&1&&(s(0,"div",10),h(1),a()),o&2){let e=_(3);C("ngStyle",Fn(2,ip,e.points_value>99?"40px":"48px",e.value_points>99?"30px":"10px")),d(),z("+",e.user_on_fire?2*e.value_points:e.value_points,"")}}function sp(o,n){o&1&&b(0,"app-on-fire-popup")}function cp(o,n){o&1&&b(0,"app-double-or-nothing-popup")}function lp(o,n){o&1&&b(0,"app-double-or-nothing-failed-popup")}function dp(o,n){o&1&&b(0,"app-gridion-popup")}function pp(o,n){o&1&&b(0,"app-hardwood-popup")}function hp(o,n){o&1&&b(0,"app-park-popup")}function up(o,n){o&1&&b(0,"app-high-roller-popup")}function mp(o,n){o&1&&b(0,"app-brainiac-popup")}function _p(o,n){o&1&&b(0,"app-hit-the-cycle-popup")}function gp(o,n){if(o&1&&b(0,"app-timer",11),o&2){let e=_(3);C("time",e.time)}}function fp(o,n){o&1&&b(0,"img",12)}function xp(o,n){if(o&1&&(M(0,fp,1,0,"img",12),s(1,"div",6)(2,"em"),h(3),a()()),o&2){let e=_(3);P(0,e.user_on_fire&&e.question_active?0:-1),d(),C("ngClass",V(3,op,e.question_active==!1)),d(2),A(e.value_points>0?e.value_points:0)}}function bp(o,n){if(o&1&&(s(0,"div",13)(1,"em"),h(2),a()()),o&2){let e=_(3);d(2),A(e.question_notification)}}function Cp(o,n){if(o&1){let e=E();s(0,"div",8)(1,"div",14),y("click",function(){let i=f(e).$implicit,r=_(3);return x(r.answerSelected(i))}),h(2),a()()}if(o&2){let e=n.$implicit,t=_(3);d(),C("ngClass",qn(2,rp,e.show_green,e.show_red,t.time_is_up==!0&&e.is_right_answer==!1||e.hide)),d(),z(" ",e.text,"")}}function vp(o,n){if(o&1&&b(0,"app-question-footer4",9),o&2){let e=_(3);C("counter",e.counter)("venue_id",e.user.venue_id)("banners",e.banners)}}function yp(o,n){if(o&1&&(b(0,"app-user-stats",1),M(1,ap,2,5,"div",2)(2,sp,1,0,"app-on-fire-popup")(3,cp,1,0,"app-double-or-nothing-popup")(4,lp,1,0,"app-double-or-nothing-failed-popup")(5,dp,1,0,"app-gridion-popup")(6,pp,1,0,"app-hardwood-popup")(7,hp,1,0,"app-park-popup")(8,up,1,0,"app-high-roller-popup")(9,mp,1,0,"app-brainiac-popup")(10,_p,1,0,"app-hit-the-cycle-popup")(11,gp,1,1,"app-timer",3),s(12,"div",4)(13,"div",5),h(14),a(),M(15,xp,4,5,"div",6)(16,bp,3,1),s(17,"div",7),_e(18,Cp,3,6,"div",8,np),a()(),M(20,vp,1,3,"app-question-footer4",9)),o&2){let e=_(2);C("user",e.user)("counter",e.counter)("show_lives",!0)("active_players",e.active_players)("on_fire",e.user_on_fire),d(),C("ngIf",e.show_point_animation),d(),P(2,e.popup=="on-fire"?2:-1),d(),P(3,e.popup=="double-or-nothing"?3:-1),d(),P(4,e.popup=="double-or-nothing-failed"?4:-1),d(),P(5,e.popup=="gridion"?5:-1),d(),P(6,e.popup=="hardwood"?6:-1),d(),P(7,e.popup=="park"?7:-1),d(),P(8,e.popup=="high-roller"?8:-1),d(),P(9,e.popup=="brainiac"?9:-1),d(),P(10,e.popup=="hit-the-cycle"?10:-1),d(),C("ngIf",e.show_timer),d(3),A(e.message.question),d(),P(15,e.question_notification?16:15),d(3),ge(e.options),d(2),P(20,e.banners?20:-1)}}function wp(o,n){if(o&1&&b(0,"app-user-stats",15)(1,"app-leaderboard-table",16),o&2){let e=_(2);C("user",e.user)("show_lives",!1)("active_players",e.active_players),d(),C("banners",e.banners)}}function Mp(o,n){if(o&1&&b(0,"app-advertisement-page",17),o&2){let e=_(2);C("ads",e.ads)}}function Sp(o,n){if(o&1&&b(0,"app-qrcode",18),o&2){let e=_(2);C("banners",e.banners)("venue_id",e.user.venue_id)}}function Op(o,n){if(o&1){let e=E();s(0,"app-prepare-screen",19),y("make_double",function(){f(e);let i=_(2);return x(i.makeDouble())}),a()}if(o&2){let e=_(2);C("banners",e.banners)("account_type",e.user.account_type)("double_option_has_been_used",e.double_option_has_been_used)}}function Pp(o,n){o&1&&b(0,"app-warrior-popup")}function Ep(o,n){if(o&1){let e=E();M(0,Pp,1,0,"app-warrior-popup"),s(1,"app-game-over",20),y("playAgain",function(){f(e);let i=_(2);return x(i.playAgain())}),a()}if(o&2){let e=_(2);P(0,e.popup=="warrior"?0:-1)}}function kp(o,n){if(o&1&&M(0,yp,21,19)(1,wp,2,4)(2,Mp,1,1)(3,Sp,1,2)(4,Op,1,3)(5,Ep,2,1),o&2){let e=_();P(0,e.page=="game"?0:e.page=="leaderboard"?1:e.page=="advertisement"&&e.ads?2:e.page=="qrcode"?3:e.page=="prepare_screen"?4:e.page=="game_over"?5:-1)}}function Tp(o,n){o&1&&b(0,"app-splash")}var ws=(()=>{let n=class n{constructor(t,i,r,c,p,m,w){this.socketioService=t,this.commonService=i,this.userService=r,this.tablesService=c,this.myblobService=p,this.apisService=m,this.router=w,this.options=[],this.has_joined=!1,this.page="game",this.debug=!1,this.show_timer=!1,this.time_is_up=!1,this.ads=[],this.show_point_animation=!1,this.points_value=0,this.screen_width=window.innerWidth,this.question_active=!1,this.users=[],this.start_timestamp=Date.now(),this.counter=0,this.cycle_counter=1,this.game_is_active=!1,this.user_on_fire=!1,this.correct_answers_in_a_row=0,this.is_double_or_nothing=!1,this.double_option_has_been_used=!1,this.debug_ctr=0,this.hit_football=!1,this.hit_basketball=!1,this.hit_baseball=!1,this.user_points_o=0,this.popup="none",this.has_warrior_badge=!1,this.has_hit_the_cycle=!1}ngOnInit(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?console.log("Tab is in the background"):console.log("Tab is active again")}),this.userServiceSubscription=this.userService._getUser.subscribe(t=>{if(!t){this.router.navigate(["login"]);return}this.user=t,this.user.lives=3,this.user.points=0,this.user.rank=3,this.user.account_type=="player"?(this.createGame(),this.getUserDailyHighScore(),this.getUserBadges()):this.user.account_type=="business"&&this.loadScreens(),this.loadAdvertisements()}),this.subscribeToSocket()}loadScreens(){this.tablesService.GetFiltered("screens","venue_id",this.user.venue_id).subscribe(t=>{var i=t,r=window.innerWidth+" x "+window.innerHeight,c=i.find(m=>m.dimensions==r);if(!c){var p={venue_id:this.user.venue_id,dimensions:r};this.tablesService.AddItem("screens",p).subscribe()}})}ngOnDestroy(){this.messagesSubscription&&this.messagesSubscription.unsubscribe(),this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}subscribeToSocket(){this.messagesSubscription=this.socketioService._getMessage.subscribe(t=>{var i=Date.now()-this.start_timestamp;if(this.user.account_type=="business"&&this.socketioService.sendMessage("ping"),t&&i>5e3){if(clearInterval(this.timerInterval),clearInterval(this.timer2Interval),this.user.lives<=0){this.gameOver();return}this.message=t,console.log("this.message",this.message),this.has_joined=!0,this.message.message=="leaderboard"?this.page="leaderboard":this.message.message=="advertisement"?(this.page="advertisement",this.cycle_counter+=1):this.message.message=="qrcode"?this.page="qrcode":this.message.message=="question"&&(this.counter+=1,this.page="prepare_screen",this.is_double_or_nothing=!1,this.question_notification=void 0,setTimeout(()=>{this.page="game",this.time_is_up=!1,this.has_joined=!0,this.question_active=!0,this.message.question=this.commonService.decrypt("sb",t.question),this.right_answer=this.commonService.decrypt("sb",t.key),this.hiding_order=JSON.parse(this.commonService.decrypt("sb",t.hiding_order)),console.log("this.hiding_order",this.hiding_order),this.options=[],this.message.answers.forEach(c=>{this.options.push({text:c,is_right_answer:c==this.right_answer})}),this.time=10,this.show_timer=!0;var r=0;this.question_start_time=Date.now(),this.timerInterval&&clearInterval(this.timerInterval),this.timer2Interval&&clearInterval(this.timer2Interval),this.timer2Interval=setInterval(()=>{this.value_points=100-Math.round((Date.now()-this.question_start_time)/100)},200),this.timerInterval=setInterval(()=>{if(this.time-=1,r+=1,this.time<0&&(this.time=0,this.time_is_up=!0,this.question_active==!0&&this.answerSelected(void 0)),r==4&&(this.options[this.hiding_order[0]].hide=!0),r==7&&(this.options[this.hiding_order[1]].hide=!0),r==12&&this.tablesService.GetFiltered("user_activity","question_id",this.message.question_id).subscribe(c=>{var p=Date.now()-11e3,m=c.filter(T=>T.timestamp_question>p),w=0;m.forEach(T=>{T.got_it_right==1&&w++});var O={message:"results",percent:Math.round(100*w/m.length),got_right:w,total_players:m.length};this.percent_correct=O.percent,m.length>0&&(this.question_notification=O.percent+"% answered correctly"),this.active_players=O.total_players}),r==14&&this.user.lives<=0){this.gameOver();return}},1e3)},4e3))}})}answerSelected(t){return Z(this,null,function*(){if(!(this.user.account_type=="business"||this.question_active==!1)){if(this.question_active=!1,this.timer2Interval&&clearInterval(this.timer2Interval),t?.text==this.right_answer){t.show_green=!0,this.user.points+=this.user_on_fire?2*this.value_points:this.value_points,this.points_value=this.user_on_fire?2*this.value_points:this.value_points,this.show_point_animation=!0,this.updateGameRecord(),this.storeAnswer(!0),this.correct_answers_in_a_row+=1,yield this.delay(1500),this.show_point_animation=!1,this.correct_answers_in_a_row==3&&(this.user_on_fire=!0,yield this.showPopUp("on-fire")),this.is_double_or_nothing&&(this.user.points+=this.user.points,yield this.showPopUp("double-or-nothing")),this.message.category=="NFL"?this.hit_football=!0:this.message.category=="NBA"?this.hit_basketball=!0:this.message.category=="MLB"&&(this.hit_baseball=!0),this.correct_answers_in_a_row==7&&(yield this.giveAward("brainiac")),this.hit_football==!0&&this.hit_baseball==!0&&this.hit_basketball==!0&&(this.has_hit_the_cycle==!1&&(yield this.giveAward("hit-the-cycle")),this.has_hit_the_cycle=!0),this.user.points>=1500&&this.user_points_o<1500&&(yield this.giveAward("high-roller"));var i=yield Un(this.userService.updateBadgesCounter(this.user.user_id,this.message.category));console.log("^^^^^^^^^^^^ update counters",i);var r=i.award;r=="gridion"?yield this.giveAward("gridion"):r=="hardwood"?yield this.giveAward("hardwood"):r=="park"&&(yield this.giveAward("park")),this.user_points_o=this.user.points}else t&&(t.show_red=!0),this.storeAnswer(!1),this.user.lives-=1,this.user_on_fire=!1,this.correct_answers_in_a_row=0,this.is_double_or_nothing&&(this.user.points=0,this.showPopUp("double-or-nothing-failed"));this.stopTimer()}})}delay(t){return Z(this,null,function*(){return new Promise(i=>setTimeout(i,t))})}gameOver(){this.page="game_over",this.game_is_active=!1,this.has_warrior_badge==!1&&(this.has_warrior_badge=!0,this.giveAward("warrior")),this.apisService.awardPoints(this.user.user_id,this.user.points).subscribe(t=>{console.log(t)}),clearInterval(this.timerInterval),clearInterval(this.timer2Interval),this.messagesSubscription&&this.messagesSubscription.unsubscribe()}updateGameRecord(){var t={game_id:this.game_id,score:this.user.points};this.tablesService.UpdateItem("games","game_id",t).subscribe()}stopTimer(){this.show_timer=!1}playAgain(){this.user.lives=3,this.has_joined=!1,this.double_option_has_been_used=!1,this.correct_answers_in_a_row=0,this.hit_football=!1,this.hit_basketball=!1,this.hit_baseball=!1,this.page="game",this.getUserDailyHighScore(),this.subscribeToSocket()}storeAnswer(t){if(this.game_is_active==!0){var i={user_id:this.user.user_id,got_it_right:t,game_id:this.game_id,question_id:this.message.question_id};this.tablesService.StoreUserActivity(i).subscribe()}}createGame(){var t={user_id:this.user.user_id,venue_id:1,timestamp:Date.now(),score:0,dimensions:window.innerWidth+" x "+window.innerHeight};this.tablesService.AddItem("games",t).subscribe(i=>{this.game_id=i.id,this.game_is_active=!0}),this.user_on_fire=!1}getUserDailyHighScore(){this.userService.getUserDailyHighScore(this.user.user_id).subscribe(t=>{var i=t[0];i&&(this.user.daily_high=i.score)})}loadAdvertisements(){Yo([this.myblobService.getActiveFiles(),this.tablesService.GetFiltered("advertisement_accounts","venue_id",this.user.venue_id)]).subscribe(t=>{var i=t[1][0],r=t[0].filter(c=>c.indexOf(i.advertisement_account_id+"/")==0);console.log("active files",r),this.screen_width<540?(this.ads=r.filter(c=>c.indexOf("/mobile/")>-1).map(c=>"https://sportzbattle.blob.core.windows.net/advertisements/"+c),this.ads.length==0&&this.ads.push("https://sportzbattle.blob.core.windows.net/system/mobile_ad.jpg")):(this.ads=r.filter(c=>c.indexOf("/desktop/")>-1).map(c=>"https://sportzbattle.blob.core.windows.net/advertisements/"+c),this.ads.length==0&&this.ads.push("https://sportzbattle.blob.core.windows.net/system/desktop_ad.jpg")),this.banners=r.filter(c=>c.indexOf("/banner/")>-1).map(c=>"https://sportzbattle.blob.core.windows.net/advertisements/"+c),this.banners.length==0&&this.banners.push("https://sportzbattle.blob.core.windows.net/system/banner_ad.jpg")})}makeDouble(){this.is_double_or_nothing=!0,this.double_option_has_been_used=!0}giveAward(t){return Z(this,null,function*(){console.log("GIVE AWARD!",t);var i={user_id:this.user.user_id,timestamp:Date.now(),badge_name:t,badge_icon:this.selectIcon(t)};this.tablesService.AddItem("user_badges",i).subscribe(),yield this.showPopUp(t)})}showPopUp(t){return Z(this,null,function*(){this.popup=t,yield this.delay(3e3),this.popup="none"})}getUserBadges(){this.tablesService.GetFiltered("user_badges","user_id",this.user.user_id).subscribe(t=>{var i=t,r=i.find(c=>c.badge_name=="warrior");r&&(this.has_warrior_badge=!0)})}selectIcon(t){return t=="high-roller"?"https://sportzbattle.blob.core.windows.net/system/dice.png":t=="brainiac"?"https://sportzbattle.blob.core.windows.net/system/brain.png":t=="hit-the-cycle"?"https://sportzbattle.blob.core.windows.net/system/cycle.png":t=="warrior"?"https://sportzbattle.blob.core.windows.net/system/sword.png":t=="gridion"?"https://sportzbattle.blob.core.windows.net/system/football.png":t=="hardwood"?"https://sportzbattle.blob.core.windows.net/system/basketball.png":t=="park"?"https://sportzbattle.blob.core.windows.net/system/baseball.png":void 0}};n.\u0275fac=function(i){return new(i||n)(I(hs),I(fe),I(xe),I(Se),I(Gn),I(it),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-game-screen"]],decls:3,vars:1,consts:[[1,"game_screen"],[3,"user","counter","show_lives","active_players","on_fire"],["class","points_animation",3,"ngStyle",4,"ngIf"],[3,"time",4,"ngIf"],[1,"question_container"],[1,"question"],[1,"question_value",3,"ngClass"],[1,"row"],[1,"col-12","col-md-6"],[3,"counter","venue_id","banners"],[1,"points_animation",3,"ngStyle"],[3,"time"],["src","../../../assets/images/fire-flame.gif",1,"user_on_fire"],[1,"question_valuex","blue"],[1,"option","op1",3,"click","ngClass"],[3,"user","show_lives","active_players"],[3,"banners"],[3,"ads"],[3,"banners","venue_id"],[3,"make_double","banners","account_type","double_option_has_been_used"],[3,"playAgain"]],template:function(i,r){i&1&&(s(0,"div",0),M(1,kp,6,1)(2,Tp,1,0),a()),i&2&&(d(),P(1,r.has_joined?1:2))},dependencies:[ce,oe,Rt,vr,ur,mr,Cr,br,xr,yr,_r,gr,fr,Yt,Qt,Kt,vi,xs,bs,yi,vs,ys],styles:[".game_screen[_ngcontent-%COMP%]{width:100%;height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative}.hero[_ngcontent-%COMP%]{height:calc(100vh - 100px);position:absolute;bottom:0;right:0}.message[_ngcontent-%COMP%]{position:absolute;top:50px;color:#fff}.question_value[_ngcontent-%COMP%]{text-align:center;padding:10px 25px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto;display:inline-block;border-radius:10px;background-color:transparent;border:solid 2px gold;width:150px}.question_valuex[_ngcontent-%COMP%]{text-align:center;padding:10px 25px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto;border-radius:0;background-color:transparent}.pts100[_ngcontent-%COMP%]{font-size:.8em}.green[_ngcontent-%COMP%]{background-color:green!important}.greenyellow[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.blue[_ngcontent-%COMP%]{background-color:#3cf!important}.orange[_ngcontent-%COMP%]{background-color:orange!important}.question_container[_ngcontent-%COMP%]{width:100%;display:block;padding:0% 5% 0;text-align:center;margin:0}.question[_ngcontent-%COMP%]{color:#fff;font-size:3.5em;margin:0 0 0%;min-height:150px}.option[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:2.5em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3;z-index:100}.advertisement_text[_ngcontent-%COMP%]{position:absolute;color:#fff;font-family:roboto-bold;font-size:4em;top:20%;right:20px;width:50%;text-align:center}.invisible[_ngcontent-%COMP%]{visibility:hidden}.points_animation[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;background:linear-gradient(45deg,#3cf,#000);color:#fff;top:27px;left:calc(50% + -0px);border-radius:50%;font-size:48px;padding:10px 4px;transform:translate(-50%);opacity:0;animation:_ngcontent-%COMP%_flash 1s ease-in-out forwards}.user_on_fire[_ngcontent-%COMP%]{width:40px;display:inline-block}.question[_ngcontent-%COMP%]{font-size:2.7em}.option[_ngcontent-%COMP%]{font-size:2.2em}@keyframes _ngcontent-%COMP%_flash{0%{opacity:1;transform:translate(-50%,-20px) scale(1.5)}50%{opacity:1;transform:translate(-50%) scale(1)}to{opacity:0;transform:translate(-50%,20px) scale(.5)}}@media screen and (max-width: 768px){.option[_ngcontent-%COMP%]{font-size:2em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3}.question[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin:0 0 2%;min-height:0px}.question_container[_ngcontent-%COMP%]{padding-top:10px}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:0%}.option[_ngcontent-%COMP%]{font-size:2em}}@media screen and (max-height: 500px){.question[_ngcontent-%COMP%]{font-size:1.7em}.option[_ngcontent-%COMP%]{font-size:1.25em;margin:15px 0}}"]});let o=n;return o})();var Ip=Nn(cr());function Ap(o,n){if(o&1&&b(0,"plotly-plot",3),o&2){let e=_();C("data",e.graph.data)("layout",e.graph.layout)("config",e.graph.config)}}Lt.plotlyjs=Ip;var Ms=(()=>{let n=class n{constructor(){this.graph_data=[],this.ready=!1,this.graph={layout:{width:document.getElementById("myrow")?.offsetWidth,height:300,plot_bgcolor:"rgba(0,0,0,0)",paper_bgcolor:"rgba(0,0,0,0)",title:{text:"",font:{color:"white"}},xaxis:{title:{font:{color:"white"}},tickfont:{color:"white"}},yaxis:{title:{text:"High Score",font:{color:"white"}},tickfont:{color:"white"}}},config:{displayModeBar:!1,responsive:!0,editable:!1}}}ngOnChanges(){this.graph_data=[],this.graph.data=[{x:this.games.map(r=>r.date),y:this.games.map(r=>r.score),type:"bar",marker:{color:"33ccff"}}];var t=document.getElementById("myrow");if(t){var i=t.offsetWidth;this.graph.layout.width=i}this.ready=!0}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-user-dashboard-graph"]],inputs:{games:"games"},features:[ue],decls:4,vars:1,consts:[[1,"graph_container"],[1,"graph_title"],[3,"data","layout","config",4,"ngIf"],[3,"data","layout","config"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"div",1),h(2,"Games History"),a(),M(3,Ap,1,3,"plotly-plot",2),a()),i&2&&(d(3),C("ngIf",r.ready))},dependencies:[oe,lr],styles:[".graph_container[_ngcontent-%COMP%]{position:relative}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:20px;color:#fff;text-align:center;position:absolute;top:50px;left:calc(50% - 82px)}"]});let o=n;return o})();var Vp=(o,n)=>n.user_badge_id;function zp(o,n){if(o&1&&(s(0,"div",15),b(1,"img",29),s(2,"div"),h(3),a()()),o&2){let e=n.$implicit;d(),H("src",e.badge_icon,D),d(2),z("X",e.count,"")}}function Lp(o,n){if(o&1&&(s(0,"div",21),h(1),a()),o&2){let e=_();d(),ie("",e.stats.all_time_points_rank_suffix," out of ",e.stats.all_time_points_number_players,"")}}function Bp(o,n){o&1&&(s(0,"div",21),h(1,"-"),a())}function Np(o,n){if(o&1&&(s(0,"div",21),h(1),a()),o&2){let e=_();d(),ie("",e.stats.high_points_today_rank_suffix," out of ",e.stats.high_points_today_number_players,"")}}function Up(o,n){o&1&&(s(0,"div",21),h(1,"-"),a())}function Dp(o,n){if(o&1&&(s(0,"div",21),h(1),a()),o&2){let e=_();d(),ie("",e.stats.monthly_points_rank_suffix," out of ",e.stats.monthly_points_number_players,"")}}function Fp(o,n){o&1&&(s(0,"div",21),h(1,"-"),a())}function qp(o,n){if(o&1&&(s(0,"div",21),h(1),a()),o&2){let e=_();d(),ie("",e.stats.top_score_all_time_rank_suffix," out of ",e.stats.top_score_all_time_number_players,"")}}function Hp(o,n){o&1&&(s(0,"div",21),h(1,"-"),a())}function Wp(o,n){if(o&1&&(s(0,"div",21),h(1),a()),o&2){let e=_();d(),ie("",e.stats.games_today_rank_suffix," out of ",e.stats.games_today_number_players,"")}}function jp(o,n){o&1&&(s(0,"div",21),h(1,"-"),a())}function Gp(o,n){if(o&1&&(s(0,"div",21),h(1),a()),o&2){let e=_();d(),ie("",e.stats.number_of_games_rank_suffix," out of ",e.stats.number_of_games_number_players,"")}}function Yp(o,n){o&1&&(s(0,"div",21),h(1,"-"),a())}function Qp(o,n){if(o&1){let e=E();s(0,"div",30)(1,"button",31),y("click",function(){f(e);let i=_();return x(i.closeModal("gameTypeModal"))}),b(2,"i",32),a(),s(3,"h1",33),h(4,"Select game mode"),a(),s(5,"div",34)(6,"button",35),y("click",function(){f(e);let i=_();return x(i.goPlay())}),h(7,"Loop"),a(),b(8,"br")(9,"br"),s(10,"button",35),y("click",function(){f(e);let i=_();return x(i.goPlayH2H())}),h(11,"Head-to-Head"),a()()()}}var Ss=(()=>{let n=class n{constructor(t,i,r,c){this.userService=t,this.commonService=i,this.tablesService=r,this.router=c,this.games=[],this.activity=[],this.stats={}}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(t=>{if(!t){this.router.navigate(["login"]);return}this.user=t,this.user.wallet||(this.user.wallet=0),this.user.wallet_value=(this.user.wallet/1e3).toFixed(2),this.getData()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}getData(){this.userService.getUserStats(this.user.user_id).subscribe(t=>{this.stats=t,this.user.all_time_points=this.user.points,console.log("this.user",this.user),this.getLevel()}),this.userService.getUserActivity(this.user.user_id).subscribe(t=>{var i=t;this.activity=i,this.games=[],i.forEach(r=>{var c=this.games.find(m=>m.game_id==r.game_id);if(!c){var p={game_id:r.game_id,timestamp:r.timestamp,score:r.score};this.games.push(p)}}),this.games.forEach(r=>{r.date=this.commonService.getDateString(r.timestamp)})}),this.tablesService.GetFiltered("user_badges","user_id",this.user.user_id).subscribe(t=>{var i=t;this.number_of_badges=i.length,this.badges=[],i.forEach(r=>{var c=this.badges.find(m=>m.badge_name==r.badge_name);if(!c){var p={badge_name:r.badge_name,badge_icon:r.badge_icon,count:i.filter(m=>m.badge_name==r.badge_name).length};this.badges.push(p)}}),console.log("badges",this.badges)})}goPlay(){this.router.navigate(["user/play"])}getLevel(){this.tablesService.GetAll("skill_levels").subscribe(t=>{this.commonService.assignLevel(this.user,t)})}closeModal(t){$("#"+t).modal("hide")}showGameTypeModal(){$("#gameTypeModal").modal("show")}goPlayH2H(){$("#gameTypeModal").modal("hide"),this.router.navigate(["user/lobby"])}};n.\u0275fac=function(i){return new(i||n)(I(xe),I(fe),I(Se),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-user-dashboard"]],decls:134,vars:37,consts:[[1,"background","backgroundx"],[1,"dashboard_contents"],[1,"user_details"],[1,"user_image",3,"src"],[1,"user_name"],[1,"level_container"],[1,"level_icon",3,"src"],[1,"level_name"],["src","https://sportzbattle.blob.core.windows.net/system/tokens_logo.png",1,"level_icon"],[1,"level_name",2,"text-align","center"],[1,"wallet_value"],[1,"text-end"],[1,"btn","btn-default","button_primary","play_now_button",3,"click"],[1,"user_badges"],[1,"user_name",2,"padding-bottom","15px"],[1,"badgex"],[3,"games"],["id","myrow",1,"row","rowx"],[1,"col-6"],[1,"box_title"],[1,"box_number"],[1,"box_rank"],[1,"table_container"],[1,"table"],[1,"tc"],["id","gameTypeModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],[1,"user_badge",3,"src"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"modal_title"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-default","button_primary",3,"click"]],template:function(i,r){i&1&&(b(0,"app-user-sidemenu"),s(1,"div",0)(2,"div",1)(3,"div",2),b(4,"img",3),s(5,"div",4),h(6),a(),s(7,"div",5),b(8,"img",6),s(9,"div",7),h(10),a()(),s(11,"div",5),b(12,"img",8),s(13,"div",9),h(14),a(),s(15,"div",10),h(16),a()(),s(17,"div",11)(18,"button",12),y("click",function(){return r.showGameTypeModal()}),h(19,"Play Now"),a()()(),s(20,"div",13)(21,"div",14),h(22),a(),b(23,"br"),_e(24,zp,4,2,"div",15,Vp),a(),b(26,"app-user-dashboard-graph",16),s(27,"div",17)(28,"div",18)(29,"div",19),h(30,"Total Points"),a(),s(31,"div",20),h(32),a(),M(33,Lp,2,2,"div",21)(34,Bp,2,0),a(),s(35,"div",18)(36,"div",19),h(37,"Daily High Points"),a(),s(38,"div",20),h(39),a(),M(40,Np,2,2,"div",21)(41,Up,2,0),a()(),s(42,"div",17)(43,"div",18)(44,"div",19),h(45,"Monthly Points"),a(),s(46,"div",20),h(47),a(),M(48,Dp,2,2,"div",21)(49,Fp,2,0),a(),s(50,"div",18)(51,"div",19),h(52,"All-time Top Score"),a(),s(53,"div",20),h(54),a(),M(55,qp,2,2,"div",21)(56,Hp,2,0),a()(),s(57,"div",17)(58,"div",18)(59,"div",19),h(60,"Today Games"),a(),s(61,"div",20),h(62),a(),M(63,Wp,2,2,"div",21)(64,jp,2,0),a(),s(65,"div",18)(66,"div",19),h(67,"Total Games"),a(),s(68,"div",20),h(69),a(),M(70,Gp,2,2,"div",21)(71,Yp,2,0),a()(),s(72,"div",22)(73,"table",23)(74,"thead")(75,"tr"),b(76,"th",24),s(77,"th",24),h(78,"Questions"),a(),s(79,"th",24),h(80,"Correct"),a(),s(81,"th",24),h(82,"Pct %"),a(),s(83,"th",24),h(84,"Ranking"),a()()(),s(85,"tbody")(86,"tr")(87,"td",24),h(88,"All"),a(),s(89,"td",24),h(90),a(),s(91,"td",24),h(92),a(),s(93,"td",24),h(94),a(),s(95,"td",24),h(96),a()(),s(97,"tr")(98,"td",24),h(99,"Basketball"),a(),s(100,"td",24),h(101),a(),s(102,"td",24),h(103),a(),s(104,"td",24),h(105),a(),s(106,"td",24),h(107),a()(),s(108,"tr")(109,"td",24),h(110,"Football"),a(),s(111,"td",24),h(112),a(),s(113,"td",24),h(114),a(),s(115,"td",24),h(116),a(),s(117,"td",24),h(118),a()(),s(119,"tr")(120,"td",24),h(121,"Baseball"),a(),s(122,"td",24),h(123),a(),s(124,"td",24),h(125),a(),s(126,"td",24),h(127),a(),s(128,"td",24),h(129),a()()()()()()(),s(130,"div",25)(131,"div",26)(132,"div",27),M(133,Qp,12,0,"div",28),a()()()),i&2&&(d(4),H("src",r.user.image,D),d(2),A(r.user.name),d(2),H("src",r.user.level_icon,D),d(2),A(r.user.level),d(4),A(r.user.wallet),d(2),z("$",r.user.wallet_value,""),d(6),z("Badges (",r.number_of_badges,")"),d(2),ge(r.badges),d(2),C("games",r.games),d(6),A(r.stats.all_time_points),d(),P(33,r.stats.all_time_points_number_players>0&&r.stats.number_of_games>0?33:34),d(6),A(r.stats.high_points_today),d(),P(40,r.stats.high_points_today_number_players>0&&r.stats.games_today>0?40:41),d(7),A(r.stats.monthly_points),d(),P(48,r.stats.monthly_points_number_players>0&&r.stats.number_of_games>0?48:49),d(6),A(r.stats.top_score_all_time),d(),P(55,r.stats.top_score_all_time_number_players>0&&r.stats.number_of_games>0?55:56),d(7),A(r.stats.games_today),d(),P(63,r.stats.games_today_number_players>0&&r.stats.games_today>0?63:64),d(6),A(r.stats.number_of_games),d(),P(70,r.stats.number_of_games_number_players>0&&r.stats.number_of_games>0?70:71),d(20),A(r.stats.all_questions),d(2),A(r.stats.all_correct),d(2),z("",r.stats.all_pct,"%"),d(2),A(r.stats.all_pct_rank_suffix),d(5),A(r.stats.all_nba),d(2),A(r.stats.nba_correct),d(2),z("",r.stats.nba_pct,"%"),d(2),A(r.stats.nba_pct_rank_suffix),d(5),A(r.stats.all_nfl),d(2),A(r.stats.nfl_correct),d(2),z("",r.stats.nfl_pct,"%"),d(2),A(r.stats.nfl_pct_rank_suffix),d(5),A(r.stats.all_mlb),d(2),A(r.stats.mlb_correct),d(2),z("",r.stats.mlb_pct,"%"),d(2),A(r.stats.mlb_pct_rank_suffix),d(4),C("ngIf",r.user))},dependencies:[oe,Fe,Ms],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_details[_ngcontent-%COMP%]{padding:60px 40px 0;position:relative;margin:auto;display:block}.dashboard_contents[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;display:block;padding-bottom:100px}.user_image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;display:inline-block}.user_name[_ngcontent-%COMP%]{font-size:20px;font-family:orbitron-bold;display:inline-block;vertical-align:middle;padding-left:20px;color:#fff}.level_icon[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;display:block;margin:auto}.level_name[_ngcontent-%COMP%]{font-size:16px;font-family:orbitron-bold;vertical-align:middle;color:#fff}.box_title[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:24px;text-align:center;padding:7px 0;margin:auto}.box_number[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:20px;text-align:center;background-color:#3cf;padding:25px 0;border-radius:50%;width:80px;height:80px;margin:auto}.box_rank[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#fff;text-align:center}.rowx[_ngcontent-%COMP%]{margin:0;border-bottom:solid 1px white;padding-bottom:10px;padding-top:10px;border-top:solid 1px white}.play_now_button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.table_container[_ngcontent-%COMP%]{padding:30px 0}.level_container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:60px}.user_badge[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;padding:0;margin:0 7px}.user_badges[_ngcontent-%COMP%]{padding:50px 0 30px}.badgex[_ngcontent-%COMP%]{font-family:orbitron-bold;display:inline-block;color:#fff;text-align:center;font-size:13px}.wallet_value[_ngcontent-%COMP%]{font-family:orbitron-bold;color:#00bfff;font-size:14px;padding-left:5px}@media screen and (max-width: 768px){.user_name[_ngcontent-%COMP%]{font-size:16px}.user_image[_ngcontent-%COMP%]{width:60px;height:60px}.level_name[_ngcontent-%COMP%]{font-size:15px}.backgroundx[_ngcontent-%COMP%]{padding:0}.box_title[_ngcontent-%COMP%]{max-width:166px}.user_details[_ngcontent-%COMP%]{padding:60px 5px 0}.level_container[_ngcontent-%COMP%]{padding-left:20px}}']});let o=n;return o})();var Xp=(o,n)=>n.user_id,Mo=o=>({selected:o}),qe=o=>({se:o}),yt=o=>({al:o}),wt=o=>({ar:o});function Kp(o,n){if(o&1){let e=E();s(0,"div",12)(1,"div",26),y("click",function(){f(e);let i=_();return i.tab="search",i.query="",x(i.filterByTab())}),h(2,"Search"),a(),s(3,"div",26),y("click",function(){f(e);let i=_();return i.tab="scouting",i.query="",x(i.filterByTab())}),h(4),a(),s(5,"div",26),y("click",function(){f(e);let i=_();return i.tab="scouted-by",i.query="",x(i.filterByTab())}),h(6),a()()}if(o&2){let e=_();d(),C("ngClass",V(5,Mo,e.tab=="search")),d(2),C("ngClass",V(7,Mo,e.tab=="scouting")),d(),z("Scouting (",e.scouts.scouts.length,")"),d(),C("ngClass",V(9,Mo,e.tab=="scouted-by")),d(),z("Scouted by (",e.scouts.prospects.length,")")}}function Jp(o,n){if(o&1){let e=E();s(0,"div",27),y("click",function(){f(e);let i=_();return i.query="",x(i.filterPlayers())}),b(1,"i",28),a()}}function $p(o,n){o&1&&b(0,"th",29)(1,"th",29)(2,"th",29)}function Zp(o,n){o&1&&b(0,"th",29)}function e0(o,n){if(o&1&&(s(0,"td",30),b(1,"img",31),h(2),a()),o&2){let e=_().$implicit,t=_(2);C("ngClass",V(3,qe,e.user_id==t.user.user_id)),d(),H("src",e.level_icon,D),d(),z("\xA0",e.level," ")}}function t0(o,n){if(o&1&&(s(0,"td",30),b(1,"img",31),a()),o&2){let e=_().$implicit,t=_(2);C("ngClass",V(2,qe,e.user_id==t.user.user_id)),d(),H("src",e.level_icon,D)}}function n0(o,n){if(o&1){let e=E();s(0,"button",33),y("click",function(){f(e);let i=_(2).$implicit,r=_(2);return x(r.userMatchUp(i.user_id))}),h(1,"MATCH UP"),a()}}function i0(o,n){if(o&1){let e=E();s(0,"button",33),y("click",function(){f(e);let i=_(2).$implicit,r=_(2);return x(r.scoutPlayer(i))}),h(1,"SCOUT"),a()}}function o0(o,n){if(o&1){let e=E();s(0,"button",34),y("click",function(){f(e);let i=_(2).$implicit,r=_(2);return x(r.removeScout(i))}),h(1,"REMOVE"),a()}}function r0(o,n){if(o&1&&(s(0,"td",30)(1,"button",32),h(2,"BATTLE H2H"),a()(),s(3,"td",30),M(4,n0,2,0,"button",32),a(),s(5,"td",30),M(6,i0,2,0,"button",32)(7,o0,2,0),a()),o&2){let e=_().$implicit,t=_(2);C("ngClass",V(5,qe,e.user_id==t.user.user_id)),d(3),C("ngClass",V(7,qe,e.user_id==t.user.user_id)),d(),P(4,e.user_id!=t.user.user_id?4:-1),d(),C("ngClass",V(9,qe,e.user_id==t.user.user_id)),d(),P(6,e.scouting==!1?6:e.scouting==!0&&t.tab=="scouting"?7:-1)}}function a0(o,n){if(o&1){let e=E();s(0,"td",30)(1,"button",35),y("click",function(){f(e);let i=_().$implicit,r=_(2);return x(r.openOptions(i))}),b(2,"i",36),a()()}if(o&2){let e=_().$implicit,t=_(2);C("ngClass",V(1,qe,e.user_id==t.user.user_id))}}function s0(o,n){if(o&1&&(s(0,"tr")(1,"td",30),h(2),a(),s(3,"td",30),b(4,"img",31),a(),s(5,"td",30),h(6),a(),M(7,e0,3,5,"td",30)(8,t0,2,4),s(9,"td",30),h(10),a(),M(11,r0,8,11)(12,a0,3,3),a()),o&2){let e=n.$implicit,t=_(2);d(),C("ngClass",V(10,qe,e.user_id==t.user.user_id)),d(),A(e.rank),d(),C("ngClass",V(12,qe,e.user_id==t.user.user_id)),d(),H("src",e.image,D),d(),C("ngClass",V(14,qe,e.user_id==t.user.user_id)),d(),A(e.username.slice(0,10)),d(),P(7,t.screen_large?7:8),d(2),C("ngClass",V(16,qe,e.user_id==t.user.user_id)),d(),A(t.tab=="daily"?e.max_score:e.points),d(),P(11,t.screen_large?11:12)}}function c0(o,n){if(o&1&&(s(0,"table",18)(1,"thead")(2,"tr")(3,"th",29),h(4,"Rank"),a(),b(5,"th",29),s(6,"th",29),h(7,"Username"),a(),s(8,"th",29),h(9,"Level"),a(),s(10,"th",29),h(11,"Total Points"),a(),M(12,$p,3,0)(13,Zp,1,0),a()(),s(14,"tbody"),_e(15,s0,13,18,"tr",null,Xp),a()()),o&2){let e=_();d(12),P(12,e.screen_large?12:13),d(3),ge(e.players)}}function l0(o,n){o&1&&(s(0,"div",37),h(1,"There are no players to show"),a())}function d0(o,n){if(o&1){let e=E();s(0,"div",22)(1,"button",38),y("click",function(){f(e);let i=_();return x(i.closeModal("scoutNotificationModal"))}),b(2,"i",39),a(),s(3,"p",40),h(4),a(),s(5,"div",41)(6,"button",42),y("click",function(){f(e);let i=_();return x(i.closeModal("scoutNotificationModal"))}),h(7,"Ok"),a()()()}if(o&2){let e=_();d(4),z("",e.itemx.username," has been added to your scouting list")}}function p0(o,n){if(o&1){let e=E();s(0,"div",22)(1,"button",38),y("click",function(){f(e);let i=_();return x(i.closeModal("matchupModal"))}),b(2,"i",39),a(),s(3,"table",43)(4,"tr")(5,"td",44)(6,"strong",29),h(7),a()(),b(8,"td"),s(9,"td",44)(10,"strong",29),h(11),a()()(),s(12,"tr")(13,"td",40),b(14,"img",45),a(),b(15,"td"),s(16,"td",40),b(17,"img",45),a()(),s(18,"tr")(19,"td",40)(20,"div",46),h(21),a()(),s(22,"td",47),h(23,"All-Time Points"),a(),s(24,"td",40)(25,"div",46),h(26),a()()(),s(27,"tr")(28,"td",40)(29,"div",46),h(30),a()(),s(31,"td",47),h(32,"Number of Games"),a(),s(33,"td",40)(34,"div",46),h(35),a()()(),s(36,"tr")(37,"td",40)(38,"div",46),h(39),a()(),s(40,"td",47),h(41,"All-Time Rank"),a(),s(42,"td",40)(43,"div",46),h(44),a()()(),s(45,"tr")(46,"td",40)(47,"div",46),h(48),a()(),s(49,"td",47),h(50,"Top Score All-Time"),a(),s(51,"td",40)(52,"div",46),h(53),a()()(),s(54,"tr")(55,"td",40)(56,"div",46),h(57),a()(),s(58,"td",47),h(59,"Football Pct (Rank)"),a(),s(60,"td",40)(61,"div",46),h(62),a()()(),s(63,"tr")(64,"td",40)(65,"div",46),h(66),a()(),s(67,"td",47),h(68,"Basketball Pct (Rank)"),a(),s(69,"td",40)(70,"div",46),h(71),a()()(),s(72,"tr")(73,"td",40)(74,"div",46),h(75),a()(),s(76,"td",47),h(77,"Baseball Pct (Rank)"),a(),s(78,"td",40)(79,"div",46),h(80),a()()()(),s(81,"div",41)(82,"button",42),y("click",function(){f(e);let i=_();return x(i.closeModal("matchupModal"))}),h(83,"Ok"),a()()()}if(o&2){let e=_();d(7),A(e.user.stats.username),d(4),A(e.matchup.username),d(3),H("src",e.user.image,D),d(3),H("src",e.matchup.image,D),d(3),C("ngClass",V(38,yt,e.user.stats.all_time_points>e.matchup.all_time_points)),d(),z(" ",e.user.stats.all_time_points," "),d(4),C("ngClass",V(40,wt,e.matchup.all_time_points>e.user.stats.all_time_points)),d(),z(" ",e.matchup.all_time_points," "),d(3),C("ngClass",V(42,yt,e.user.stats.number_of_games>e.matchup.number_of_games)),d(),z(" ",e.user.stats.number_of_games," "),d(4),C("ngClass",V(44,wt,e.matchup.number_of_games>e.user.stats.number_of_games)),d(),z(" ",e.matchup.number_of_games," "),d(3),C("ngClass",V(46,yt,e.user.stats.all_time_points_rank_suffix<e.matchup.all_time_points_rank_suffix)),d(),z(" ",e.user.stats.all_time_points_rank_suffix," "),d(4),C("ngClass",V(48,wt,e.matchup.all_time_points_rank_suffix<e.user.stats.all_time_points_rank_suffix)),d(),z(" ",e.matchup.all_time_points_rank_suffix," "),d(3),C("ngClass",V(50,yt,e.user.stats.top_score_all_time>e.matchup.top_score_all_time)),d(),z(" ",e.user.stats.top_score_all_time," "),d(4),C("ngClass",V(52,wt,e.matchup.top_score_all_time>e.user.stats.top_score_all_time)),d(),z(" ",e.matchup.top_score_all_time," "),d(3),C("ngClass",V(54,yt,e.user.stats.nfl_pct>e.matchup.nfl_pct)),d(),ie(" ",e.user.stats.nfl_pct,"%\xA0(",e.user.stats.nfl_pct_rank_suffix,") "),d(4),C("ngClass",V(56,wt,e.matchup.nfl_pct>e.user.stats.nfl_pct)),d(),ie(" ",e.matchup.nfl_pct,"%\xA0(",e.matchup.nfl_pct_rank_suffix,") "),d(3),C("ngClass",V(58,yt,e.user.stats.nba_pct>e.matchup.nba_pct)),d(),ie(" ",e.user.stats.nba_pct,"%\xA0(",e.user.stats.nba_pct_rank_suffix,") "),d(4),C("ngClass",V(60,wt,e.matchup.nba_pct>e.user.stats.nba_pct)),d(),ie(" ",e.matchup.nba_pct,"%\xA0(",e.matchup.nba_pct_rank_suffix,") "),d(3),C("ngClass",V(62,yt,e.user.stats.mlb_pct>e.matchup.mlb_pct)),d(),ie(" ",e.user.stats.mlb_pct,"%\xA0(",e.user.stats.mlb_pct_rank_suffix,") "),d(4),C("ngClass",V(64,wt,e.matchup.mlb_pct>e.user.stats.mlb_pct)),d(),ie(" ",e.matchup.mlb_pct,"%\xA0(",e.matchup.mlb_pct_rank_suffix,") ")}}function h0(o,n){if(o&1){let e=E();s(0,"button",42),y("click",function(){f(e);let i=_(2);return x(i.scoutPlayer(i.itemx))}),h(1,"SCOUT"),a(),b(2,"br")(3,"br")}}function u0(o,n){if(o&1){let e=E();s(0,"button",42),y("click",function(){f(e);let i=_(2);return x(i.removeScout(i.itemx))}),h(1,"REMOVE"),a(),b(2,"br")(3,"br")}}function m0(o,n){if(o&1){let e=E();s(0,"div",22)(1,"button",38),y("click",function(){f(e);let i=_();return x(i.closeModal("optionsModal"))}),b(2,"i",39),a(),s(3,"div",48)(4,"strong"),h(5),a()(),s(6,"div",40)(7,"button",49),h(8,"BATTLE H2H"),a(),b(9,"br")(10,"br"),s(11,"button",42),y("click",function(){f(e);let i=_();return x(i.userMatchUp(i.itemx.user_id))}),h(12,"MATCH UP"),a(),b(13,"br")(14,"br"),M(15,h0,4,0)(16,u0,4,0),a()()}if(o&2){let e=_();d(5),A(e.itemx.username),d(10),P(15,e.itemx.scouting==!1?15:e.itemx.scouting==!0&&e.tab=="scouting"?16:-1)}}function _0(o,n){if(o&1){let e=E();s(0,"div",22)(1,"button",38),y("click",function(){f(e);let i=_();return x(i.closeModal("confirmDeleteScoutModal"))}),b(2,"i",39),a(),s(3,"div",50)(4,"p"),h(5,"Please confirm you wish to remove "),s(6,"em"),h(7),a(),h(8," from your scouting list. "),a()(),s(9,"div",40)(10,"button",42),y("click",function(){f(e);let i=_();return x(i.deleteScoutingRecord())}),h(11,"REMOVE"),a()()()}if(o&2){let e=_();d(7),A(e.itemx.username)}}var Os=(()=>{let n=class n{constructor(t,i,r,c){this.userService=t,this.commonService=i,this.tablesService=r,this.router=c,this.players=[],this.players_o=[],this.players_oo=[],this.data_ready=!1,this.tab="search",this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight(),this.monthly_start_time=this.commonService.getFirstDayOfMonthEpoch(),this.screen_large=window.innerWidth>768,this.query=""}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(t=>{if(!t){this.router.navigate(["login"]);return}this.user=t,this.user.wallet||(this.user.wallet=0),this.user.wallet_value=(this.user.wallet/1e3).toFixed(2),this.loadData(),this.loadScouts()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}loadData(){this.userService.getUserStats(this.user.user_id).subscribe(t=>{this.user.stats=t,this.user.all_time_points=t.all_time_points,this.getLevel()})}loadPlayers(){this.data_ready=!1,this.userService.getAllGames().subscribe(t=>{this.games=t,this.players_oo=[],this.games.forEach(i=>{var r=this.players_oo.find(c=>c.user_id==i.user_id);r||this.players_oo.push({user_id:i.user_id,username:i.username,image:i.user_image,email:i.email})}),this.players_oo.forEach(i=>{var r=this.games.filter(m=>m.user_id==i.user_id);i.games=r.length;var c=0,p=0;r.forEach(m=>{c+=m.score?m.score:0,m.score>p&&(p=m.score)}),i.points=c,i.max_score=p,i.scouting=this.scouts.scouts.map(m=>m.prospect_user_id).indexOf(i.user_id)>-1}),this.assignLevels(),this.players_oo=this.players_oo.sort((i,r)=>r.points-i.points),this.players_oo.forEach((i,r)=>{i.rank=this.commonService.getOrdinalSuffix(r+1)}),this.filterByTab(),this.data_ready=!0})}loadScouts(){this.userService.getUserScouts(this.user.user_id).subscribe(t=>{this.scouts=t,this.loadPlayers()})}filterByTab(){if(this.tab=="scouting")this.players=this.players_oo.filter(r=>this.scouts.scouts.map(c=>c.prospect_user_id).indexOf(r.user_id)>-1),this.players_o=JSON.parse(JSON.stringify(this.players));else if(this.tab=="scouted-by")this.players=this.players_oo.filter(r=>this.scouts.prospects.map(c=>c.scout_user_id).indexOf(r.user_id)>-1),this.players_o=JSON.parse(JSON.stringify(this.players));else if(this.tab=="search"){this.players=this.players_oo.slice(0,10),this.players_o=JSON.parse(JSON.stringify(this.players));var t=this.players.find(r=>r.user_id==this.user.user_id);if(!t){var i=this.players_oo.find(r=>r.user_id==this.user.user_id);this.players.push(i)}}}filterPlayers(){var t=this.query.toLowerCase();!this.query||this.query.length<2?this.players=this.players_o:this.tab=="search"?this.players=this.players_oo.filter(i=>i.username.toLowerCase().indexOf(t)>-1):this.players=this.players_o.filter(i=>i.username.toLowerCase().indexOf(t)>-1)}assignLevels(){this.tablesService.GetAll("skill_levels").subscribe(t=>{this.players_oo.forEach(i=>{this.commonService.assignLevel(i,t)})})}getLevel(){this.tablesService.GetAll("skill_levels").subscribe(t=>{this.commonService.assignLevel(this.user,t)})}closeModal(t){$("#"+t).modal("hide")}scoutPlayer(t){this.itemx=t,console.log("this.itemx",this.itemx),$("#optionsModal").modal("hide");var i={scout_user_id:this.user.user_id,prospect_user_id:this.itemx.user_id};this.tablesService.AddItem("scouting_actions",i).subscribe(r=>{this.loadScouts()}),$("#scoutNotificationModal").modal("show")}userMatchUp(t){$("#optionsModal").modal("hide"),this.userService.getUserStats(t).subscribe(i=>{this.matchup=i,$("#matchupModal").modal("show")})}removeScout(t){this.itemx=t,$("#confirmDeleteScoutModal").modal("show")}openOptions(t){this.itemx=t,$("#optionsModal").modal("show")}deleteScoutingRecord(){var t=this.scouts.scouts.find(i=>i.prospect_user_id==this.itemx.user_id&&i.scout_user_id==this.user.user_id);t&&this.tablesService.DeleteFiltered("scouting_actions","scouting_action_id",t.scouting_action_id).subscribe(()=>{this.loadScouts(),$("#confirmDeleteScoutModal").modal("hide")})}};n.\u0275fac=function(i){return new(i||n)(I(xe),I(fe),I(Se),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-scouting"]],decls:43,vars:14,consts:[[1,"background","backgroundx"],[1,"dashboard_contents"],[1,"user_details"],[1,"user_image",3,"src"],[1,"user_name"],[1,"level_container"],[1,"level_icon",3,"src"],[1,"level_name"],["src","https://sportzbattle.blob.core.windows.net/system/tokens_logo.png",1,"level_icon"],[1,"level_name",2,"text-align","center"],[1,"wallet_value"],[1,"page_title"],[1,"submenu_container"],[1,"input_container",2,"position","relative"],["type","text",1,"form-control","search_inputx",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-magnifying-glass","search_icon","search_iconx"],[1,"clear_icon"],[1,"table_container"],[1,"table","tablex"],["id","scoutNotificationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","modal_body","modal_bodyx"],["id","matchupModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","optionsModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","confirmDeleteScoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"submenu_item",3,"click","ngClass"],[1,"clear_icon",3,"click"],[1,"fa-solid","fa-times"],[1,"tc"],[1,"tc",3,"ngClass"],[1,"player_image",3,"src"],[1,"btn","btn-default","button_primary","table_button"],[1,"btn","btn-default","button_primary","table_button",3,"click"],[1,"btn","btn-default","button_primary","remove_button",3,"click"],[1,"btn","btn-default",3,"click"],[1,"fa-solid","fa-ellipsis-vertical",2,"color","white"],[1,"note"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"text-center"],[1,"text-center",2,"padding","35px 0 0 0"],[1,"btn","btn-default","button_primary",3,"click"],[1,"table"],[1,"text-center","tc",2,"font-size","20px"],[1,"table_image",3,"src"],[1,"tcm",3,"ngClass"],[1,"text-center","stat_label"],[2,"padding","20px 0"],[1,"btn","btn-default","button_primary"],[1,"text-center",2,"padding","20px 0"]],template:function(i,r){i&1&&(b(0,"app-user-sidemenu"),s(1,"div",0)(2,"div",1)(3,"div",2),b(4,"img",3),s(5,"div",4),h(6),a(),s(7,"div",5),b(8,"img",6),s(9,"div",7),h(10),a()(),s(11,"div",5),b(12,"img",8),s(13,"div",9),h(14),a(),s(15,"div",10),h(16),a()()(),s(17,"div",11),h(18,"Scouting"),a(),M(19,Kp,7,11,"div",12),s(20,"div",13)(21,"input",14),J("ngModelChange",function(p){return K(r.query,p)||(r.query=p),p}),y("ngModelChange",function(){return r.filterPlayers()}),a(),b(22,"i",15),M(23,Jp,2,0,"div",16),a(),s(24,"div",17),M(25,c0,17,1,"table",18)(26,l0,2,0),a()()(),s(27,"div",19)(28,"div",20)(29,"div",21),M(30,d0,8,1,"div",22),a()()(),s(31,"div",23)(32,"div",20)(33,"div",21),M(34,p0,84,66,"div",22),a()()(),s(35,"div",24)(36,"div",20)(37,"div",21),M(38,m0,17,2,"div",22),a()()(),s(39,"div",25)(40,"div",20)(41,"div",21),M(42,_0,12,1,"div",22),a()()()),i&2&&(d(4),H("src",r.user.image,D),d(2),A(r.user.name),d(2),H("src",r.user.level_icon,D),d(2),A(r.user.level),d(4),A(r.user.wallet),d(2),z("$",r.user.wallet_value,""),d(3),P(19,r.scouts?19:-1),d(2),X("ngModel",r.query),d(2),P(23,r.query?23:-1),d(2),P(25,r.players.length>0?25:26),d(5),P(30,r.itemx?30:-1),d(4),P(34,r.matchup?34:-1),d(4),P(38,r.itemx?38:-1),d(4),P(42,r.itemx?42:-1))},dependencies:[ce,Hn,Wn,jn,Fe],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_details[_ngcontent-%COMP%]{padding:60px 40px 0;position:relative;margin:auto;display:block}.dashboard_contents[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;display:block;padding-bottom:100px}.user_image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;display:inline-block}.user_name[_ngcontent-%COMP%]{font-size:20px;font-family:orbitron-bold;display:inline-block;vertical-align:middle;padding-left:20px;color:#fff}.level_icon[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;display:block;margin:auto}.level_name[_ngcontent-%COMP%]{font-size:16px;font-family:orbitron-bold;vertical-align:middle;color:#fff}.box_title[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:24px;text-align:center;padding:7px 0;margin:auto}.box_number[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:20px;text-align:center;background-color:#3cf;padding:25px 0;border-radius:50%;width:80px;height:80px;margin:auto}.box_rank[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#fff;text-align:center}.rowx[_ngcontent-%COMP%]{margin:0;border-bottom:solid 1px white;padding-bottom:10px;padding-top:10px;border-top:solid 1px white}.play_now_button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.level_container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:60px}.user_badge[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;padding:0;margin:0 7px}.user_badges[_ngcontent-%COMP%]{padding:50px 0 30px}.badgex[_ngcontent-%COMP%]{font-family:orbitron-bold;display:inline-block;color:#fff;text-align:center;font-size:13px}.wallet_value[_ngcontent-%COMP%]{font-family:orbitron-bold;color:#00bfff;font-size:14px;padding-left:5px}.modal_bodyx[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3cf,#000,#000);color:#fff;border:solid 2px white}@media screen and (max-width: 768px){.user_name[_ngcontent-%COMP%]{font-size:16px}.user_image[_ngcontent-%COMP%]{width:60px;height:60px}.level_name[_ngcontent-%COMP%]{font-size:15px}.backgroundx[_ngcontent-%COMP%]{padding:0}.box_title[_ngcontent-%COMP%]{max-width:166px}.user_details[_ngcontent-%COMP%]{padding:60px 5px 0}.level_container[_ngcontent-%COMP%]{padding-left:20px}.tc[_ngcontent-%COMP%]{height:50px}}.submenu_container[_ngcontent-%COMP%]{padding:20px 0}.submenu_item[_ngcontent-%COMP%]{font-size:20px;display:inline-block;padding:0 15px;color:#fff;font-family:orbitron-medium;cursor:pointer}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600;padding:8px 0}.table_container[_ngcontent-%COMP%]{padding:30px 0}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:28px;color:#fff;text-align:center;padding:0 0 20px}.tablex[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:auto}.player_image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.selected[_ngcontent-%COMP%]{border-bottom:solid 2px white}.contentsx[_ngcontent-%COMP%]{padding:50px}.note[_ngcontent-%COMP%]{padding:30px 0;font-style:italic;color:#fff;font-size:20px;text-align:center}.table_button[_ngcontent-%COMP%]{padding:0;min-width:105px;margin:0 2px}.table_image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:transparent}.remove_button[_ngcontent-%COMP%]{background-color:transparent;border-color:solid 1px white;color:#fff;padding:0;min-width:105px;margin:0 2px}.search_inputx[_ngcontent-%COMP%]{background-color:transparent;color:#fff;width:100%;max-width:320px}.search_iconx[_ngcontent-%COMP%]{color:#fff;top:7px}.search_inputx[_ngcontent-%COMP%]{padding-left:45px}.clear_icon[_ngcontent-%COMP%]{position:absolute;top:5px;background-color:#d3d3d3;padding:2px 8px;border-radius:50%;left:269px;color:#fff;cursor:pointer}.se[_ngcontent-%COMP%]{background-color:#b3b291}.stat_label[_ngcontent-%COMP%]{font-weight:600}.al[_ngcontent-%COMP%], .ar[_ngcontent-%COMP%]{background-color:green!important;width:fit-content;margin:auto;padding:2px 15px;border-radius:8px;color:#fff}.tcm[_ngcontent-%COMP%]{background-color:transparent;color:#fff}@media screen and (max-width: 768px){.contentsx[_ngcontent-%COMP%]{padding:0}}']});let o=n;return o})();var g0=(o,n)=>n.game_id,ye=o=>({selected:o});function f0(o,n){if(o&1){let e=E();s(0,"button",4),y("click",function(){f(e);let i=_().$implicit,r=_(2);return x(r.goPlay(i))}),h(1),a()}if(o&2){let e=_().$implicit,t=_(2);d(),z(" ",e.created_by_user_id==t.user.user_id?"PLAY":"JOIN"," ")}}function x0(o,n){o&1&&(s(0,"button",26),b(1,"i",27),h(2,"\xA0Private "),a())}function b0(o,n){if(o&1){let e=E();s(0,"tr")(1,"td",20),b(2,"img",21),h(3),a(),s(4,"td",20),b(5,"img",21),h(6),a(),s(7,"td",22),h(8),a(),s(9,"td",20),h(10),a(),s(11,"td",20)(12,"em"),h(13),a()(),s(14,"td",20),M(15,f0,2,1,"button",23)(16,x0,3,0),a(),s(17,"td",20)(18,"button",24),y("click",function(){let i=f(e).$implicit,r=_(2);return x(r.showShareModal(i))}),b(19,"i",25),h(20,"\xA0Share "),a()()()}if(o&2){let e=n.$implicit;d(2),H("src",e.user_image,D),d(),z("\xA0",e.username.slice(0,10)," "),d(2),H("src",e.level_icon,D),d(),z("\xA0",e.level," "),d(2),A(e.sport),d(2),ie("",e.amount,"\xA0",e.bet_mode,""),d(3),A(e.expires_in),d(2),P(15,e.game_access=="public"?15:16)}}function C0(o,n){if(o&1&&(s(0,"table",7)(1,"thead")(2,"tr")(3,"th",20),h(4,"Host"),a(),s(5,"th",20),h(6,"Rank"),a(),s(7,"th",20),h(8,"Sport"),a(),s(9,"th",20),h(10,"Prize"),a(),s(11,"th",20),h(12,"Expires in"),a(),b(13,"th",20)(14,"th",20),a()(),s(15,"tbody"),_e(16,b0,21,9,"tr",null,g0),a()()),o&2){let e=_();d(16),ge(e.games)}}function v0(o,n){o&1&&(s(0,"div",28),h(1,"There are no games in the lobby"),a())}function y0(o,n){o&1&&(s(0,"div",34)(1,"p")(2,"em"),h(3,"You must have at least 50 battle token to setup a game for tokens."),a()()())}function w0(o,n){o&1&&(s(0,"div",34)(1,"p")(2,"em"),h(3,"You must have at least 50 points to setup a game for points."),a()()())}function M0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=50)}),h(2,"50"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==50))}}function S0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=100)}),h(2,"100"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==100))}}function O0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=200)}),h(2,"200"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==200))}}function P0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=250)}),h(2,"250"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==250))}}function E0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=500)}),h(2,"500"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==500))}}function k0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=750)}),h(2,"750"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==750))}}function T0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=1e3)}),h(2,"1000"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==1e3))}}function I0(o,n){if(o&1){let e=E();s(0,"div",35)(1,"button",32),y("click",function(){f(e);let i=_(5);return x(i.gamex.amount=1500)}),h(2,"1500"),a()()}if(o&2){let e=_(5);d(),C("ngClass",V(1,ye,e.gamex.amount==1500))}}function A0(o,n){if(o&1){let e=E();s(0,"div",36)(1,"button",37),y("click",function(){f(e);let i=_(5);return x(i.createGame())}),h(2,"Create Game"),a()()}}function R0(o,n){if(o&1&&(s(0,"p",29),h(1,"Select Amount"),a(),s(2,"div",30),M(3,y0,4,0,"div",34)(4,w0,4,0,"div",34)(5,M0,3,3,"div",35)(6,S0,3,3,"div",35)(7,O0,3,3,"div",35)(8,P0,3,3,"div",35)(9,E0,3,3,"div",35)(10,k0,3,3,"div",35)(11,T0,3,3,"div",35)(12,I0,3,3,"div",35),a(),M(13,A0,3,0,"div",36)),o&2){let e=_(4);d(3),P(3,e.gamex.bet_mode=="tokens"&&e.user.wallet<50?3:-1),d(),P(4,e.gamex.bet_mode=="points"&&e.user.points<50?4:-1),d(),P(5,e.gamex.bet_mode=="tokens"&&e.user.wallet>=50||e.gamex.bet_mode=="points"&&e.user.points>=50?5:-1),d(),P(6,e.gamex.bet_mode=="tokens"&&e.user.wallet>=100||e.gamex.bet_mode=="points"&&e.user.points>=100?6:-1),d(),P(7,e.gamex.bet_mode=="tokens"&&e.user.wallet>=200||e.gamex.bet_mode=="points"&&e.user.points>=200?7:-1),d(),P(8,e.gamex.bet_mode=="tokens"&&e.user.wallet>=250||e.gamex.bet_mode=="points"&&e.user.points>=250?8:-1),d(),P(9,e.gamex.bet_mode=="tokens"&&e.user.wallet>=500||e.gamex.bet_mode=="points"&&e.user.points>=500?9:-1),d(),P(10,e.gamex.bet_mode=="tokens"&&e.user.wallet>=750||e.gamex.bet_mode=="points"&&e.user.points>=750?10:-1),d(),P(11,e.gamex.bet_mode=="tokens"&&e.user.wallet>=1e3||e.gamex.bet_mode=="points"&&e.user.points>=1e3?11:-1),d(),P(12,e.gamex.bet_mode=="tokens"&&e.user.wallet>=1500||e.gamex.bet_mode=="points"&&e.user.points>=1500?12:-1),d(),P(13,e.gamex.amount?13:-1)}}function V0(o,n){if(o&1){let e=E();s(0,"p",29),h(1,"Select Prize Type"),a(),s(2,"div",30)(3,"div",31)(4,"button",32),y("click",function(){f(e);let i=_(3);return i.gamex.bet_mode="tokens",x(i.gamex.amount=void 0)}),h(5,"Battle Tokens"),a()(),s(6,"div",31)(7,"button",32),y("click",function(){f(e);let i=_(3);return i.gamex.bet_mode="points",x(i.gamex.amount=void 0)}),h(8,"Points"),a()()(),M(9,R0,14,11)}if(o&2){let e=_(3);d(4),C("ngClass",V(3,ye,e.gamex.bet_mode=="tokens")),d(3),C("ngClass",V(5,ye,e.gamex.bet_mode=="points")),d(2),P(9,e.gamex.bet_mode?9:-1)}}function z0(o,n){if(o&1){let e=E();s(0,"p",29),h(1,"Select Sport"),a(),s(2,"div",30)(3,"div",33)(4,"button",32),y("click",function(){f(e);let i=_(2);return x(i.gamex.sport="football")}),h(5,"Football"),a()(),s(6,"div",33)(7,"button",32),y("click",function(){f(e);let i=_(2);return x(i.gamex.sport="baseball")}),h(8,"Baseball"),a()(),s(9,"div",33)(10,"button",32),y("click",function(){f(e);let i=_(2);return x(i.gamex.sport="basketball")}),h(11,"Basketball"),a()()(),M(12,V0,10,7)}if(o&2){let e=_(2);d(4),C("ngClass",V(4,ye,e.gamex.sport=="football")),d(3),C("ngClass",V(6,ye,e.gamex.sport=="baseball")),d(3),C("ngClass",V(8,ye,e.gamex.sport=="basketball")),d(2),P(12,e.gamex.sport?12:-1)}}function L0(o,n){if(o&1){let e=E();s(0,"p",29),h(1,"Select Access"),a(),s(2,"div",30)(3,"div",31)(4,"button",32),y("click",function(){f(e);let i=_();return x(i.gamex.game_access="private")}),h(5,"Private"),a()(),s(6,"div",31)(7,"button",32),y("click",function(){f(e);let i=_();return x(i.gamex.game_access="public")}),h(8,"Public"),a()()(),M(9,z0,13,10)}if(o&2){let e=_();d(4),C("ngClass",V(3,ye,e.gamex.game_access=="private")),d(3),C("ngClass",V(5,ye,e.gamex.game_access=="public")),d(2),P(9,e.gamex.game_access?9:-1)}}function B0(o,n){o&1&&(s(0,"p"),h(1,"You dont have enough Battle Tokens to play this game."),a())}function N0(o,n){o&1&&(s(0,"p"),h(1,"You dont have enough Points to play this game. Earn points by playing the loop mode."),a())}function U0(o,n){if(o&1){let e=E();s(0,"div",11)(1,"button",12),y("click",function(){f(e);let i=_();return x(i.closeModal("notEnoughPointsOrTokensModal"))}),b(2,"i",13),a(),M(3,B0,2,0,"p")(4,N0,2,0),s(5,"div",38)(6,"button",39),y("click",function(){f(e);let i=_();return x(i.closeModal("notEnoughPointsOrTokensModal"))}),h(7,"OK"),a()()()}if(o&2){let e=_();d(3),P(3,e.gamex.bet_mode=="tokens"?3:4)}}function D0(o,n){o&1&&(s(0,"span",44),h(1,"Copied!"),a())}function F0(o,n){if(o&1){let e=E();s(0,"div",11)(1,"button",12),y("click",function(){f(e);let i=_();return x(i.closeModal("shareModal"))}),b(2,"i",13),a(),s(3,"div",40),b(4,"input",41)(5,"br"),s(6,"button",42),y("click",function(){f(e);let i=_();return x(i.copyToClipboard())}),h(7,"Copy"),a(),M(8,D0,2,0,"span",43),a()()}if(o&2){let e=_();d(4),C("value","sptzba.com/playh2h/"+e.gamex.game_url),d(4),C("ngIf",e.showTooltip==!0)}}var Ps=(()=>{let n=class n{constructor(t,i,r,c,p){this.apisService=t,this.tablesService=i,this.userService=r,this.commonService=c,this.router=p,this.games=[]}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(t=>{if(!t){this.router.navigate(["login"]);return}this.user=t,this.loadGames()})}loadGames(){this.apisService.GetGamesForLobby().subscribe(t=>{this.games=t,this.games.forEach(i=>{i.game_url=this.commonService.crypt("sportzbattle","abcd"+i.h2h_game_id)}),console.log("this.games",this.games)})}closeModal(t){$("#"+t).modal("hide")}showCreateGameModal(){this.gamex={},$("#createGameModal").modal("show")}createGame(){this.gamex.created_by_user_id=this.user.user_id,this.apisService.createGameH2H(this.gamex).subscribe(()=>{$("#createGameModal").modal("hide"),this.loadGames()})}goPlay(t){return Z(this,null,function*(){console.log("goPlay");var i=yield Un(this.tablesService.GetFiltered("books","h2h_game_id",t.h2h_game_id)),r=i.find(c=>c.user_id==this.user.user_id);if(r){$("#alreadyPlayedModal").modal("show");return}t.bet_mode=="points"?this.user.points>=t.amount?this.router.navigate(["user/playh2h/"+t.h2h_game_id]):this.showNotEnoughPointsOrTokens():t.bet_mode=="tokens"&&(this.user.wallet>=t.amount?this.router.navigate(["user/playh2h/"+t.h2h_game_id]):this.showNotEnoughPointsOrTokens())})}showNotEnoughPointsOrTokens(){$("#notEnoughPointsOrTokensModal").modal("show")}showSharePopUp(t){this.gamex=t}copyToClipboard(){var t=document.getElementById("link");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy");var i=window.getSelection();i&&i.removeAllRanges(),this.showTooltip=!0,setTimeout(()=>{this.showTooltip=!1,$("#shareModal").modal("hide")},1500)}showShareModal(t){this.gamex=t,$("#shareModal").modal("show")}};n.\u0275fac=function(i){return new(i||n)(I(it),I(Se),I(xe),I(fe),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-lobby"]],decls:40,vars:4,consts:[[1,"background","backgroundx"],[1,"dashboard_contents"],[1,"page_title"],[1,"text-end",2,"padding","30px 0"],[1,"btn","btn-default","button_primary",3,"click"],[1,"fa","fa-plus"],[1,"table_container"],[1,"table","tablex"],["id","createGameModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],["id","notEnoughPointsOrTokensModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","alreadyPlayedModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"text-center"],[1,"text-center",2,"padding","25px 0 0 0"],["type","button",1,"btn","btn-default","button_primary",3,"click"],["id","shareModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"tc"],[1,"player_image",3,"src"],[1,"tc",2,"text-transform","uppercase"],[1,"btn","btn-default","button_primary"],[1,"btn","btn-default","button_share",3,"click"],[1,"fa-solid","fa-share"],["disabled","",1,"btn","btn-default","button_secondary"],[1,"fa-solid","fa-lock"],[1,"note"],[1,"game_create_field"],[1,"row"],[1,"col-6"],[1,"btn","btn-default",3,"click","ngClass"],[1,"col-4"],[1,"text-center",2,"padding","20px 0"],[1,"col-3"],[1,"text-center",2,"padding","40px 0 0 0"],[1,"btn","btn-default","button_primary","btn-lg",3,"click"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-center",2,"padding","30px 0"],["id","link","readonly","",1,"form-control","share_url","text-center",3,"value"],[1,"btn","btn-default","button_primary",2,"margin-top","30px",3,"click"],["class","tooltipx",4,"ngIf"],[1,"tooltipx"]],template:function(i,r){i&1&&(b(0,"app-user-sidemenu"),s(1,"div",0)(2,"div",1)(3,"div",2),h(4,"Battle Lobby"),a(),s(5,"div",3)(6,"button",4),y("click",function(){return r.showCreateGameModal()}),b(7,"i",5),h(8,"\xA0Create Game "),a()(),s(9,"div",6),M(10,C0,18,0,"table",7)(11,v0,2,0),a()()(),s(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"button",12),y("click",function(){return r.closeModal("createGameModal")}),b(17,"i",13),a(),M(18,L0,10,7),a()()()(),s(19,"div",14)(20,"div",9)(21,"div",10),M(22,U0,8,1,"div",11),a()()(),s(23,"div",15)(24,"div",9)(25,"div",10)(26,"div",11)(27,"button",12),y("click",function(){return r.closeModal("alreadyPlayedModal")}),b(28,"i",13),a(),s(29,"div",16)(30,"p")(31,"em"),h(32,"You already played this game."),a()()(),s(33,"div",17)(34,"button",18),y("click",function(){return r.closeModal("alreadyPlayedModal")}),h(35,"OK"),a()()()()()(),s(36,"div",19)(37,"div",9)(38,"div",10),M(39,F0,9,2,"div",11),a()()()),i&2&&(d(10),P(10,r.games.length>0?10:11),d(8),P(18,r.gamex?18:-1),d(4),P(22,r.gamex?22:-1),d(17),P(39,r.gamex?39:-1))},dependencies:[ce,oe,Fe],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_details[_ngcontent-%COMP%]{padding:60px 40px 0;position:relative;margin:auto;display:block}.dashboard_contents[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;display:block;padding-bottom:100px}.user_image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;display:inline-block}.user_name[_ngcontent-%COMP%]{font-size:20px;font-family:orbitron-bold;display:inline-block;vertical-align:middle;padding-left:20px;color:#fff}.level_icon[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;display:block;margin:auto}.level_name[_ngcontent-%COMP%]{font-size:16px;font-family:orbitron-bold;vertical-align:middle;color:#fff}.box_title[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:24px;text-align:center;padding:7px 0;margin:auto}.box_number[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:20px;text-align:center;background-color:#3cf;padding:25px 0;border-radius:50%;width:80px;height:80px;margin:auto}.box_rank[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#fff;text-align:center}.rowx[_ngcontent-%COMP%]{margin:0;border-bottom:solid 1px white;padding-bottom:10px;padding-top:10px;border-top:solid 1px white}.play_now_button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.level_container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:60px}.user_badge[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;padding:0;margin:0 7px}.user_badges[_ngcontent-%COMP%]{padding:50px 0 30px}.badgex[_ngcontent-%COMP%]{font-family:orbitron-bold;display:inline-block;color:#fff;text-align:center;font-size:13px}.wallet_value[_ngcontent-%COMP%]{font-family:orbitron-bold;color:#00bfff;font-size:14px;padding-left:5px}.modal_bodyx[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3cf,#000,#000);color:#fff;border:solid 2px white}@media screen and (max-width: 768px){.user_name[_ngcontent-%COMP%]{font-size:16px}.user_image[_ngcontent-%COMP%]{width:60px;height:60px}.level_name[_ngcontent-%COMP%]{font-size:15px}.backgroundx[_ngcontent-%COMP%]{padding:0}.box_title[_ngcontent-%COMP%]{max-width:166px}.user_details[_ngcontent-%COMP%]{padding:60px 5px 0}.level_container[_ngcontent-%COMP%]{padding-left:20px}.tc[_ngcontent-%COMP%]{height:50px}}.submenu_container[_ngcontent-%COMP%]{padding:20px 0}.submenu_item[_ngcontent-%COMP%]{font-size:20px;display:inline-block;padding:0 15px;color:#fff;font-family:orbitron-medium;cursor:pointer}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600;padding:8px 0}.table_container[_ngcontent-%COMP%]{padding:30px 0}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:28px;color:#fff;text-align:center;padding:0 0 20px}.tablex[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:auto}.player_image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.selected[_ngcontent-%COMP%]{border-bottom:solid 2px white}.contentsx[_ngcontent-%COMP%]{padding:50px}.note[_ngcontent-%COMP%]{padding:30px 0;font-style:italic;color:#fff;font-size:20px;text-align:center}.table_button[_ngcontent-%COMP%]{padding:0;min-width:105px;margin:0 2px}.table_image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:transparent}.remove_button[_ngcontent-%COMP%]{background-color:transparent;border-color:solid 1px white;color:#fff;padding:0;min-width:105px;margin:0 2px}.search_inputx[_ngcontent-%COMP%]{background-color:transparent;color:#fff;width:100%;max-width:320px}.search_iconx[_ngcontent-%COMP%]{color:#fff;top:7px}.search_inputx[_ngcontent-%COMP%]{padding-left:45px}.clear_icon[_ngcontent-%COMP%]{position:absolute;top:5px;background-color:#d3d3d3;padding:2px 8px;border-radius:50%;left:269px;color:#fff;cursor:pointer}.se[_ngcontent-%COMP%]{background-color:#b3b291}.stat_label[_ngcontent-%COMP%]{font-weight:600}.al[_ngcontent-%COMP%], .ar[_ngcontent-%COMP%]{background-color:green!important;width:fit-content;margin:auto;padding:2px 15px;border-radius:8px;color:#fff}.tcm[_ngcontent-%COMP%]{background-color:transparent;color:#fff}.selected[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;border-radius:0}.game_create_field[_ngcontent-%COMP%]{border-bottom:solid 1px grey;font-weight:600;margin:15px 0}.button_share[_ngcontent-%COMP%]{color:#fff;border-radius:0;border:solid 1px white;padding:6px 20px}.button_share[_ngcontent-%COMP%]:hover{border-color:#3cf;color:#3cf}.share_url[_ngcontent-%COMP%]{border:none}.share_url[_ngcontent-%COMP%]:focus{outline:none}.tooltipx[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;padding:5px 10px;position:absolute;top:34px;left:calc(50% - 40px);font-size:17px;border-radius:30px;border:solid 1px #33ccff}@media screen and (max-width: 768px){.contentsx[_ngcontent-%COMP%]{padding:0}}']});let o=n;return o})();var q0=(o,n)=>n.book_id,So=o=>({highlighted:o});function H0(o,n){o&1&&(s(0,"div",3),h(1,"Congratulations! You got the highest score!"),a())}function W0(o,n){o&1&&(s(0,"div",8),h(1,"This is how you fared compared to others"),a())}function j0(o,n){if(o&1&&(s(0,"tr")(1,"td",9),h(2),a(),s(3,"td",9),b(4,"img",10),h(5),a(),s(6,"td",9),h(7),a()()),o&2){let e=n.$implicit,t=n.$index,i=_();d(),C("ngClass",V(7,So,e.user_id==i.user.user_id)),d(),A(t+1),d(),C("ngClass",V(9,So,e.user_id==i.user.user_id)),d(),H("src",e.user_image,D),d(),z("\xA0",e.user_name," "),d(),C("ngClass",V(11,So,e.user_id==i.user.user_id)),d(),z(" ",e.score," ")}}var Es=(()=>{let n=class n{constructor(t,i){this.apisService=t,this.router=i}ngOnInit(){this.apisService.getUsersByGameH2H(this.h2h_game_id).subscribe(t=>{this.books=t,this.books=this.books.sort((r,c)=>r.score-c.score),this.books.forEach((r,c)=>{r.position=c+1});var i=this.books.find(r=>r.user_id==this.user.user_id);i&&(this.user_position=i.position)})}gotoLobby(){this.router.navigate(["user/lobby"])}};n.\u0275fac=function(i){return new(i||n)(I(it),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-game-over-h2h"]],inputs:{h2h_game_id:"h2h_game_id",score:"score",user:"user"},decls:21,vars:1,consts:[["src","../../../assets/images/logo.png",1,"logo",2,"padding-top","50px"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[1,"game_over"],[1,"congratulations_message"],[1,"table","tablex"],[1,"tc"],[1,"text-center",2,"padding","30px 0"],[1,"btn","btn-default","tolobby_button",3,"click"],[1,"congratulations_message",2,"font-size","20px"],[1,"tc",3,"ngClass"],[1,"user_image",3,"src"]],template:function(i,r){i&1&&(b(0,"img",0)(1,"img",1),s(2,"div",2),h(3,"Game Over"),a(),b(4,"br"),M(5,H0,2,0,"div",3)(6,W0,2,0),s(7,"table",4)(8,"thead")(9,"tr"),b(10,"th",5),s(11,"th",5),h(12,"User"),a(),s(13,"th",5),h(14,"Points"),a()()(),s(15,"tbody"),_e(16,j0,8,13,"tr",null,q0),a()(),s(18,"div",6)(19,"button",7),y("click",function(){return r.gotoLobby()}),h(20,"Go to Lobby"),a()()),i&2&&(d(5),P(5,r.user_position==1?5:6),d(11),ge(r.books))},dependencies:[ce],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.logo[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.game_over[_ngcontent-%COMP%]{color:#fff;font-size:2em;font-family:orbitron-bold;text-align:center}.play_again_button[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;font-size:1.5em;font-family:orbitron-medium;padding:10px 30px}.dashboard_button[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-medium;font-size:18px;padding:20px 0}.tablex[_ngcontent-%COMP%]{width:100%;max-width:520px;margin:auto}.congratulations_message[_ngcontent-%COMP%]{color:#fff;font-style:italic;font-size:22px;text-align:center;padding:30px 0;font-weight:600}.user_image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.highlighted[_ngcontent-%COMP%]{background-color:#b3b291}.tolobby_button[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-medium;font-size:18px;padding:14px 30px;background-color:#3cf}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%], .logo_words[_ngcontent-%COMP%]{width:80%}}']});let o=n;return o})();var Y0=(o,n)=>n.text,Q0=()=>[],X0=(o,n)=>({"font-size":o,"padding-top":n}),K0=o=>({invisible:o}),J0=(o,n,e)=>({greenyellow:o,red:n,invisible:e});function $0(o,n){o&1&&b(0,"app-splash")}function Z0(o,n){o&1&&b(0,"app-prepare-screen",1),o&2&&C("banners",tr(2,Q0))("account_type","player")}function eh(o,n){if(o&1&&(s(0,"div",11),h(1),a()),o&2){let e=_(2);C("ngStyle",Fn(2,X0,e.points_value>99?"40px":"48px",e.value_points>99?"30px":"10px")),d(),z("+",e.value_points,"")}}function th(o,n){if(o&1&&b(0,"app-timer",12),o&2){let e=_(2);C("time",e.time)}}function nh(o,n){if(o&1&&(s(0,"div",7)(1,"em"),h(2),a()()),o&2){let e=_(2);C("ngClass",V(2,K0,e.question_active==!1)),d(2),A(e.value_points>0?e.value_points:0)}}function ih(o,n){if(o&1&&(s(0,"div",13)(1,"em"),h(2),a()()),o&2){let e=_(2);d(2),A(e.question_notification)}}function oh(o,n){if(o&1){let e=E();s(0,"div",9)(1,"div",14),y("click",function(){let i=f(e).$implicit,r=_(2);return x(r.answerSelected(i))}),h(2),a()()}if(o&2){let e=n.$implicit,t=_(2);d(),C("ngClass",qn(2,J0,e.show_green,e.show_red,t.time_is_up==!0&&e.is_right_answer==!1||e.hide)),d(),z(" ",e.text,"")}}function rh(o,n){if(o&1&&b(0,"app-question-footer4",10),o&2){let e=_(2);C("counter",e.counter)("venue_id",e.user.venue_id)("banners",e.banners)}}function ah(o,n){if(o&1&&(b(0,"app-user-stats",2),M(1,eh,2,5,"div",3)(2,th,1,1,"app-timer",4),s(3,"div",5)(4,"div",6),h(5),a(),M(6,nh,3,4,"div",7)(7,ih,3,1),s(8,"div",8),_e(9,oh,3,6,"div",9,Y0),a()(),M(11,rh,1,3,"app-question-footer4",10)),o&2){let e=_();C("user",e.user)("counter",e.counter)("show_lives",!0),d(),C("ngIf",e.show_point_animation),d(),C("ngIf",e.show_timer),d(3),A(e.question),d(),P(6,e.question_notification?7:6),d(3),ge(e.options),d(2),P(11,e.banners?11:-1)}}function sh(o,n){if(o&1&&b(0,"app-game-over-h2h",15),o&2){let e=_();C("h2h_game_id",e.h2h_game_id)("score",e.user.score)("user",e.user)}}var ks=(()=>{let n=class n{constructor(t,i,r,c,p,m){this.tablesService=t,this.apisService=i,this.userService=r,this.commonService=c,this.route=p,this.router=m,this.page="splash",this.question_index=0,this.counter=0,this.options=[],this.has_joined=!1,this.show_timer=!1,this.time_is_up=!1,this.points_value=0,this.question_active=!1,this.show_point_animation=!1,this.game_is_active=!1,this.user_points_o=0,this.banners=[],this.books=[],this.route.params.subscribe(w=>{this.h2h_game_id=w.h2h_game_id}),this.userServiceSubscription=this.userService._getUser.subscribe(w=>{if(w)this.user=w;else{this.router.navigate(["login"]);return}})}ngOnInit(){this.loadGame()}loadGame(){this.apisService.getH2HGame(this.h2h_game_id).subscribe(t=>{this.game=t.game,this.user.points=0,console.log("this.game",this.game),this.page="splash",setTimeout(()=>{this.playGame()},5e3)})}playGame(){this.question_index<this.game.questions.length&&(this.counter+=1,this.page="prepare_screen",setTimeout(()=>{this.playQuestion()},4e3))}playQuestion(){console.log("here!"),this.page="game",this.time_is_up=!1,this.has_joined=!0,this.question_active=!0,this.question=this.commonService.decrypt("sb",this.game.questions[this.question_index].question),this.right_answer=this.commonService.decrypt("sb",this.game.questions[this.question_index].key),this.hiding_order=JSON.parse(this.commonService.decrypt("sb",this.game.questions[this.question_index].hiding_order)),console.log("this.hiding_order",this.hiding_order),this.options=[],this.game.questions[this.question_index].answers.forEach(i=>{this.options.push({text:i,is_right_answer:i==this.right_answer})}),this.time=10,this.show_timer=!0;var t=0;this.question_start_time=Date.now(),this.timerInterval&&clearInterval(this.timerInterval),this.timer2Interval&&clearInterval(this.timer2Interval),this.timer2Interval=setInterval(()=>{this.value_points=100-Math.round((Date.now()-this.question_start_time)/100)},200),this.timerInterval=setInterval(()=>{this.time-=1,t+=1,this.time<0&&(this.time=0,this.time_is_up=!0,this.question_active==!0&&this.answerSelected(void 0)),t==4&&(this.options[this.hiding_order[0]].hide=!0),t==7&&(this.options[this.hiding_order[1]].hide=!0),t==12,t==14&&(this.question_index+=1,this.question_index==this.game.questions.length?this.gameOver():this.playGame())},1e3)}answerSelected(t){return Z(this,null,function*(){this.user.account_type=="business"||this.question_active==!1||(this.question_active=!1,this.timer2Interval&&clearInterval(this.timer2Interval),t?.text==this.right_answer?(t.show_green=!0,this.user.points+=this.value_points,this.points_value=this.value_points,this.show_point_animation=!0,this.updateGameRecord(),this.storeAnswer(!0),yield this.delay(1500),this.show_point_animation=!1,this.user_points_o=this.user.points):(t&&(t.show_red=!0),this.storeAnswer(!1),this.user.lives-=1),this.stopTimer())})}updateGameRecord(){}storeAnswer(t){this.game_is_active==!0}delay(t){return Z(this,null,function*(){return new Promise(i=>setTimeout(i,t))})}stopTimer(){this.show_timer=!1}gameOver(){this.game_is_active=!1;var t={h2h_game_id:this.game.h2h_game_id,user_id:this.user.user_id,score:this.user.points,type:this.game.bet_mode,amount:this.game.amount};this.tablesService.AddItem("books",t).subscribe(i=>{this.page="game_over"}),clearInterval(this.timerInterval),clearInterval(this.timer2Interval)}};n.\u0275fac=function(i){return new(i||n)(I(Se),I(it),I(xe),I(fe),I(ar),I(re))},n.\u0275cmp=L({type:n,selectors:[["app-gameh2h"]],decls:5,vars:2,consts:[[1,"game_screen"],[3,"banners","account_type"],[3,"user","counter","show_lives"],["class","points_animation",3,"ngStyle",4,"ngIf"],[3,"time",4,"ngIf"],[1,"question_container"],[1,"question"],[1,"question_value",3,"ngClass"],[1,"row"],[1,"col-12","col-md-6"],[3,"counter","venue_id","banners"],[1,"points_animation",3,"ngStyle"],[3,"time"],[1,"question_valuex","blue"],[1,"option","op1",3,"click","ngClass"],[3,"h2h_game_id","score","user"]],template:function(i,r){i&1&&(s(0,"div",0),M(1,$0,1,0,"app-splash")(2,Z0,1,3)(3,ah,12,8)(4,sh,1,3),a()),i&2&&(d(),P(1,r.page=="splash"?1:r.page=="prepare_screen"?2:-1),d(2),P(3,r.page=="game"?3:r.page=="game_over"?4:-1))},dependencies:[ce,oe,Rt,Yt,Qt,Kt,vi,yi,Es],styles:[".game_screen[_ngcontent-%COMP%]{width:100%;height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative}.hero[_ngcontent-%COMP%]{height:calc(100vh - 100px);position:absolute;bottom:0;right:0}.message[_ngcontent-%COMP%]{position:absolute;top:50px;color:#fff}.question_value[_ngcontent-%COMP%]{text-align:center;padding:10px 25px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto;display:inline-block;border-radius:10px;background-color:transparent;border:solid 2px gold;width:150px}.question_valuex[_ngcontent-%COMP%]{text-align:center;padding:10px 25px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto;border-radius:0;background-color:transparent}.pts100[_ngcontent-%COMP%]{font-size:.8em}.green[_ngcontent-%COMP%]{background-color:green!important}.greenyellow[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.blue[_ngcontent-%COMP%]{background-color:#3cf!important}.orange[_ngcontent-%COMP%]{background-color:orange!important}.question_container[_ngcontent-%COMP%]{width:100%;display:block;padding:0% 5% 0;text-align:center;margin:0}.question[_ngcontent-%COMP%]{color:#fff;font-size:3.5em;margin:0 0 0%;min-height:150px}.option[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:2.5em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3;z-index:100}.advertisement_text[_ngcontent-%COMP%]{position:absolute;color:#fff;font-family:roboto-bold;font-size:4em;top:20%;right:20px;width:50%;text-align:center}.invisible[_ngcontent-%COMP%]{visibility:hidden}.points_animation[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;background:linear-gradient(45deg,#3cf,#000);color:#fff;top:27px;left:calc(50% + -0px);border-radius:50%;font-size:48px;padding:10px 4px;transform:translate(-50%);opacity:0;animation:_ngcontent-%COMP%_flash 1s ease-in-out forwards}.user_on_fire[_ngcontent-%COMP%]{width:40px;display:inline-block}.question[_ngcontent-%COMP%]{font-size:2.7em}.option[_ngcontent-%COMP%]{font-size:2.2em}@keyframes _ngcontent-%COMP%_flash{0%{opacity:1;transform:translate(-50%,-20px) scale(1.5)}50%{opacity:1;transform:translate(-50%) scale(1)}to{opacity:0;transform:translate(-50%,20px) scale(.5)}}@media screen and (max-width: 768px){.option[_ngcontent-%COMP%]{font-size:2em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3}.question[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin:0 0 2%;min-height:0px}.question_container[_ngcontent-%COMP%]{padding-top:10px}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:0%}.option[_ngcontent-%COMP%]{font-size:2em}}@media screen and (max-height: 500px){.question[_ngcontent-%COMP%]{font-size:1.7em}.option[_ngcontent-%COMP%]{font-size:1.25em;margin:15px 0}}"]});let o=n;return o})();var ch=[{path:"settings",component:Aa},{path:"leaderboard",component:Ra},{path:"play",component:ws},{path:"playh2h/:h2h_game_id",component:ks},{path:"user-dashboard",component:Ss},{path:"scouting",component:Os},{path:"lobby",component:Ps}],Ts=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=kt({imports:[Bi.forChild(ch),Bi]});let o=n;return o})();var lh=Nn(cr());Lt.plotlyjs=lh;var kg=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=kt({imports:[Vt,Ts,pr,hr,ri,Lt,wr,si,Yt,Qt,Kt]});let o=n;return o})();export{kg as UserModule};
