import{a as Qo,b as Go,c as wt}from"./chunk-XA2RRKHT.js";import{a as $e,b as tr,c as ir,d as nr,e as or,f as rr,g as sr,h as ar,i as cr,j as lr,k as dr,l as pr}from"./chunk-27TIPZXO.js";import{c as Xo,e as Ko,f as Jo,k as $o,l as Zo,m as er}from"./chunk-GUKWRCOF.js";import{$a as _e,Aa as Yt,B as _t,C as xt,Ca as m,Da as k,Ea as N,Fa as re,Ga as G,H as V,Ha as X,I as bt,Ia as K,K as fe,Ka as Je,L as x,M as b,Ma as ee,Na as Do,Oa as Fo,Q as de,Ra as qo,Sa as Wo,T as F,U as zo,V as u,W as A,Xa as Ho,Z as Vo,Za as we,_ as Bo,a as ke,b as Oo,c as D,ca as E,cb as Pi,d as qa,da as vn,db as Ct,e as Si,ea as M,f as ne,fa as vt,ga as Ei,ha as Lo,j as To,ja as R,jb as jo,kb as yt,la as Ve,ma as Be,n as ko,na as c,oa as l,ob as xe,p as Io,pa as v,q as Wt,qa as Uo,qb as Cn,r as bn,ra as No,sa as I,sb as Yo,ta as y,tb as Le,ua as f,ub as Me,vb as Se,w as Ao,wb as Oi,xa as W,y as Ro,ya as Ht,za as jt}from"./chunk-QLRFMCCZ.js";var ur=D((Zp,hr)=>{"use strict";hr.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Ze=D(at=>{"use strict";var yn,Wa=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];at.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17};at.getSymbolTotalCodewords=function(i){return Wa[i]};at.getBCHDigit=function(o){let i=0;for(;o!==0;)i++,o>>>=1;return i};at.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');yn=i};at.isKanjiModeEnabled=function(){return typeof yn<"u"};at.toSJIS=function(i){return yn(i)}});var Ti=D(Ee=>{"use strict";Ee.L={bit:1};Ee.M={bit:0};Ee.Q={bit:3};Ee.H={bit:2};function Ha(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return Ee.L;case"m":case"medium":return Ee.M;case"q":case"quartile":return Ee.Q;case"h":case"high":return Ee.H;default:throw new Error("Unknown EC Level: "+o)}}Ee.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4};Ee.from=function(i,t){if(Ee.isValid(i))return i;try{return Ha(i)}catch{return t}}});var fr=D((ih,gr)=>{"use strict";function mr(){this.buffer=[],this.length=0}mr.prototype={get:function(o){let i=Math.floor(o/8);return(this.buffer[i]>>>7-o%8&1)===1},put:function(o,i){for(let t=0;t<i;t++)this.putBit((o>>>i-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),o&&(this.buffer[i]|=128>>>this.length%8),this.length++}};gr.exports=mr});var xr=D((nh,_r)=>{"use strict";function Qt(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}Qt.prototype.set=function(o,i,t,e){let n=o*this.size+i;this.data[n]=t,e&&(this.reservedBit[n]=!0)};Qt.prototype.get=function(o,i){return this.data[o*this.size+i]};Qt.prototype.xor=function(o,i,t){this.data[o*this.size+i]^=t};Qt.prototype.isReserved=function(o,i){return this.reservedBit[o*this.size+i]};_r.exports=Qt});var br=D(ki=>{"use strict";var ja=Ze().getSymbolSize;ki.getRowColCoords=function(i){if(i===1)return[];let t=Math.floor(i/7)+2,e=ja(i),n=e===145?26:Math.ceil((e-13)/(2*t-2))*2,r=[e-7];for(let s=1;s<t-1;s++)r[s]=r[s-1]-n;return r.push(6),r.reverse()};ki.getPositions=function(i){let t=[],e=ki.getRowColCoords(i),n=e.length;for(let r=0;r<n;r++)for(let s=0;s<n;s++)r===0&&s===0||r===0&&s===n-1||r===n-1&&s===0||t.push([e[r],e[s]]);return t}});var yr=D(Cr=>{"use strict";var Ya=Ze().getSymbolSize,vr=7;Cr.getPositions=function(i){let t=Ya(i);return[[0,0],[t-vr,0],[0,t-vr]]}});var wr=D(H=>{"use strict";H.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ct={N1:3,N2:3,N3:40,N4:10};H.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7};H.from=function(i){return H.isValid(i)?parseInt(i,10):void 0};H.getPenaltyN1=function(i){let t=i.size,e=0,n=0,r=0,s=null,d=null;for(let h=0;h<t;h++){n=r=0,s=d=null;for(let C=0;C<t;C++){let S=i.get(h,C);S===s?n++:(n>=5&&(e+=ct.N1+(n-5)),s=S,n=1),S=i.get(C,h),S===d?r++:(r>=5&&(e+=ct.N1+(r-5)),d=S,r=1)}n>=5&&(e+=ct.N1+(n-5)),r>=5&&(e+=ct.N1+(r-5))}return e};H.getPenaltyN2=function(i){let t=i.size,e=0;for(let n=0;n<t-1;n++)for(let r=0;r<t-1;r++){let s=i.get(n,r)+i.get(n,r+1)+i.get(n+1,r)+i.get(n+1,r+1);(s===4||s===0)&&e++}return e*ct.N2};H.getPenaltyN3=function(i){let t=i.size,e=0,n=0,r=0;for(let s=0;s<t;s++){n=r=0;for(let d=0;d<t;d++)n=n<<1&2047|i.get(s,d),d>=10&&(n===1488||n===93)&&e++,r=r<<1&2047|i.get(d,s),d>=10&&(r===1488||r===93)&&e++}return e*ct.N3};H.getPenaltyN4=function(i){let t=0,e=i.data.length;for(let r=0;r<e;r++)t+=i.data[r];return Math.abs(Math.ceil(t*100/e/5)-10)*ct.N4};function Qa(o,i,t){switch(o){case H.Patterns.PATTERN000:return(i+t)%2===0;case H.Patterns.PATTERN001:return i%2===0;case H.Patterns.PATTERN010:return t%3===0;case H.Patterns.PATTERN011:return(i+t)%3===0;case H.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(t/3))%2===0;case H.Patterns.PATTERN101:return i*t%2+i*t%3===0;case H.Patterns.PATTERN110:return(i*t%2+i*t%3)%2===0;case H.Patterns.PATTERN111:return(i*t%3+(i+t)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}H.applyMask=function(i,t){let e=t.size;for(let n=0;n<e;n++)for(let r=0;r<e;r++)t.isReserved(r,n)||t.xor(r,n,Qa(i,r,n))};H.getBestMask=function(i,t){let e=Object.keys(H.Patterns).length,n=0,r=1/0;for(let s=0;s<e;s++){t(s),H.applyMask(s,i);let d=H.getPenaltyN1(i)+H.getPenaltyN2(i)+H.getPenaltyN3(i)+H.getPenaltyN4(i);H.applyMask(s,i),d<r&&(r=d,n=s)}return n}});var Mn=D(wn=>{"use strict";var et=Ti(),Ii=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ai=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wn.getBlocksCount=function(i,t){switch(t){case et.L:return Ii[(i-1)*4+0];case et.M:return Ii[(i-1)*4+1];case et.Q:return Ii[(i-1)*4+2];case et.H:return Ii[(i-1)*4+3];default:return}};wn.getTotalCodewordsCount=function(i,t){switch(t){case et.L:return Ai[(i-1)*4+0];case et.M:return Ai[(i-1)*4+1];case et.Q:return Ai[(i-1)*4+2];case et.H:return Ai[(i-1)*4+3];default:return}}});var Mr=D(zi=>{"use strict";var Gt=new Uint8Array(512),Ri=new Uint8Array(256);(function(){let i=1;for(let t=0;t<255;t++)Gt[t]=i,Ri[i]=t,i<<=1,i&256&&(i^=285);for(let t=255;t<512;t++)Gt[t]=Gt[t-255]})();zi.log=function(i){if(i<1)throw new Error("log("+i+")");return Ri[i]};zi.exp=function(i){return Gt[i]};zi.mul=function(i,t){return i===0||t===0?0:Gt[Ri[i]+Ri[t]]}});var Sr=D(Xt=>{"use strict";var Sn=Mr();Xt.mul=function(i,t){let e=new Uint8Array(i.length+t.length-1);for(let n=0;n<i.length;n++)for(let r=0;r<t.length;r++)e[n+r]^=Sn.mul(i[n],t[r]);return e};Xt.mod=function(i,t){let e=new Uint8Array(i);for(;e.length-t.length>=0;){let n=e[0];for(let s=0;s<t.length;s++)e[s]^=Sn.mul(t[s],n);let r=0;for(;r<e.length&&e[r]===0;)r++;e=e.slice(r)}return e};Xt.generateECPolynomial=function(i){let t=new Uint8Array([1]);for(let e=0;e<i;e++)t=Xt.mul(t,new Uint8Array([1,Sn.exp(e)]));return t}});var Or=D((dh,Pr)=>{"use strict";var Er=Sr();function En(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}En.prototype.initialize=function(i){this.degree=i,this.genPoly=Er.generateECPolynomial(this.degree)};En.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(i.length+this.degree);t.set(i);let e=Er.mod(t,this.genPoly),n=this.degree-e.length;if(n>0){let r=new Uint8Array(this.degree);return r.set(e,n),r}return e};Pr.exports=En});var Pn=D(Tr=>{"use strict";Tr.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}});var On=D(qe=>{"use strict";var kr="[0-9]+",Ga="[A-Z $%*+\\-./:]+",Kt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Kt=Kt.replace(/u/g,"\\u");var Xa="(?:(?![A-Z0-9 $%*+\\-./:]|"+Kt+`)(?:.|[\r
]))+`;qe.KANJI=new RegExp(Kt,"g");qe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qe.BYTE=new RegExp(Xa,"g");qe.NUMERIC=new RegExp(kr,"g");qe.ALPHANUMERIC=new RegExp(Ga,"g");var Ka=new RegExp("^"+Kt+"$"),Ja=new RegExp("^"+kr+"$"),$a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qe.testKanji=function(i){return Ka.test(i)};qe.testNumeric=function(i){return Ja.test(i)};qe.testAlphanumeric=function(i){return $a.test(i)}});var tt=D(te=>{"use strict";var Za=Pn(),Tn=On();te.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};te.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};te.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};te.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};te.MIXED={bit:-1};te.getCharCountIndicator=function(i,t){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!Za.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?i.ccBits[0]:t<27?i.ccBits[1]:i.ccBits[2]};te.getBestModeForData=function(i){return Tn.testNumeric(i)?te.NUMERIC:Tn.testAlphanumeric(i)?te.ALPHANUMERIC:Tn.testKanji(i)?te.KANJI:te.BYTE};te.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")};te.isValid=function(i){return i&&i.bit&&i.ccBits};function ec(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return te.NUMERIC;case"alphanumeric":return te.ALPHANUMERIC;case"kanji":return te.KANJI;case"byte":return te.BYTE;default:throw new Error("Unknown mode: "+o)}}te.from=function(i,t){if(te.isValid(i))return i;try{return ec(i)}catch{return t}}});var Vr=D(lt=>{"use strict";var Vi=Ze(),tc=Mn(),Ir=Ti(),it=tt(),kn=Pn(),Rr=7973,Ar=Vi.getBCHDigit(Rr);function ic(o,i,t){for(let e=1;e<=40;e++)if(i<=lt.getCapacity(e,t,o))return e}function zr(o,i){return it.getCharCountIndicator(o,i)+4}function nc(o,i){let t=0;return o.forEach(function(e){let n=zr(e.mode,i);t+=n+e.getBitsLength()}),t}function oc(o,i){for(let t=1;t<=40;t++)if(nc(o,t)<=lt.getCapacity(t,i,it.MIXED))return t}lt.from=function(i,t){return kn.isValid(i)?parseInt(i,10):t};lt.getCapacity=function(i,t,e){if(!kn.isValid(i))throw new Error("Invalid QR Code version");typeof e>"u"&&(e=it.BYTE);let n=Vi.getSymbolTotalCodewords(i),r=tc.getTotalCodewordsCount(i,t),s=(n-r)*8;if(e===it.MIXED)return s;let d=s-zr(e,i);switch(e){case it.NUMERIC:return Math.floor(d/10*3);case it.ALPHANUMERIC:return Math.floor(d/11*2);case it.KANJI:return Math.floor(d/13);case it.BYTE:default:return Math.floor(d/8)}};lt.getBestVersionForData=function(i,t){let e,n=Ir.from(t,Ir.M);if(Array.isArray(i)){if(i.length>1)return oc(i,n);if(i.length===0)return 1;e=i[0]}else e=i;return ic(e.mode,e.getLength(),n)};lt.getEncodedBits=function(i){if(!kn.isValid(i)||i<7)throw new Error("Invalid QR Code version");let t=i<<12;for(;Vi.getBCHDigit(t)-Ar>=0;)t^=Rr<<Vi.getBCHDigit(t)-Ar;return i<<12|t}});var Nr=D(Ur=>{"use strict";var In=Ze(),Lr=1335,rc=21522,Br=In.getBCHDigit(Lr);Ur.getEncodedBits=function(i,t){let e=i.bit<<3|t,n=e<<10;for(;In.getBCHDigit(n)-Br>=0;)n^=Lr<<In.getBCHDigit(n)-Br;return(e<<10|n)^rc}});var Fr=D((fh,Dr)=>{"use strict";var sc=tt();function Mt(o){this.mode=sc.NUMERIC,this.data=o.toString()}Mt.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)};Mt.prototype.getLength=function(){return this.data.length};Mt.prototype.getBitsLength=function(){return Mt.getBitsLength(this.data.length)};Mt.prototype.write=function(i){let t,e,n;for(t=0;t+3<=this.data.length;t+=3)e=this.data.substr(t,3),n=parseInt(e,10),i.put(n,10);let r=this.data.length-t;r>0&&(e=this.data.substr(t),n=parseInt(e,10),i.put(n,r*3+1))};Dr.exports=Mt});var Wr=D((_h,qr)=>{"use strict";var ac=tt(),An=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function St(o){this.mode=ac.ALPHANUMERIC,this.data=o}St.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)};St.prototype.getLength=function(){return this.data.length};St.prototype.getBitsLength=function(){return St.getBitsLength(this.data.length)};St.prototype.write=function(i){let t;for(t=0;t+2<=this.data.length;t+=2){let e=An.indexOf(this.data[t])*45;e+=An.indexOf(this.data[t+1]),i.put(e,11)}this.data.length%2&&i.put(An.indexOf(this.data[t]),6)};qr.exports=St});var jr=D((xh,Hr)=>{"use strict";Hr.exports=function(i){for(var t=[],e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);if(r>=55296&&r<=56319&&e>n+1){var s=i.charCodeAt(n+1);s>=56320&&s<=57343&&(r=(r-55296)*1024+s-56320+65536,n+=1)}if(r<128){t.push(r);continue}if(r<2048){t.push(r>>6|192),t.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){t.push(r>>12|224),t.push(r>>6&63|128),t.push(r&63|128);continue}if(r>=65536&&r<=1114111){t.push(r>>18|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(r&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var Qr=D((bh,Yr)=>{"use strict";var cc=jr(),lc=tt();function Et(o){this.mode=lc.BYTE,typeof o=="string"&&(o=cc(o)),this.data=new Uint8Array(o)}Et.getBitsLength=function(i){return i*8};Et.prototype.getLength=function(){return this.data.length};Et.prototype.getBitsLength=function(){return Et.getBitsLength(this.data.length)};Et.prototype.write=function(o){for(let i=0,t=this.data.length;i<t;i++)o.put(this.data[i],8)};Yr.exports=Et});var Xr=D((vh,Gr)=>{"use strict";var dc=tt(),pc=Ze();function Pt(o){this.mode=dc.KANJI,this.data=o}Pt.getBitsLength=function(i){return i*13};Pt.prototype.getLength=function(){return this.data.length};Pt.prototype.getBitsLength=function(){return Pt.getBitsLength(this.data.length)};Pt.prototype.write=function(o){let i;for(i=0;i<this.data.length;i++){let t=pc.toSJIS(this.data[i]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),o.put(t,13)}};Gr.exports=Pt});var Kr=D((Ch,Rn)=>{"use strict";var Jt={single_source_shortest_paths:function(o,i,t){var e={},n={};n[i]=0;var r=Jt.PriorityQueue.make();r.push(i,0);for(var s,d,h,C,S,O,P,L,U;!r.empty();){s=r.pop(),d=s.value,C=s.cost,S=o[d]||{};for(h in S)S.hasOwnProperty(h)&&(O=S[h],P=C+O,L=n[h],U=typeof n[h]>"u",(U||L>P)&&(n[h]=P,r.push(h,P),e[h]=d))}if(typeof t<"u"&&typeof n[t]>"u"){var J=["Could not find a path from ",i," to ",t,"."].join("");throw new Error(J)}return e},extract_shortest_path_from_predecessor_list:function(o,i){for(var t=[],e=i,n;e;)t.push(e),n=o[e],e=o[e];return t.reverse(),t},find_path:function(o,i,t){var e=Jt.single_source_shortest_paths(o,i,t);return Jt.extract_shortest_path_from_predecessor_list(e,t)},PriorityQueue:{make:function(o){var i=Jt.PriorityQueue,t={},e;o=o||{};for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t.queue=[],t.sorter=o.sorter||i.default_sorter,t},default_sorter:function(o,i){return o.cost-i.cost},push:function(o,i){var t={value:o,cost:i};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Rn<"u"&&(Rn.exports=Jt)});var os=D(Ot=>{"use strict";var q=tt(),Zr=Fr(),es=Wr(),ts=Qr(),is=Xr(),$t=On(),Bi=Ze(),hc=Kr();function Jr(o){return unescape(encodeURIComponent(o)).length}function Zt(o,i,t){let e=[],n;for(;(n=o.exec(t))!==null;)e.push({data:n[0],index:n.index,mode:i,length:n[0].length});return e}function ns(o){let i=Zt($t.NUMERIC,q.NUMERIC,o),t=Zt($t.ALPHANUMERIC,q.ALPHANUMERIC,o),e,n;return Bi.isKanjiModeEnabled()?(e=Zt($t.BYTE,q.BYTE,o),n=Zt($t.KANJI,q.KANJI,o)):(e=Zt($t.BYTE_KANJI,q.BYTE,o),n=[]),i.concat(t,e,n).sort(function(s,d){return s.index-d.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function zn(o,i){switch(i){case q.NUMERIC:return Zr.getBitsLength(o);case q.ALPHANUMERIC:return es.getBitsLength(o);case q.KANJI:return is.getBitsLength(o);case q.BYTE:return ts.getBitsLength(o)}}function uc(o){return o.reduce(function(i,t){let e=i.length-1>=0?i[i.length-1]:null;return e&&e.mode===t.mode?(i[i.length-1].data+=t.data,i):(i.push(t),i)},[])}function mc(o){let i=[];for(let t=0;t<o.length;t++){let e=o[t];switch(e.mode){case q.NUMERIC:i.push([e,{data:e.data,mode:q.ALPHANUMERIC,length:e.length},{data:e.data,mode:q.BYTE,length:e.length}]);break;case q.ALPHANUMERIC:i.push([e,{data:e.data,mode:q.BYTE,length:e.length}]);break;case q.KANJI:i.push([e,{data:e.data,mode:q.BYTE,length:Jr(e.data)}]);break;case q.BYTE:i.push([{data:e.data,mode:q.BYTE,length:Jr(e.data)}])}}return i}function gc(o,i){let t={},e={start:{}},n=["start"];for(let r=0;r<o.length;r++){let s=o[r],d=[];for(let h=0;h<s.length;h++){let C=s[h],S=""+r+h;d.push(S),t[S]={node:C,lastCount:0},e[S]={};for(let O=0;O<n.length;O++){let P=n[O];t[P]&&t[P].node.mode===C.mode?(e[P][S]=zn(t[P].lastCount+C.length,C.mode)-zn(t[P].lastCount,C.mode),t[P].lastCount+=C.length):(t[P]&&(t[P].lastCount=C.length),e[P][S]=zn(C.length,C.mode)+4+q.getCharCountIndicator(C.mode,i))}}n=d}for(let r=0;r<n.length;r++)e[n[r]].end=0;return{map:e,table:t}}function $r(o,i){let t,e=q.getBestModeForData(o);if(t=q.from(i,e),t!==q.BYTE&&t.bit<e.bit)throw new Error('"'+o+'" cannot be encoded with mode '+q.toString(t)+`.
 Suggested mode is: `+q.toString(e));switch(t===q.KANJI&&!Bi.isKanjiModeEnabled()&&(t=q.BYTE),t){case q.NUMERIC:return new Zr(o);case q.ALPHANUMERIC:return new es(o);case q.KANJI:return new is(o);case q.BYTE:return new ts(o)}}Ot.fromArray=function(i){return i.reduce(function(t,e){return typeof e=="string"?t.push($r(e,null)):e.data&&t.push($r(e.data,e.mode)),t},[])};Ot.fromString=function(i,t){let e=ns(i,Bi.isKanjiModeEnabled()),n=mc(e),r=gc(n,t),s=hc.find_path(r.map,"start","end"),d=[];for(let h=1;h<s.length-1;h++)d.push(r.table[s[h]].node);return Ot.fromArray(uc(d))};Ot.rawSplit=function(i){return Ot.fromArray(ns(i,Bi.isKanjiModeEnabled()))}});var ss=D(rs=>{"use strict";var Ui=Ze(),Vn=Ti(),fc=fr(),_c=xr(),xc=br(),bc=yr(),Un=wr(),Nn=Mn(),vc=Or(),Li=Vr(),Cc=Nr(),yc=tt(),Bn=os();function wc(o,i){let t=o.size,e=bc.getPositions(i);for(let n=0;n<e.length;n++){let r=e[n][0],s=e[n][1];for(let d=-1;d<=7;d++)if(!(r+d<=-1||t<=r+d))for(let h=-1;h<=7;h++)s+h<=-1||t<=s+h||(d>=0&&d<=6&&(h===0||h===6)||h>=0&&h<=6&&(d===0||d===6)||d>=2&&d<=4&&h>=2&&h<=4?o.set(r+d,s+h,!0,!0):o.set(r+d,s+h,!1,!0))}}function Mc(o){let i=o.size;for(let t=8;t<i-8;t++){let e=t%2===0;o.set(t,6,e,!0),o.set(6,t,e,!0)}}function Sc(o,i){let t=xc.getPositions(i);for(let e=0;e<t.length;e++){let n=t[e][0],r=t[e][1];for(let s=-2;s<=2;s++)for(let d=-2;d<=2;d++)s===-2||s===2||d===-2||d===2||s===0&&d===0?o.set(n+s,r+d,!0,!0):o.set(n+s,r+d,!1,!0)}}function Ec(o,i){let t=o.size,e=Li.getEncodedBits(i),n,r,s;for(let d=0;d<18;d++)n=Math.floor(d/3),r=d%3+t-8-3,s=(e>>d&1)===1,o.set(n,r,s,!0),o.set(r,n,s,!0)}function Ln(o,i,t){let e=o.size,n=Cc.getEncodedBits(i,t),r,s;for(r=0;r<15;r++)s=(n>>r&1)===1,r<6?o.set(r,8,s,!0):r<8?o.set(r+1,8,s,!0):o.set(e-15+r,8,s,!0),r<8?o.set(8,e-r-1,s,!0):r<9?o.set(8,15-r-1+1,s,!0):o.set(8,15-r-1,s,!0);o.set(e-8,8,1,!0)}function Pc(o,i){let t=o.size,e=-1,n=t-1,r=7,s=0;for(let d=t-1;d>0;d-=2)for(d===6&&d--;;){for(let h=0;h<2;h++)if(!o.isReserved(n,d-h)){let C=!1;s<i.length&&(C=(i[s]>>>r&1)===1),o.set(n,d-h,C),r--,r===-1&&(s++,r=7)}if(n+=e,n<0||t<=n){n-=e,e=-e;break}}}function Oc(o,i,t){let e=new fc;t.forEach(function(h){e.put(h.mode.bit,4),e.put(h.getLength(),yc.getCharCountIndicator(h.mode,o)),h.write(e)});let n=Ui.getSymbolTotalCodewords(o),r=Nn.getTotalCodewordsCount(o,i),s=(n-r)*8;for(e.getLengthInBits()+4<=s&&e.put(0,4);e.getLengthInBits()%8!==0;)e.putBit(0);let d=(s-e.getLengthInBits())/8;for(let h=0;h<d;h++)e.put(h%2?17:236,8);return Tc(e,o,i)}function Tc(o,i,t){let e=Ui.getSymbolTotalCodewords(i),n=Nn.getTotalCodewordsCount(i,t),r=e-n,s=Nn.getBlocksCount(i,t),d=e%s,h=s-d,C=Math.floor(e/s),S=Math.floor(r/s),O=S+1,P=C-S,L=new vc(P),U=0,J=new Array(s),Oe=new Array(s),Y=0,Q=new Uint8Array(o.buffer);for(let ve=0;ve<s;ve++){let me=ve<h?S:O;J[ve]=Q.slice(U,U+me),Oe[ve]=L.encode(J[ve]),U+=me,Y=Math.max(Y,me)}let le=new Uint8Array(e),je=0,se,ae;for(se=0;se<Y;se++)for(ae=0;ae<s;ae++)se<J[ae].length&&(le[je++]=J[ae][se]);for(se=0;se<P;se++)for(ae=0;ae<s;ae++)le[je++]=Oe[ae][se];return le}function kc(o,i,t,e){let n;if(Array.isArray(o))n=Bn.fromArray(o);else if(typeof o=="string"){let C=i;if(!C){let S=Bn.rawSplit(o);C=Li.getBestVersionForData(S,t)}n=Bn.fromString(o,C||40)}else throw new Error("Invalid data");let r=Li.getBestVersionForData(n,t);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!i)i=r;else if(i<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let s=Oc(i,t,n),d=Ui.getSymbolSize(i),h=new _c(d);return wc(h,i),Mc(h),Sc(h,i),Ln(h,t,0),i>=7&&Ec(h,i),Pc(h,s),isNaN(e)&&(e=Un.getBestMask(h,Ln.bind(null,h,t))),Un.applyMask(e,h),Ln(h,t,e),{modules:h,version:i,errorCorrectionLevel:t,maskPattern:e,segments:n}}rs.create=function(i,t){if(typeof i>"u"||i==="")throw new Error("No input text");let e=Vn.M,n,r;return typeof t<"u"&&(e=Vn.from(t.errorCorrectionLevel,Vn.M),n=Li.from(t.version),r=Un.from(t.maskPattern),t.toSJISFunc&&Ui.setToSJISFunction(t.toSJISFunc)),kc(i,n,e,r)}});var Dn=D(dt=>{"use strict";function as(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let i=o.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+o);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(e){return[e,e]}))),i.length===6&&i.push("F","F");let t=parseInt(i.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+i.slice(0,6).join("")}}dt.getOptions=function(i){i||(i={}),i.color||(i.color={});let t=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,e=i.width&&i.width>=21?i.width:void 0,n=i.scale||4;return{width:e,scale:e?4:n,margin:t,color:{dark:as(i.color.dark||"#000000ff"),light:as(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}};dt.getScale=function(i,t){return t.width&&t.width>=i+t.margin*2?t.width/(i+t.margin*2):t.scale};dt.getImageWidth=function(i,t){let e=dt.getScale(i,t);return Math.floor((i+t.margin*2)*e)};dt.qrToImageData=function(i,t,e){let n=t.modules.size,r=t.modules.data,s=dt.getScale(n,e),d=Math.floor((n+e.margin*2)*s),h=e.margin*s,C=[e.color.light,e.color.dark];for(let S=0;S<d;S++)for(let O=0;O<d;O++){let P=(S*d+O)*4,L=e.color.light;if(S>=h&&O>=h&&S<d-h&&O<d-h){let U=Math.floor((S-h)/s),J=Math.floor((O-h)/s);L=C[r[U*n+J]?1:0]}i[P++]=L.r,i[P++]=L.g,i[P++]=L.b,i[P]=L.a}}});var cs=D(Ni=>{"use strict";var Fn=Dn();function Ic(o,i,t){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=t,i.width=t,i.style.height=t+"px",i.style.width=t+"px"}function Ac(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ni.render=function(i,t,e){let n=e,r=t;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(r=Ac()),n=Fn.getOptions(n);let s=Fn.getImageWidth(i.modules.size,n),d=r.getContext("2d"),h=d.createImageData(s,s);return Fn.qrToImageData(h.data,i,n),Ic(d,r,s),d.putImageData(h,0,0),r};Ni.renderToDataURL=function(i,t,e){let n=e;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let r=Ni.render(i,t,n),s=n.type||"image/png",d=n.rendererOpts||{};return r.toDataURL(s,d.quality)}});var ps=D(ds=>{"use strict";var Rc=Dn();function ls(o,i){let t=o.a/255,e=i+'="'+o.hex+'"';return t<1?e+" "+i+'-opacity="'+t.toFixed(2).slice(1)+'"':e}function qn(o,i,t){let e=o+i;return typeof t<"u"&&(e+=" "+t),e}function zc(o,i,t){let e="",n=0,r=!1,s=0;for(let d=0;d<o.length;d++){let h=Math.floor(d%i),C=Math.floor(d/i);!h&&!r&&(r=!0),o[d]?(s++,d>0&&h>0&&o[d-1]||(e+=r?qn("M",h+t,.5+C+t):qn("m",n,0),n=0,r=!1),h+1<i&&o[d+1]||(e+=qn("h",s),s=0)):n++}return e}ds.render=function(i,t,e){let n=Rc.getOptions(t),r=i.modules.size,s=i.modules.data,d=r+n.margin*2,h=n.color.light.a?"<path "+ls(n.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",C="<path "+ls(n.color.dark,"stroke")+' d="'+zc(s,r,n.margin)+'"/>',S='viewBox="0 0 '+d+" "+d+'"',P='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+S+' shape-rendering="crispEdges">'+h+C+`</svg>
`;return typeof e=="function"&&e(null,P),P}});var us=D(ei=>{"use strict";var Vc=ur(),Wn=ss(),hs=cs(),Bc=ps();function Hn(o,i,t,e,n){let r=[].slice.call(arguments,1),s=r.length,d=typeof r[s-1]=="function";if(!d&&!Vc())throw new Error("Callback required as last argument");if(d){if(s<2)throw new Error("Too few arguments provided");s===2?(n=t,t=i,i=e=void 0):s===3&&(i.getContext&&typeof n>"u"?(n=e,e=void 0):(n=e,e=t,t=i,i=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=i,i=e=void 0):s===2&&!i.getContext&&(e=t,t=i,i=void 0),new Promise(function(h,C){try{let S=Wn.create(t,e);h(o(S,i,e))}catch(S){C(S)}})}try{let h=Wn.create(t,e);n(null,o(h,i,e))}catch(h){n(h)}}ei.create=Wn.create;ei.toCanvas=Hn.bind(null,hs.render);ei.toDataURL=Hn.bind(null,hs.renderToDataURL);ei.toString=Hn.bind(null,function(o,i,t){return Bc.render(o,t)})});var fs=D((Bh,qi)=>{"use strict";(function(o,i,t,e){"use strict";var n=["","webkit","Moz","MS","ms","o"],r=i.createElement("div"),s="function",d=Math.round,h=Math.abs,C=Date.now;function S(a,p,g){return setTimeout(Q(a,g),p)}function O(a,p,g){return Array.isArray(a)?(P(a,g[p],g),!0):!1}function P(a,p,g){var _;if(a)if(a.forEach)a.forEach(p,g);else if(a.length!==e)for(_=0;_<a.length;)p.call(g,a[_],_,a),_++;else for(_ in a)a.hasOwnProperty(_)&&p.call(g,a[_],_,a)}function L(a,p,g){var _="DEPRECATED METHOD: "+p+`
`+g+` AT 
`;return function(){var w=new Error("get-stack-trace"),T=w&&w.stack?w.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",z=o.console&&(o.console.warn||o.console.log);return z&&z.call(o.console,_,T),a.apply(this,arguments)}}var U;typeof Object.assign!="function"?U=function(p){if(p===e||p===null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(p),_=1;_<arguments.length;_++){var w=arguments[_];if(w!==e&&w!==null)for(var T in w)w.hasOwnProperty(T)&&(g[T]=w[T])}return g}:U=Object.assign;var J=L(function(p,g,_){for(var w=Object.keys(g),T=0;T<w.length;)(!_||_&&p[w[T]]===e)&&(p[w[T]]=g[w[T]]),T++;return p},"extend","Use `assign`."),Oe=L(function(p,g){return J(p,g,!0)},"merge","Use `assign`.");function Y(a,p,g){var _=p.prototype,w;w=a.prototype=Object.create(_),w.constructor=a,w._super=_,g&&U(w,g)}function Q(a,p){return function(){return a.apply(p,arguments)}}function le(a,p){return typeof a==s?a.apply(p&&p[0]||e,p):a}function je(a,p){return a===e?p:a}function se(a,p,g){P(ut(p),function(_){a.addEventListener(_,g,!1)})}function ae(a,p,g){P(ut(p),function(_){a.removeEventListener(_,g,!1)})}function ve(a,p){for(;a;){if(a==p)return!0;a=a.parentNode}return!1}function me(a,p){return a.indexOf(p)>-1}function ut(a){return a.trim().split(/\s+/g)}function Ye(a,p,g){if(a.indexOf&&!g)return a.indexOf(p);for(var _=0;_<a.length;){if(g&&a[_][g]==p||!g&&a[_]===p)return _;_++}return-1}function Qe(a){return Array.prototype.slice.call(a,0)}function mt(a,p,g){for(var _=[],w=[],T=0;T<a.length;){var z=p?a[T][p]:a[T];Ye(w,z)<0&&_.push(a[T]),w[T]=z,T++}return g&&(p?_=_.sort(function(ce,ue){return ce[p]>ue[p]}):_=_.sort()),_}function Ue(a,p){for(var g,_,w=p[0].toUpperCase()+p.slice(1),T=0;T<n.length;){if(g=n[T],_=g?g+w:p,_ in a)return _;T++}return e}var ui=1;function an(){return ui++}function mi(a){var p=a.ownerDocument||a;return p.defaultView||p.parentWindow||o}var gt=/mobile|tablet|ip(ad|hone|od)|android/i,zt="ontouchstart"in o,Ge=Ue(o,"PointerEvent")!==e,Xe=zt&&gt.test(navigator.userAgent),Vt="touch",ha="pen",cn="mouse",ua="kinect",ma=25,he=1,ot=2,Z=4,ge=8,gi=1,Bt=2,Lt=4,Ut=8,Nt=16,Ae=Bt|Lt,rt=Ut|Nt,co=Ae|rt,lo=["x","y"],fi=["clientX","clientY"];function Ce(a,p){var g=this;this.manager=a,this.callback=p,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(_){le(a.options.enable,[a])&&g.handler(_)},this.init()}Ce.prototype={handler:function(){},init:function(){this.evEl&&se(this.element,this.evEl,this.domHandler),this.evTarget&&se(this.target,this.evTarget,this.domHandler),this.evWin&&se(mi(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ae(this.element,this.evEl,this.domHandler),this.evTarget&&ae(this.target,this.evTarget,this.domHandler),this.evWin&&ae(mi(this.element),this.evWin,this.domHandler)}};function ga(a){var p,g=a.options.inputClass;return g?p=g:Ge?p=dn:Xe?p=bi:zt?p=pn:p=xi,new p(a,fa)}function fa(a,p,g){var _=g.pointers.length,w=g.changedPointers.length,T=p&he&&_-w===0,z=p&(Z|ge)&&_-w===0;g.isFirst=!!T,g.isFinal=!!z,T&&(a.session={}),g.eventType=p,_a(a,g),a.emit("hammer.input",g),a.recognize(g),a.session.prevInput=g}function _a(a,p){var g=a.session,_=p.pointers,w=_.length;g.firstInput||(g.firstInput=po(p)),w>1&&!g.firstMultiple?g.firstMultiple=po(p):w===1&&(g.firstMultiple=!1);var T=g.firstInput,z=g.firstMultiple,oe=z?z.center:T.center,ce=p.center=ho(_);p.timeStamp=C(),p.deltaTime=p.timeStamp-T.timeStamp,p.angle=ln(oe,ce),p.distance=_i(oe,ce),xa(g,p),p.offsetDirection=mo(p.deltaX,p.deltaY);var ue=uo(p.deltaTime,p.deltaX,p.deltaY);p.overallVelocityX=ue.x,p.overallVelocityY=ue.y,p.overallVelocity=h(ue.x)>h(ue.y)?ue.x:ue.y,p.scale=z?Ca(z.pointers,_):1,p.rotation=z?va(z.pointers,_):0,p.maxPointers=g.prevInput?p.pointers.length>g.prevInput.maxPointers?p.pointers.length:g.prevInput.maxPointers:p.pointers.length,ba(g,p);var ze=a.element;ve(p.srcEvent.target,ze)&&(ze=p.srcEvent.target),p.target=ze}function xa(a,p){var g=p.center,_=a.offsetDelta||{},w=a.prevDelta||{},T=a.prevInput||{};(p.eventType===he||T.eventType===Z)&&(w=a.prevDelta={x:T.deltaX||0,y:T.deltaY||0},_=a.offsetDelta={x:g.x,y:g.y}),p.deltaX=w.x+(g.x-_.x),p.deltaY=w.y+(g.y-_.y)}function ba(a,p){var g=a.lastInterval||p,_=p.timeStamp-g.timeStamp,w,T,z,oe;if(p.eventType!=ge&&(_>ma||g.velocity===e)){var ce=p.deltaX-g.deltaX,ue=p.deltaY-g.deltaY,ze=uo(_,ce,ue);T=ze.x,z=ze.y,w=h(ze.x)>h(ze.y)?ze.x:ze.y,oe=mo(ce,ue),a.lastInterval=p}else w=g.velocity,T=g.velocityX,z=g.velocityY,oe=g.direction;p.velocity=w,p.velocityX=T,p.velocityY=z,p.direction=oe}function po(a){for(var p=[],g=0;g<a.pointers.length;)p[g]={clientX:d(a.pointers[g].clientX),clientY:d(a.pointers[g].clientY)},g++;return{timeStamp:C(),pointers:p,center:ho(p),deltaX:a.deltaX,deltaY:a.deltaY}}function ho(a){var p=a.length;if(p===1)return{x:d(a[0].clientX),y:d(a[0].clientY)};for(var g=0,_=0,w=0;w<p;)g+=a[w].clientX,_+=a[w].clientY,w++;return{x:d(g/p),y:d(_/p)}}function uo(a,p,g){return{x:p/a||0,y:g/a||0}}function mo(a,p){return a===p?gi:h(a)>=h(p)?a<0?Bt:Lt:p<0?Ut:Nt}function _i(a,p,g){g||(g=lo);var _=p[g[0]]-a[g[0]],w=p[g[1]]-a[g[1]];return Math.sqrt(_*_+w*w)}function ln(a,p,g){g||(g=lo);var _=p[g[0]]-a[g[0]],w=p[g[1]]-a[g[1]];return Math.atan2(w,_)*180/Math.PI}function va(a,p){return ln(p[1],p[0],fi)+ln(a[1],a[0],fi)}function Ca(a,p){return _i(p[0],p[1],fi)/_i(a[0],a[1],fi)}var ya={mousedown:he,mousemove:ot,mouseup:Z},wa="mousedown",Ma="mousemove mouseup";function xi(){this.evEl=wa,this.evWin=Ma,this.pressed=!1,Ce.apply(this,arguments)}Y(xi,Ce,{handler:function(p){var g=ya[p.type];g&he&&p.button===0&&(this.pressed=!0),g&ot&&p.which!==1&&(g=Z),this.pressed&&(g&Z&&(this.pressed=!1),this.callback(this.manager,g,{pointers:[p],changedPointers:[p],pointerType:cn,srcEvent:p}))}});var Sa={pointerdown:he,pointermove:ot,pointerup:Z,pointercancel:ge,pointerout:ge},Ea={2:Vt,3:ha,4:cn,5:ua},go="pointerdown",fo="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(go="MSPointerDown",fo="MSPointerMove MSPointerUp MSPointerCancel");function dn(){this.evEl=go,this.evWin=fo,Ce.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Y(dn,Ce,{handler:function(p){var g=this.store,_=!1,w=p.type.toLowerCase().replace("ms",""),T=Sa[w],z=Ea[p.pointerType]||p.pointerType,oe=z==Vt,ce=Ye(g,p.pointerId,"pointerId");T&he&&(p.button===0||oe)?ce<0&&(g.push(p),ce=g.length-1):T&(Z|ge)&&(_=!0),!(ce<0)&&(g[ce]=p,this.callback(this.manager,T,{pointers:g,changedPointers:[p],pointerType:z,srcEvent:p}),_&&g.splice(ce,1))}});var Pa={touchstart:he,touchmove:ot,touchend:Z,touchcancel:ge},Oa="touchstart",Ta="touchstart touchmove touchend touchcancel";function _o(){this.evTarget=Oa,this.evWin=Ta,this.started=!1,Ce.apply(this,arguments)}Y(_o,Ce,{handler:function(p){var g=Pa[p.type];if(g===he&&(this.started=!0),!!this.started){var _=ka.call(this,p,g);g&(Z|ge)&&_[0].length-_[1].length===0&&(this.started=!1),this.callback(this.manager,g,{pointers:_[0],changedPointers:_[1],pointerType:Vt,srcEvent:p})}}});function ka(a,p){var g=Qe(a.touches),_=Qe(a.changedTouches);return p&(Z|ge)&&(g=mt(g.concat(_),"identifier",!0)),[g,_]}var Ia={touchstart:he,touchmove:ot,touchend:Z,touchcancel:ge},Aa="touchstart touchmove touchend touchcancel";function bi(){this.evTarget=Aa,this.targetIds={},Ce.apply(this,arguments)}Y(bi,Ce,{handler:function(p){var g=Ia[p.type],_=Ra.call(this,p,g);_&&this.callback(this.manager,g,{pointers:_[0],changedPointers:_[1],pointerType:Vt,srcEvent:p})}});function Ra(a,p){var g=Qe(a.touches),_=this.targetIds;if(p&(he|ot)&&g.length===1)return _[g[0].identifier]=!0,[g,g];var w,T,z=Qe(a.changedTouches),oe=[],ce=this.target;if(T=g.filter(function(ue){return ve(ue.target,ce)}),p===he)for(w=0;w<T.length;)_[T[w].identifier]=!0,w++;for(w=0;w<z.length;)_[z[w].identifier]&&oe.push(z[w]),p&(Z|ge)&&delete _[z[w].identifier],w++;if(oe.length)return[mt(T.concat(oe),"identifier",!0),oe]}var za=2500,xo=25;function pn(){Ce.apply(this,arguments);var a=Q(this.handler,this);this.touch=new bi(this.manager,a),this.mouse=new xi(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}Y(pn,Ce,{handler:function(p,g,_){var w=_.pointerType==Vt,T=_.pointerType==cn;if(!(T&&_.sourceCapabilities&&_.sourceCapabilities.firesTouchEvents)){if(w)Va.call(this,g,_);else if(T&&Ba.call(this,_))return;this.callback(p,g,_)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Va(a,p){a&he?(this.primaryTouch=p.changedPointers[0].identifier,bo.call(this,p)):a&(Z|ge)&&bo.call(this,p)}function bo(a){var p=a.changedPointers[0];if(p.identifier===this.primaryTouch){var g={x:p.clientX,y:p.clientY};this.lastTouches.push(g);var _=this.lastTouches,w=function(){var T=_.indexOf(g);T>-1&&_.splice(T,1)};setTimeout(w,za)}}function Ba(a){for(var p=a.srcEvent.clientX,g=a.srcEvent.clientY,_=0;_<this.lastTouches.length;_++){var w=this.lastTouches[_],T=Math.abs(p-w.x),z=Math.abs(g-w.y);if(T<=xo&&z<=xo)return!0}return!1}var vo=Ue(r.style,"touchAction"),Co=vo!==e,yo="compute",wo="auto",hn="manipulation",st="none",Dt="pan-x",Ft="pan-y",vi=Ua();function un(a,p){this.manager=a,this.set(p)}un.prototype={set:function(a){a==yo&&(a=this.compute()),Co&&this.manager.element.style&&vi[a]&&(this.manager.element.style[vo]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return P(this.manager.recognizers,function(p){le(p.options.enable,[p])&&(a=a.concat(p.getTouchAction()))}),La(a.join(" "))},preventDefaults:function(a){var p=a.srcEvent,g=a.offsetDirection;if(this.manager.session.prevented){p.preventDefault();return}var _=this.actions,w=me(_,st)&&!vi[st],T=me(_,Ft)&&!vi[Ft],z=me(_,Dt)&&!vi[Dt];if(w){var oe=a.pointers.length===1,ce=a.distance<2,ue=a.deltaTime<250;if(oe&&ce&&ue)return}if(!(z&&T)&&(w||T&&g&Ae||z&&g&rt))return this.preventSrc(p)},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};function La(a){if(me(a,st))return st;var p=me(a,Dt),g=me(a,Ft);return p&&g?st:p||g?p?Dt:Ft:me(a,hn)?hn:wo}function Ua(){if(!Co)return!1;var a={},p=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(g){a[g]=p?o.CSS.supports("touch-action",g):!0}),a}var Ci=1,ye=2,ft=4,Ke=8,Ne=Ke,qt=16,Re=32;function De(a){this.options=U({},this.defaults,a||{}),this.id=an(),this.manager=null,this.options.enable=je(this.options.enable,!0),this.state=Ci,this.simultaneous={},this.requireFail=[]}De.prototype={defaults:{},set:function(a){return U(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(O(a,"recognizeWith",this))return this;var p=this.simultaneous;return a=yi(a,this),p[a.id]||(p[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return O(a,"dropRecognizeWith",this)?this:(a=yi(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(O(a,"requireFailure",this))return this;var p=this.requireFail;return a=yi(a,this),Ye(p,a)===-1&&(p.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(O(a,"dropRequireFailure",this))return this;a=yi(a,this);var p=Ye(this.requireFail,a);return p>-1&&this.requireFail.splice(p,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){var p=this,g=this.state;function _(w){p.manager.emit(w,a)}g<Ke&&_(p.options.event+Mo(g)),_(p.options.event),a.additionalEvent&&_(a.additionalEvent),g>=Ke&&_(p.options.event+Mo(g))},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=Re},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(Re|Ci)))return!1;a++}return!0},recognize:function(a){var p=U({},a);if(!le(this.options.enable,[this,p])){this.reset(),this.state=Re;return}this.state&(Ne|qt|Re)&&(this.state=Ci),this.state=this.process(p),this.state&(ye|ft|Ke|qt)&&this.tryEmit(p)},process:function(a){},getTouchAction:function(){},reset:function(){}};function Mo(a){return a&qt?"cancel":a&Ke?"end":a&ft?"move":a&ye?"start":""}function So(a){return a==Nt?"down":a==Ut?"up":a==Bt?"left":a==Lt?"right":""}function yi(a,p){var g=p.manager;return g?g.get(a):a}function Te(){De.apply(this,arguments)}Y(Te,De,{defaults:{pointers:1},attrTest:function(a){var p=this.options.pointers;return p===0||a.pointers.length===p},process:function(a){var p=this.state,g=a.eventType,_=p&(ye|ft),w=this.attrTest(a);return _&&(g&ge||!w)?p|qt:_||w?g&Z?p|Ke:p&ye?p|ft:ye:Re}});function wi(){Te.apply(this,arguments),this.pX=null,this.pY=null}Y(wi,Te,{defaults:{event:"pan",threshold:10,pointers:1,direction:co},getTouchAction:function(){var a=this.options.direction,p=[];return a&Ae&&p.push(Ft),a&rt&&p.push(Dt),p},directionTest:function(a){var p=this.options,g=!0,_=a.distance,w=a.direction,T=a.deltaX,z=a.deltaY;return w&p.direction||(p.direction&Ae?(w=T===0?gi:T<0?Bt:Lt,g=T!=this.pX,_=Math.abs(a.deltaX)):(w=z===0?gi:z<0?Ut:Nt,g=z!=this.pY,_=Math.abs(a.deltaY))),a.direction=w,g&&_>p.threshold&&w&p.direction},attrTest:function(a){return Te.prototype.attrTest.call(this,a)&&(this.state&ye||!(this.state&ye)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var p=So(a.direction);p&&(a.additionalEvent=this.options.event+p),this._super.emit.call(this,a)}});function mn(){Te.apply(this,arguments)}Y(mn,Te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ye)},emit:function(a){if(a.scale!==1){var p=a.scale<1?"in":"out";a.additionalEvent=this.options.event+p}this._super.emit.call(this,a)}});function gn(){De.apply(this,arguments),this._timer=null,this._input=null}Y(gn,De,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[wo]},process:function(a){var p=this.options,g=a.pointers.length===p.pointers,_=a.distance<p.threshold,w=a.deltaTime>p.time;if(this._input=a,!_||!g||a.eventType&(Z|ge)&&!w)this.reset();else if(a.eventType&he)this.reset(),this._timer=S(function(){this.state=Ne,this.tryEmit()},p.time,this);else if(a.eventType&Z)return Ne;return Re},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===Ne&&(a&&a.eventType&Z?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=C(),this.manager.emit(this.options.event,this._input)))}});function fn(){Te.apply(this,arguments)}Y(fn,Te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ye)}});function _n(){Te.apply(this,arguments)}Y(_n,Te,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ae|rt,pointers:1},getTouchAction:function(){return wi.prototype.getTouchAction.call(this)},attrTest:function(a){var p=this.options.direction,g;return p&(Ae|rt)?g=a.overallVelocity:p&Ae?g=a.overallVelocityX:p&rt&&(g=a.overallVelocityY),this._super.attrTest.call(this,a)&&p&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&h(g)>this.options.velocity&&a.eventType&Z},emit:function(a){var p=So(a.offsetDirection);p&&this.manager.emit(this.options.event+p,a),this.manager.emit(this.options.event,a)}});function Mi(){De.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}Y(Mi,De,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[hn]},process:function(a){var p=this.options,g=a.pointers.length===p.pointers,_=a.distance<p.threshold,w=a.deltaTime<p.time;if(this.reset(),a.eventType&he&&this.count===0)return this.failTimeout();if(_&&w&&g){if(a.eventType!=Z)return this.failTimeout();var T=this.pTime?a.timeStamp-this.pTime<p.interval:!0,z=!this.pCenter||_i(this.pCenter,a.center)<p.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,!z||!T?this.count=1:this.count+=1,this._input=a;var oe=this.count%p.taps;if(oe===0)return this.hasRequireFailures()?(this._timer=S(function(){this.state=Ne,this.tryEmit()},p.interval,this),ye):Ne}return Re},failTimeout:function(){return this._timer=S(function(){this.state=Re},this.options.interval,this),Re},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ne&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Fe(a,p){return p=p||{},p.recognizers=je(p.recognizers,Fe.defaults.preset),new xn(a,p)}Fe.VERSION="2.0.7",Fe.defaults={domEvents:!1,touchAction:yo,enable:!0,inputTarget:null,inputClass:null,preset:[[fn,{enable:!1}],[mn,{enable:!1},["rotate"]],[_n,{direction:Ae}],[wi,{direction:Ae},["swipe"]],[Mi],[Mi,{event:"doubletap",taps:2},["tap"]],[gn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Na=1,Eo=2;function xn(a,p){this.options=U({},Fe.defaults,p||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=ga(this),this.touchAction=new un(this,this.options.touchAction),Po(this,!0),P(this.options.recognizers,function(g){var _=this.add(new g[0](g[1]));g[2]&&_.recognizeWith(g[2]),g[3]&&_.requireFailure(g[3])},this)}xn.prototype={set:function(a){return U(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?Eo:Na},recognize:function(a){var p=this.session;if(!p.stopped){this.touchAction.preventDefaults(a);var g,_=this.recognizers,w=p.curRecognizer;(!w||w&&w.state&Ne)&&(w=p.curRecognizer=null);for(var T=0;T<_.length;)g=_[T],p.stopped!==Eo&&(!w||g==w||g.canRecognizeWith(w))?g.recognize(a):g.reset(),!w&&g.state&(ye|ft|Ke)&&(w=p.curRecognizer=g),T++}},get:function(a){if(a instanceof De)return a;for(var p=this.recognizers,g=0;g<p.length;g++)if(p[g].options.event==a)return p[g];return null},add:function(a){if(O(a,"add",this))return this;var p=this.get(a.options.event);return p&&this.remove(p),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(O(a,"remove",this))return this;if(a=this.get(a),a){var p=this.recognizers,g=Ye(p,a);g!==-1&&(p.splice(g,1),this.touchAction.update())}return this},on:function(a,p){if(a!==e&&p!==e){var g=this.handlers;return P(ut(a),function(_){g[_]=g[_]||[],g[_].push(p)}),this}},off:function(a,p){if(a!==e){var g=this.handlers;return P(ut(a),function(_){p?g[_]&&g[_].splice(Ye(g[_],p),1):delete g[_]}),this}},emit:function(a,p){this.options.domEvents&&Da(a,p);var g=this.handlers[a]&&this.handlers[a].slice();if(!(!g||!g.length)){p.type=a,p.preventDefault=function(){p.srcEvent.preventDefault()};for(var _=0;_<g.length;)g[_](p),_++}},destroy:function(){this.element&&Po(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Po(a,p){var g=a.element;if(g.style){var _;P(a.options.cssProps,function(w,T){_=Ue(g.style,T),p?(a.oldCssProps[_]=g.style[_],g.style[_]=w):g.style[_]=a.oldCssProps[_]||""}),p||(a.oldCssProps={})}}function Da(a,p){var g=i.createEvent("Event");g.initEvent(a,!0,!0),g.gesture=p,p.target.dispatchEvent(g)}U(Fe,{INPUT_START:he,INPUT_MOVE:ot,INPUT_END:Z,INPUT_CANCEL:ge,STATE_POSSIBLE:Ci,STATE_BEGAN:ye,STATE_CHANGED:ft,STATE_ENDED:Ke,STATE_RECOGNIZED:Ne,STATE_CANCELLED:qt,STATE_FAILED:Re,DIRECTION_NONE:gi,DIRECTION_LEFT:Bt,DIRECTION_RIGHT:Lt,DIRECTION_UP:Ut,DIRECTION_DOWN:Nt,DIRECTION_HORIZONTAL:Ae,DIRECTION_VERTICAL:rt,DIRECTION_ALL:co,Manager:xn,Input:Ce,TouchAction:un,TouchInput:bi,MouseInput:xi,PointerEventInput:dn,TouchMouseInput:pn,SingleTouchInput:_o,Recognizer:De,AttrRecognizer:Te,Tap:Mi,Pan:wi,Swipe:_n,Pinch:mn,Rotate:fn,Press:gn,on:se,off:ae,each:P,merge:Oe,extend:J,assign:U,inherit:Y,bindFn:Q,prefixed:Ue});var Fa=typeof o<"u"?o:typeof self<"u"?self:{};Fa.Hammer=Fe,typeof define=="function"&&define.amd?define(function(){return Fe}):typeof qi<"u"&&qi.exports?qi.exports=Fe:o[t]=Fe})(window,document,"Hammer")});var Tt=Si(us(),1);var Lc=["qrcElement"],Di=(()=>{let i=class i{constructor(e,n){this.renderer=e,this.sanitizer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new de,this.context=null}ngOnChanges(){return ne(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(e){return this.allowEmptyString===!1?!(typeof e>"u"||e===""||e==="null"||e===null):!(typeof e>"u")}toDataURL(e){return new Promise((n,r)=>{(0,Tt.toDataURL)(this.qrdata,e,(s,d)=>{s?r(s):n(d)})})}toCanvas(e,n){return new Promise((r,s)=>{(0,Tt.toCanvas)(e,this.qrdata,n,d=>{d?s(d):r("success")})})}toSVG(e){return new Promise((n,r)=>{(0,Tt.toString)(this.qrdata,e,(s,d)=>{s?r(s):n(d)})})}renderElement(e){for(let n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){return ne(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let e={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},n=this.imageSrc,r=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let d=this.renderer.createElement("canvas");this.context=d.getContext("2d"),this.toCanvas(d,e).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(d,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(d,"title",`${this.title}`),n&&this.context){this.centerImage=new Image(s,r),n!==this.centerImage.src&&(this.centerImage.src=n),r!==this.centerImage.height&&(this.centerImage.height=r),s!==this.centerImage.width&&(this.centerImage.width=s);let h=this.centerImage;h&&(h.onload=()=>{this.context?.drawImage(h,d.width/2-s/2,d.height/2-r/2,s,r)})}this.renderElement(d),this.emitQRCodeURL(d)}).catch(h=>{console.error("[angularx-qrcode] canvas error:",h)});break}case"svg":{let d=this.renderer.createElement("div");this.toSVG(e).then(h=>{this.renderer.setProperty(d,"innerHTML",h);let C=d.firstChild;this.renderer.setAttribute(C,"height",`${this.width}`),this.renderer.setAttribute(C,"width",`${this.width}`),this.renderElement(C),this.emitQRCodeURL(C)}).catch(h=>{console.error("[angularx-qrcode] svg error:",h)});break}case"url":case"img":default:{let d=this.renderer.createElement("img");this.toDataURL(e).then(h=>{this.alt&&d.setAttribute("alt",this.alt),this.ariaLabel&&d.setAttribute("aria-label",this.ariaLabel),d.setAttribute("src",h),this.title&&d.setAttribute("title",this.title),this.renderElement(d),this.emitQRCodeURL(d)}).catch(h=>{console.error("[angularx-qrcode] img/url error:",h)})}}}catch(e){console.error("[angularx-qrcode] Error generating QR Code:",e.message)}})}emitQRCodeURL(e){let n=e.constructor.name;if(n===SVGSVGElement.name){let s=e.outerHTML,d=new Blob([s],{type:"image/svg+xml"}),h=URL.createObjectURL(d),C=this.sanitizer.bypassSecurityTrustUrl(h);this.qrCodeURL.emit(C);return}let r="";n===HTMLCanvasElement.name&&(r=e.toDataURL("image/png")),n===HTMLImageElement.name&&(r=e.src),fetch(r).then(s=>s.blob()).then(s=>URL.createObjectURL(s)).then(s=>this.sanitizer.bypassSecurityTrustUrl(s)).then(s=>{this.qrCodeURL.emit(s)}).catch(s=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+s)})}};i.\u0275fac=function(n){return new(n||i)(A(Vo),A(yt))},i.\u0275cmp=V({type:i,selectors:[["qrcode"]],viewQuery:function(n,r){if(n&1&&Ht(Lc,7),n&2){let s;jt(s=Yt())&&(r.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[fe],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,r){n&1&&v(0,"div",null,0),n&2&&Lo(r.cssClass)},encapsulation:2,changeDetection:0});let o=i;return o})(),Fi=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=bt({type:i}),i.\u0275inj=xt({});let o=i;return o})();var nu=Si(fs());var Uc=["wrapper"],Nc=["sourceImage"];function Dc(o,i){if(o&1){let t=I();c(0,"img",5,1),y("load",function(){x(t);let n=f();return b(n.imageLoadedInView())})("mousedown",function(n){x(t);let r=f();return b(r.startMove(n,r.moveTypes.Drag))})("touchstart",function(n){x(t);let r=f();return b(r.startMove(n,r.moveTypes.Drag))})("error",function(n){x(t);let r=f();return b(r.loadImageError(n))}),l()}if(o&2){let t=f();vt("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),Ei("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),M("src",t.safeImgDataUrl,F),vn("alt",t.imageAltText)}}function Fc(o,i){if(o&1){let t=I();Uo(0),c(1,"span",9),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"topleft"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"topleft"))}),v(2,"span",10),l(),c(3,"span",11),v(4,"span",10),l(),c(5,"span",12),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"topright"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"topright"))}),v(6,"span",10),l(),c(7,"span",13),v(8,"span",10),l(),c(9,"span",14),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"bottomright"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"bottomright"))}),v(10,"span",10),l(),c(11,"span",15),v(12,"span",10),l(),c(13,"span",16),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"bottomleft"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"bottomleft"))}),v(14,"span",10),l(),c(15,"span",17),v(16,"span",10),l(),c(17,"span",18),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"top"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"top"))}),l(),c(18,"span",19),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"right"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"right"))}),l(),c(19,"span",20),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"bottom"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"bottom"))}),l(),c(20,"span",21),y("mousedown",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"left"))})("touchstart",function(n){x(t);let r=f(2);return b(r.startMove(n,r.moveTypes.Resize,"left"))}),l(),No()}}function qc(o,i){if(o&1){let t=I();c(0,"div",6),y("keydown",function(n){x(t);let r=f();return b(r.keyboardAccess(n))}),c(1,"div",7),y("mousedown",function(n){x(t);let r=f();return b(r.startMove(n,r.moveTypes.Move))})("touchstart",function(n){x(t);let r=f();return b(r.startMove(n,r.moveTypes.Move))}),l(),E(2,Fc,21,0,"ng-container",8),l()}if(o&2){let t=f();vt("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left",t.alignImage==="center"?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),Ei("ngx-ic-round",t.roundCropper),vn("aria-label",t.cropperFrameAriaLabel),u(2),M("ngIf",!t.hideResizeSquares)}}var jn=class{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(i){Object.keys(i).filter(t=>t in this).forEach(t=>this[t]=i[t]),this.validateOptions()}setOptionsFromChanges(i){Object.keys(i).filter(t=>t in this).forEach(t=>this[t]=i[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}},Pe=function(o){return o.Drag="drag",o.Move="move",o.Resize="resize",o.Pinch="pinch",o}(Pe||{});function Wc(o){switch(o){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function Hc(o){switch(o){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function jc(o,i){switch(o){case"ArrowUp":return{clientX:0,clientY:i*-1};case"ArrowRight":return{clientX:i,clientY:0};case"ArrowDown":return{clientX:0,clientY:i};case"ArrowLeft":default:return{clientX:i*-1,clientY:0}}}function Yc(o,i,t){let e=o.width,n=o.height;i=Math.round(i),t=Math.round(t);let r=e/i,s=n/t,d=Math.ceil(r/2),h=Math.ceil(s/2),C=o.getContext("2d");if(C){let S=C.getImageData(0,0,e,n),O=C.createImageData(i,t),P=S.data,L=O.data;for(let U=0;U<t;U++)for(let J=0;J<i;J++){let Oe=(J+U*i)*4,Y=U*s,Q=0,le=0,je=0,se=0,ae=0,ve=0,me=0,ut=Math.floor(J*r),Ye=Math.floor(U*s),Qe=Math.ceil((J+1)*r),mt=Math.ceil((U+1)*s);Qe=Math.min(Qe,e),mt=Math.min(mt,n);for(let Ue=Ye;Ue<mt;Ue++){let ui=Math.abs(Y-Ue)/h,an=J*r,mi=ui*ui;for(let gt=ut;gt<Qe;gt++){let zt=Math.abs(an-gt)/d,Ge=Math.sqrt(mi+zt*zt);if(Ge>=1)continue;Q=2*Ge*Ge*Ge-3*Ge*Ge+1;let Xe=4*(gt+Ue*e);me+=Q*P[Xe+3],je+=Q,P[Xe+3]<255&&(Q=Q*P[Xe+3]/250),se+=Q*P[Xe],ae+=Q*P[Xe+1],ve+=Q*P[Xe+2],le+=Q}}L[Oe]=se/le,L[Oe+1]=ae/le,L[Oe+2]=ve/le,L[Oe+3]=me/je}o.width=i,o.height=t,C.putImageData(O,0,0)}}function _s(o,i){return o/100*i}var Qc=(()=>{let i=class i{crop(e,n,r,s,d){let h=this.getImagePosition(e,n,r,d),C=h.x2-h.x1,S=h.y2-h.y1,O=document.createElement("canvas");O.width=C,O.height=S;let P=O.getContext("2d");if(!P)return null;r.backgroundColor!=null&&(P.fillStyle=r.backgroundColor,P.fillRect(0,0,C,S));let L=(r.transform.scale||1)*(r.transform.flipH?-1:1),U=(r.transform.scale||1)*(r.transform.flipV?-1:1),{translateH:J,translateV:Oe}=this.getCanvasTranslate(e,r,d),Y=e.transformed;P.setTransform(L,0,0,U,Y.size.width/2+J,Y.size.height/2+Oe),P.translate(-h.x1/L,-h.y1/U),P.rotate((r.transform.rotate||0)*Math.PI/180),P.drawImage(Y.image,-Y.size.width/2,-Y.size.height/2);let Q={width:C,height:S,imagePosition:h,cropperPosition:ke({},n)};r.containWithinAspectRatio&&(Q.offsetImagePosition=this.getOffsetImagePosition(e,n,r,d));let le=this.getResizeRatio(C,S,r);return le!==1&&(Q.width=Math.round(C*le),Q.height=r.maintainAspectRatio?Math.round(Q.width/r.aspectRatio):Math.round(S*le),Yc(O,Q.width,Q.height)),s==="blob"?this.cropToBlob(Q,O,r):(Q.base64=O.toDataURL("image/"+r.format,this.getQuality(r)),Q)}cropToBlob(e,n,r){return ne(this,null,function*(){return e.blob=yield new Promise(s=>n.toBlob(s,"image/"+r.format,this.getQuality(r))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e,n,r){if(n.transform.translateUnit==="px"){let s=this.getRatio(e,r);return{translateH:(n.transform.translateH||0)*s,translateV:(n.transform.translateV||0)*s}}else return{translateH:n.transform.translateH?_s(n.transform.translateH,e.transformed.size.width):0,translateV:n.transform.translateV?_s(n.transform.translateV,e.transformed.size.height):0}}getRatio(e,n){return e.transformed.size.width/n.width}getImagePosition(e,n,r,s){let d=this.getRatio(e,s),h={x1:Math.round(n.x1*d),y1:Math.round(n.y1*d),x2:Math.round(n.x2*d),y2:Math.round(n.y2*d)};return r.containWithinAspectRatio||(h.x1=Math.max(h.x1,0),h.y1=Math.max(h.y1,0),h.x2=Math.min(h.x2,e.transformed.size.width),h.y2=Math.min(h.y2,e.transformed.size.height)),h}getOffsetImagePosition(e,n,r,s){let d=r.canvasRotation+e.exifTransform.rotate,h=this.getRatio(e,s),C,S;d%2?(C=(e.transformed.size.width-e.original.size.height)/2,S=(e.transformed.size.height-e.original.size.width)/2):(C=(e.transformed.size.width-e.original.size.width)/2,S=(e.transformed.size.height-e.original.size.height)/2);let O={x1:Math.round(n.x1*h)-C,y1:Math.round(n.y1*h)-S,x2:Math.round(n.x2*h)-C,y2:Math.round(n.y2*h)-S};return r.containWithinAspectRatio||(O.x1=Math.max(O.x1,0),O.y1=Math.max(O.y1,0),O.x2=Math.min(O.x2,e.transformed.size.width),O.y2=Math.min(O.y2,e.transformed.size.height)),O}getResizeRatio(e,n,r){let s=r.resizeToWidth/e,d=r.resizeToHeight/n,h=new Array;r.resizeToWidth>0&&h.push(s),r.resizeToHeight>0&&h.push(d);let C=h.length===0?1:Math.min(...h);return C>1&&!r.onlyScaleDown?C:Math.min(C,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=_t({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),Gc=(()=>{let i=class i{resetCropperPosition(e,n,r,s){if(e?.nativeElement)if(r.cropperStaticHeight&&r.cropperStaticWidth)n.x1=0,n.x2=s.width>r.cropperStaticWidth?r.cropperStaticWidth:s.width,n.y1=0,n.y2=s.height>r.cropperStaticHeight?r.cropperStaticHeight:s.height;else{let d=Math.min(r.cropperScaledMaxWidth,s.width),h=Math.min(r.cropperScaledMaxHeight,s.height);if(!r.maintainAspectRatio)n.x1=0,n.x2=d,n.y1=0,n.y2=h;else if(s.width/r.aspectRatio<s.height){n.x1=0,n.x2=d;let C=d/r.aspectRatio;n.y1=(s.height-C)/2,n.y2=n.y1+C}else{n.y1=0,n.y2=h;let C=h*r.aspectRatio;n.x1=(s.width-C)/2,n.x2=n.x1+C}}}move(e,n,r){let s=this.getClientX(e)-n.clientX,d=this.getClientY(e)-n.clientY;r.x1=n.x1+s,r.y1=n.y1+d,r.x2=n.x2+s,r.y2=n.y2+d}resize(e,n,r,s,d){let h=this.getClientX(e)-n.clientX,C=this.getClientY(e)-n.clientY;switch(n.position){case"left":r.x1=Math.min(Math.max(n.x1+h,r.x2-d.cropperScaledMaxWidth),r.x2-d.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(n.x1+h,r.x2-d.cropperScaledMaxWidth),r.x2-d.cropperScaledMinWidth),r.y1=Math.min(Math.max(n.y1+C,r.y2-d.cropperScaledMaxHeight),r.y2-d.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(n.y1+C,r.y2-d.cropperScaledMaxHeight),r.y2-d.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(n.x2+h,r.x1+d.cropperScaledMaxWidth),r.x1+d.cropperScaledMinWidth),r.y1=Math.min(Math.max(n.y1+C,r.y2-d.cropperScaledMaxHeight),r.y2-d.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(n.x2+h,r.x1+d.cropperScaledMaxWidth),r.x1+d.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(n.x2+h,r.x1+d.cropperScaledMaxWidth),r.x1+d.cropperScaledMinWidth),r.y2=Math.max(Math.min(n.y2+C,r.y1+d.cropperScaledMaxHeight),r.y1+d.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(n.y2+C,r.y1+d.cropperScaledMaxHeight),r.y1+d.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(n.x1+h,r.x2-d.cropperScaledMaxWidth),r.x2-d.cropperScaledMinWidth),r.y2=Math.max(Math.min(n.y2+C,r.y1+d.cropperScaledMaxHeight),r.y1+d.cropperScaledMinHeight);break;case"center":let S=e.scale,O=Math.min(Math.max(d.cropperScaledMinWidth,Math.abs(n.x2-n.x1)*S),d.cropperScaledMaxWidth),P=Math.min(Math.max(d.cropperScaledMinHeight,Math.abs(n.y2-n.y1)*S),d.cropperScaledMaxHeight);r.x1=n.clientX-O/2,r.x2=n.clientX+O/2,r.y1=n.clientY-P/2,r.y2=n.clientY+P/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>s.width&&(r.x1-=r.x2-s.width,r.x2=s.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>s.height&&(r.y1-=r.y2-s.height,r.y2=s.height);break}d.maintainAspectRatio&&this.checkAspectRatio(n.position,r,s,d)}checkAspectRatio(e,n,r,s){let d=0,h=0;switch(e){case"top":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,d=Math.max(n.x2-r.width,0),h=Math.max(0-n.y1,0),(d>0||h>0)&&(n.x2-=h*s.aspectRatio>d?h*s.aspectRatio:d,n.y1+=h*s.aspectRatio>d?h:d/s.aspectRatio);break;case"bottom":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,d=Math.max(n.x2-r.width,0),h=Math.max(n.y2-r.height,0),(d>0||h>0)&&(n.x2-=h*s.aspectRatio>d?h*s.aspectRatio:d,n.y2-=h*s.aspectRatio>d?h:d/s.aspectRatio);break;case"topleft":n.y1=n.y2-(n.x2-n.x1)/s.aspectRatio,d=Math.max(0-n.x1,0),h=Math.max(0-n.y1,0),(d>0||h>0)&&(n.x1+=h*s.aspectRatio>d?h*s.aspectRatio:d,n.y1+=h*s.aspectRatio>d?h:d/s.aspectRatio);break;case"topright":n.y1=n.y2-(n.x2-n.x1)/s.aspectRatio,d=Math.max(n.x2-r.width,0),h=Math.max(0-n.y1,0),(d>0||h>0)&&(n.x2-=h*s.aspectRatio>d?h*s.aspectRatio:d,n.y1+=h*s.aspectRatio>d?h:d/s.aspectRatio);break;case"right":case"bottomright":n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio,d=Math.max(n.x2-r.width,0),h=Math.max(n.y2-r.height,0),(d>0||h>0)&&(n.x2-=h*s.aspectRatio>d?h*s.aspectRatio:d,n.y2-=h*s.aspectRatio>d?h:d/s.aspectRatio);break;case"left":case"bottomleft":n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio,d=Math.max(0-n.x1,0),h=Math.max(n.y2-r.height,0),(d>0||h>0)&&(n.x1+=h*s.aspectRatio>d?h*s.aspectRatio:d,n.y2-=h*s.aspectRatio>d?h:d/s.aspectRatio);break;case"center":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio;let C=Math.max(0-n.x1,0),S=Math.max(n.x2-r.width,0),O=Math.max(n.y2-r.height,0),P=Math.max(0-n.y1,0);(C>0||S>0||O>0||P>0)&&(n.x1+=O*s.aspectRatio>C?O*s.aspectRatio:C,n.x2-=P*s.aspectRatio>S?P*s.aspectRatio:S,n.y1+=P*s.aspectRatio>S?P:S/s.aspectRatio,n.y2-=O*s.aspectRatio>C?O:C/s.aspectRatio);break}}getClientX(e){return"touches"in e&&e.touches[0]?e.touches[0].clientX:"clientX"in e?e.clientX:0}getClientY(e){return"touches"in e&&e.touches[0]?e.touches[0].clientY:"clientX"in e?e.clientY:0}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=_t({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),Xc="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function Kc(){return new Promise(o=>{let i=new Image;i.onload=()=>{let t=i.width===1&&i.height===2;o(t)},i.src=Xc})}function Jc(o){switch(typeof o=="object"&&(o=$c(o)),o){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function $c(o){let i=new DataView(o);if(i.getUint16(0,!1)!==65496)return-2;let t=i.byteLength,e=2;for(;e<t;){if(i.getUint16(e+2,!1)<=8)return-1;let n=i.getUint16(e,!1);if(e+=2,n==65505){if(i.getUint32(e+=2,!1)!==1165519206)return-1;let r=i.getUint16(e+=6,!1)==18761;e+=i.getUint32(e+4,r);let s=i.getUint16(e,r);e+=2;for(let d=0;d<s;d++)if(i.getUint16(e+d*12,r)==274)return i.getUint16(e+d*12+8,r)}else{if((n&65280)!==65280)break;e+=i.getUint16(e,!1)}}return-1}var Zc=(()=>{let i=class i{constructor(){this.autoRotateSupported=Kc()}loadImageFile(e,n){return ne(this,null,function*(){let r=yield e.arrayBuffer();return yield this.checkImageTypeAndLoadImageFromArrayBuffer(r,e.type,n)})}checkImageTypeAndLoadImageFromArrayBuffer(e,n,r){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(e,r,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,n){return ne(this,null,function*(){let s=yield(yield fetch(e)).blob(),d=yield s.arrayBuffer();return yield this.loadImageFromArrayBuffer(d,n,s.type)})}loadBase64Image(e,n){let r=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(r,n)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let n=atob(e),r=n.length,s=new Uint8Array(r);for(let d=0;d<r;d++)s[d]=n.charCodeAt(d);return s.buffer}loadImageFromArrayBuffer(e,n,r){return ne(this,null,function*(){let s=yield new Promise((d,h)=>ne(this,null,function*(){try{let C=new Blob([e],r?{type:r}:void 0),S=URL.createObjectURL(C),O=new Image,L=r==="image/svg+xml"?yield this.getSvgImageSize(C):void 0;O.onload=()=>d({originalImage:O,originalImageSize:L,originalObjectUrl:S,originalArrayBuffer:e}),O.onerror=h,O.src=S}catch(C){h(C)}}));return yield this.transformImageFromArrayBuffer(s,n,s.originalImageSize!=null)})}getSvgImageSize(e){return ne(this,null,function*(){let s=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!s)throw Error("Failed to parse SVG image");let d=s.getAttribute("width"),h=s.getAttribute("height");if(d&&h)return null;let C=s.getAttribute("viewBox")||s.getAttribute("viewbox");if(C){let S=C.split(" ");return{width:+S[2],height:+S[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,n,r=!1){return ne(this,null,function*(){let s=yield this.autoRotateSupported,d=Jc(s?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let h={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:d};return this.transformLoadedImage(h,n,r)})}transformLoadedImage(e,n,r=!1){return ne(this,null,function*(){let s=n.canvasRotation+e.exifTransform.rotate,d=e.original.size;if(!r&&s===0&&!e.exifTransform.flip&&!n.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:ke({},d)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:ke({},d)},exifTransform:e.exifTransform};let h=this.getTransformedSize(d,e.exifTransform,n),C=document.createElement("canvas");C.width=h.width,C.height=h.height;let S=C.getContext("2d");S?.setTransform(e.exifTransform.flip?-1:1,0,0,1,C.width/2,C.height/2),S?.rotate(Math.PI*(s/2)),S?.drawImage(e.original.image,-d.width/2,-d.height/2);let O=yield new Promise(U=>C.toBlob(U,n.format));if(!O)throw new Error("Failed to get Blob for transformed image.");let P=URL.createObjectURL(O),L=yield this.loadImageFromObjectUrl(P);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:ke({},d)},transformed:{objectUrl:P,image:L,size:{width:L.width,height:L.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((n,r)=>{let s=new Image;s.onload=()=>n(s),s.onerror=r,s.src=e})}getTransformedSize(e,n,r){let s=r.canvasRotation+n.rotate;if(r.containWithinAspectRatio)if(s%2){let d=e.width*r.aspectRatio,h=e.height/r.aspectRatio;return{width:Math.max(e.height,d),height:Math.max(e.width,h)}}else{let d=e.height*r.aspectRatio,h=e.width/r.aspectRatio;return{width:Math.max(e.width,d),height:Math.max(e.height,h)}}return s%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=_t({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),Wi=(()=>{let i=class i{constructor(e,n,r,s,d,h,C){this.cropService=e,this.cropperPositionService=n,this.loadImageService=r,this.sanitizer=s,this.cd=d,this.zone=h,this.hammerLoader=C,this.settings=new jn,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Pe,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new de,this.startCropImage=new de,this.imageLoaded=new de,this.cropperReady=new de,this.loadImageFailed=new de,this.transformChange=new de,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage?.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(this.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(e.maintainAspectRatio||e.aspectRatio)?this.resetCropperPosition():e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop())),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let e=this.imageChangedEvent?.target?.files;return e instanceof FileList&&e.length>0}setCssTransform(){let e=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${e}, ${this.transform.translateV||0}${e}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.objectUrl),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){this.loadedImage!=null&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(ke({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let e=ke({},this.maxSize);this.setMaxSize(),this.resizeCropperPosition(e),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){return ne(this,null,function*(){yield this.hammerLoader?.();let e=window?.Hammer||null;if(e){let n=new e(this.wrapper.nativeElement);n.get("pinch").set({enable:!0}),n.on("pinchmove",this.onPinch.bind(this)),n.on("pinchend",this.pinchStop.bind(this)),n.on("pinchstart",this.startPinch.bind(this))}else qo()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/e.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/e.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/e.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/e.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){let n=+e.key;n>=1&&n<=9&&(this.settings.stepSize=n)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;let r=e.shiftKey?Pe.Resize:Pe.Move,s=e.altKey?Hc(e.key):Wc(e.key),d=jc(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},r,s),this.handleMouseMove(d),this.handleMouseUp()}startMove(e,n,r=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===Pe.Pinch||n===Pe.Drag&&!this.allowMoveImage||("preventDefault"in e&&e.preventDefault(),this.moveStart=ke({active:!0,type:n,position:r,transform:ke({},this.transform),clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper),this.initMouseMove())}initMouseMove(){bn(Wt(document,"mousemove"),Wt(document,"touchmove")).pipe(Ro(bn(Wt(document,"mouseup"),Wt(document,"touchend")).pipe(Ao()))).subscribe({next:e=>this.zone.run(()=>{this.handleMouseMove(e),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart=ke({active:!0,type:Pe.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}handleMouseMove(e){if(this.moveStart.active){if("stopPropagation"in e&&e.stopPropagation(),"preventDefault"in e&&e.preventDefault(),this.moveStart.type===Pe.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Pe.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Pe.Drag){let n=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,r=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform=Oo(ke({},this.transform),{translateH:(this.moveStart.transform?.translateH||0)+n,translateV:(this.moveStart.transform?.translateV||0)+r}),this.setCssTransform()}}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===Pe.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){let e=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(e.width),this.maxSize.height=parseFloat(e.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===Pe.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(e=this.settings.output){if(this.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),e==="blob")return this.cropToBlob();if(e==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((e,n)=>this.zone.run(()=>ne(this,null,function*(){let r=yield this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);r?(this.imageCropped.emit(r),e(r)):n("Crop image failed")})))}cropToBase64(){let e=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return e?(this.imageCropped.emit(e),e):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}};i.\u0275fac=function(n){return new(n||i)(A(Qc),A(Gc),A(Zc),A(yt),A(Wo),A(Bo),A(jo,8))},i.\u0275cmp=V({type:i,selectors:[["image-cropper"]],viewQuery:function(n,r){if(n&1&&(Ht(Uc,7),Ht(Nc,5)),n&2){let s;jt(s=Yt())&&(r.wrapper=s.first),jt(s=Yt())&&(r.sourceImage=s.first)}},hostVars:6,hostBindings:function(n,r){n&1&&y("resize",function(){return r.onResize()},!1,zo),n&2&&(vt("text-align",r.alignImage),Ei("disabled",r.disabled)("ngx-ix-hidden",r.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},standalone:!0,features:[fe,Je],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(n,r){n&1&&(c(0,"div",null,0),E(2,Dc,2,8,"img",2),v(3,"div",3),E(4,qc,3,16,"div",4),l()),n&2&&(vt("background",r.imageVisible&&r.backgroundColor),u(2),M("ngIf",r.safeImgDataUrl),u(),vt("width",r.maxSize.width,"px")("height",r.maxSize.height,"px")("margin-left",r.alignImage==="center"?r.marginLeft:null),u(),M("ngIf",r.imageVisible))},dependencies:[_e],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0});let o=i;return o})();var tl=o=>({visibility:o}),xs=o=>({circular:o});function il(o,i){if(o&1){let t=I();c(0,"image-cropper",7),y("imageCropped",function(n){x(t);let r=f();return b(r.imageCropped(n))})("imageLoaded",function(){x(t);let n=f();return b(n.imageLoaded())})("cropperReady",function(){x(t);let n=f();return b(n.cropperReady())})("loadImageFailed",function(){x(t);let n=f();return b(n.loadImageFailed())}),l()}if(o&2){let t=f();M("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("output","base64")("aspectRatio",t.ratio)}}function nl(o,i){if(o&1&&v(0,"img",11),o&2){let t=f(2);W("src",t.previewUrl,F),M("ngClass",ee(2,xs,t.shape=="circular"))}}function ol(o,i){if(o&1&&v(0,"img",12),o&2){let t=f(2);M("ngClass",ee(1,xs,t.shape=="circular"))}}function rl(o,i){if(o&1&&(c(0,"div",8),E(1,nl,1,4,"img",9)(2,ol,1,3,"img",10),l()),o&2){let t=f();u(),M("ngIf",t.previewUrl),u(),M("ngIf",!t.previewUrl)}}function sl(o,i){if(o&1){let t=I();c(0,"div",13)(1,"button",14),y("click",function(){x(t);let n=f();return b(n.cancelImageOnAdd())}),m(2,"CANCEL"),l(),c(3,"button",15),y("click",function(){x(t);let n=f();return b(n.setImageOnAdd())}),m(4,"SAVE"),l()()}}var bs=(()=>{let i=class i{constructor(e){this.sanitizer=e,this.imageLoadedEvent=new de,this.cropperActiveEvent=new de,this.image_is_preview=!1}ngOnChanges(){this.previewUrlo=this.previewUrl}fileChangeEvent(e){this.imageChangedEvent=e,this.cropperActiveEvent.emit(!0)}imageCropped(e){this.croppedImage=e.base64,this.previewUrl=e.base64,this.image_is_preview=!0}imageLoaded(){}cropperReady(){}loadImageFailed(){}cancelImageOnAdd(){this.imageChangedEvent=void 0,this.previewUrl=this.previewUrlo,this.imageLoadedEvent.emit(this.previewUrl)}setImageOnAdd(){this.previewUrl=this.croppedImage,console.log("this.previewUrl",this.previewUrl),this.imageChangedEvent=void 0,this.imageLoadedEvent.emit(this.previewUrl),this.cropperActiveEvent.emit(!1)}};i.\u0275fac=function(n){return new(n||i)(A(yt))},i.\u0275cmp=V({type:i,selectors:[["app-profile-image-upload"]],inputs:{previewUrl:"previewUrl",ratio:"ratio",shape:"shape"},outputs:{imageLoadedEvent:"imageLoadedEvent",cropperActiveEvent:"cropperActiveEvent"},features:[fe],decls:8,vars:6,consts:[[1,"form-group",2,"margin-bottom","0"],[1,"btn","btn-default","button_secondary",3,"ngStyle"],[1,"fa","fa-image"],["type","file","name","image",2,"display","none",3,"change"],["format","png","class","image_cropper_container",3,"imageChangedEvent","maintainAspectRatio","output","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed",4,"ngIf"],["class","image_container",4,"ngIf"],["class","text-center","style","padding:40px 0;",4,"ngIf"],["format","png",1,"image_cropper_container",3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","imageChangedEvent","maintainAspectRatio","output","aspectRatio"],[1,"image_container"],["class","image_preview_on_edit",3,"src","ngClass",4,"ngIf"],["src","../../../../assets/images/noimage.png","class","image_preview_on_edit",3,"ngClass",4,"ngIf"],[1,"image_preview_on_edit",3,"src","ngClass"],["src","../../../../assets/images/noimage.png",1,"image_preview_on_edit",3,"ngClass"],[1,"text-center",2,"padding","40px 0"],[1,"btn","btn-default","button_secondary",2,"margin","0 5px",3,"click"],[1,"btn","btn-default","button_primary",2,"margin","0 5px",3,"click"]],template:function(n,r){n&1&&(c(0,"div",0)(1,"label",1),v(2,"i",2),m(3,"\xA0Upload image"),c(4,"input",3),y("change",function(d){return r.fileChangeEvent(d)}),l()()(),E(5,il,1,4,"image-cropper",4)(6,rl,3,2,"div",5)(7,sl,5,0,"div",6)),n&2&&(u(),M("ngStyle",ee(4,tl,r.imageChangedEvent?"hidden":"visible")),u(4),M("ngIf",r.imageChangedEvent),u(),M("ngIf",!r.imageChangedEvent),u(),M("ngIf",r.imageChangedEvent))},dependencies:[we,_e,Pi,Wi],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.image_cropper_container[_ngcontent-%COMP%]{width:250px;margin:auto}.image_preview_on_edit[_ngcontent-%COMP%]{height:125px;width:125px;display:block;margin:auto;object-fit:cover;object-position:center;border:solid 1px lightgrey;border-radius:50%}.image_container[_ngcontent-%COMP%]{padding:20px 0}']});let o=i;return o})();function ll(o,i){o&1&&(c(0,"div",2)(1,"em"),m(2,"You can edit or modify your account settings here. Your profile image is shown on the leaderboard table, make it a good one!"),l()())}function dl(o,i){o&1&&(c(0,"div",2)(1,"em"),m(2,"You can edit or modify your account settings here."),l()())}function pl(o,i){if(o&1){let t=I();c(0,"i",37),y("click",function(){x(t);let n=f(3);return b(n.editProfileImage())}),l()}}function hl(o,i){if(o&1&&(c(0,"div",28),v(1,"img",35),E(2,pl,1,0,"i",36),l()),o&2){let t=f(2);u(),W("src",t.user.image,F),u(),M("ngIf",t.user)}}function ul(o,i){o&1&&(c(0,"span"),v(1,"i",38),l())}function ml(o,i){o&1&&(c(0,"span"),v(1,"i",39),l())}function gl(o,i){if(o&1){let t=I();c(0,"div",26)(1,"div",27),E(2,hl,3,2,"div",28),c(3,"ul",29)(4,"li",30),m(5),c(6,"span")(7,"button",31),y("click",function(){x(t);let n=f();return b(n.showEditName())}),m(8,"Edit"),l()()(),c(9,"li",30),m(10),E(11,ul,2,0,"span",32)(12,ml,2,0,"span",32),c(13,"span")(14,"button",31),y("click",function(){x(t);let n=f();return b(n.showEditEmail())}),m(15),l()()(),c(16,"li",30),m(17,"Password "),c(18,"span")(19,"button",31),y("click",function(){x(t);let n=f();return b(n.showEditPassword())}),m(20,"Edit"),l()()(),c(21,"li",33),y("click",function(){x(t);let n=f();return b(n.logout())}),m(22,"Logout "),l(),c(23,"li",34),y("click",function(){x(t);let n=f();return b(n.confirmDelete())}),m(24,"Delete Account "),l()()()()}if(o&2){let t=f();u(2),R(2,t.user.account_type=="player"?2:-1),u(3),N("",t.user.username," "),u(5),N("",t.user.email," \xA0 "),u(),M("ngIf",t.user.email_has_been_verified==!0),u(),M("ngIf",t.user.email_has_been_verified!=!0),u(3),N(" ",t.user.email_has_been_verified==!0?"Edit":"Verify"," ")}}function fl(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(2);u(),k(t.invalid_user_name)}}function _l(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("editNameModal"))}),v(2,"i",19),l(),c(3,"h1",40),m(4,"Edit Username"),l(),c(5,"div",41)(6,"input",23),K("ngModelChange",function(n){x(t);let r=f();return X(r.user_name,n)||(r.user_name=n),b(n)}),y("ngModelChange",function(){x(t);let n=f();return b(n.clearAlerts())}),l()(),E(7,fl,2,1,"div",42),c(8,"div",24)(9,"button",43),y("click",function(){x(t);let n=f();return b(n.saveName())}),m(10,"SAVE"),l()()()}if(o&2){let t=f();u(6),G("ngModel",t.user_name),u(),M("ngIf",t.invalid_user_name)}}function xl(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(3);u(),k(t.invalid_user_email)}}function bl(o,i){if(o&1){let t=I();c(0,"div",48)(1,"h1",40),m(2,"Edit Email"),l(),c(3,"div",49)(4,"input",23),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.user_email,n)||(r.user_email=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.clearAlerts())}),l()(),E(5,xl,2,1,"div",42),c(6,"p",50),v(7,"i",51),m(8,"\xA0Editing will require verification"),l()()}if(o&2){let t=f(2);u(4),G("ngModel",t.user_email),u(),M("ngIf",t.invalid_user_email)}}function vl(o,i){o&1&&(c(0,"div",44),m(1,"Code is incorrect"),l())}function Cl(o,i){if(o&1){let t=I();c(0,"div",52)(1,"p"),m(2,"Please enter the verification code that was sent to "),c(3,"em"),m(4),l()(),c(5,"div",53)(6,"input",54),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_1e,n)||(r.digit_1e=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodeEmail(1))}),l(),c(7,"input",55),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_2e,n)||(r.digit_2e=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodeEmail(2))}),l(),c(8,"input",56),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_3e,n)||(r.digit_3e=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodeEmail(3))}),l(),c(9,"input",57),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_4e,n)||(r.digit_4e=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodeEmail(4))}),l(),c(10,"input",58),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_5e,n)||(r.digit_5e=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodeEmail(5))}),l(),c(11,"input",59),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_6e,n)||(r.digit_6e=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodeEmail(6))}),l()(),c(12,"div",60)(13,"input",23),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digits,n)||(r.digits=n),b(n)}),l()(),E(14,vl,2,0,"div",42),l()}if(o&2){let t=f(2);u(4),k(t.user.email),u(2),G("ngModel",t.digit_1e),u(),G("ngModel",t.digit_2e),u(),G("ngModel",t.digit_3e),u(),G("ngModel",t.digit_4e),u(),G("ngModel",t.digit_5e),u(),G("ngModel",t.digit_6e),u(2),G("ngModel",t.digits),u(),M("ngIf",t.email_verification_code_failed==!0)}}function yl(o,i){if(o&1){let t=I();c(0,"button",43),y("click",function(){x(t);let n=f(2);return b(n.verifyEmail())}),m(1,"VERIFY"),l()}}function wl(o,i){if(o&1){let t=I();c(0,"button",43),y("click",function(){x(t);let n=f(2);return b(n.submitEmailVerificationCode())}),m(1,"SUBMIT"),l()}}function Ml(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("editEmailModal"))}),v(2,"i",19),l(),E(3,bl,9,2,"div",45)(4,Cl,15,9,"div",46),c(5,"div",24),E(6,yl,2,0,"button",47)(7,wl,2,0,"button",47),l()()}if(o&2){let t=f();u(3),M("ngIf",t.email_change_step==1),u(),M("ngIf",t.email_change_step==2),u(2),M("ngIf",t.email_change_step==1),u(),M("ngIf",t.email_change_step==2)}}function Sl(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(3);u(),k(t.invalid_user_phone)}}function El(o,i){if(o&1){let t=I();c(0,"div",48)(1,"h1",40),m(2,"Phone Verification"),l(),c(3,"p"),m(4,"Add a phone number to your account to receive notifications. "),l(),c(5,"div",49)(6,"label"),m(7,"Mobile number"),l(),v(8,"br"),c(9,"input",23),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.user_phone,n)||(r.user_phone=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.clearAlerts())}),l(),E(10,Sl,2,1,"div",42),l()()}if(o&2){let t=f(2);u(9),G("ngModel",t.user_phone),u(),M("ngIf",t.invalid_user_phone)}}function Pl(o,i){if(o&1){let t=I();c(0,"div",52)(1,"p"),m(2,"Please enter the verification code that was sent to "),c(3,"em"),m(4),l()(),c(5,"div",53)(6,"input",63),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_1p,n)||(r.digit_1p=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodePhone(1))}),l(),c(7,"input",64),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_2p,n)||(r.digit_2p=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodePhone(2))}),l(),c(8,"input",65),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_3p,n)||(r.digit_3p=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodePhone(3))}),l(),c(9,"input",66),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_4p,n)||(r.digit_4p=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodePhone(4))}),l(),c(10,"input",67),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_5p,n)||(r.digit_5p=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodePhone(5))}),l(),c(11,"input",68),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digit_6p,n)||(r.digit_6p=n),b(n)}),y("ngModelChange",function(){x(t);let n=f(2);return b(n.evalAccessCodePhone(6))}),l()(),c(12,"div",60)(13,"input",23),K("ngModelChange",function(n){x(t);let r=f(2);return X(r.digits,n)||(r.digits=n),b(n)}),l()()()}if(o&2){let t=f(2);u(4),k(t.user_phone),u(2),G("ngModel",t.digit_1p),u(),G("ngModel",t.digit_2p),u(),G("ngModel",t.digit_3p),u(),G("ngModel",t.digit_4p),u(),G("ngModel",t.digit_5p),u(),G("ngModel",t.digit_6p),u(2),G("ngModel",t.digits)}}function Ol(o,i){if(o&1){let t=I();c(0,"button",69),y("click",function(){x(t);let n=f(2);return b(n.sendPhoneCode())}),m(1,"SEND CODE"),l()}}function Tl(o,i){if(o&1){let t=I();c(0,"button",69),y("click",function(){x(t);let n=f(2);return b(n.confirmPhoneCode())}),m(1,"CONFIRM"),l()}}function kl(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("editPhoneModal"))}),v(2,"i",19),l(),E(3,El,11,2,"div",45)(4,Pl,14,8,"div",46),c(5,"div",24)(6,"button",61),y("click",function(){x(t);let n=f();return b(n.closeModal("editPhoneModal"))}),m(7,"CANCEL"),l(),E(8,Ol,2,0,"button",62)(9,Tl,2,0,"button",62),l()()}if(o&2){let t=f();u(3),M("ngIf",t.phone_change_step==1),u(),M("ngIf",t.phone_change_step==2),u(4),M("ngIf",t.phone_change_step==1),u(),M("ngIf",t.phone_change_step==2)}}function Il(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(2);u(),k(t.invalid_user_zipcode)}}function Al(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("editLocationModal"))}),v(2,"i",19),l(),c(3,"h1",40),m(4,"Set Location"),l(),c(5,"p"),m(6,"Set your location so we can personalize your experience showing you distance to certain classes"),l(),c(7,"div",70)(8,"label"),m(9,"Zip Code"),l(),v(10,"br"),c(11,"input",71),K("ngModelChange",function(n){x(t);let r=f();return X(r.user_zipcode,n)||(r.user_zipcode=n),b(n)}),y("ngModelChange",function(){x(t);let n=f();return n.evalZipCode(),b(n.clearAlerts())}),l(),E(12,Il,2,1,"div",42),c(13,"p",72),m(14),l()(),c(15,"div",24)(16,"button",69),y("click",function(){x(t);let n=f();return b(n.saveZipCode())}),m(17,"SAVE"),l()()()}if(o&2){let t=f();u(11),G("ngModel",t.user_zipcode),u(),M("ngIf",t.invalid_user_zipcode),u(2),re("",t.location.city,", ",t.location.state,"")}}function Rl(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(2);u(),k(t.invalid_password_current)}}function zl(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(2);u(),k(t.invalid_password_new)}}function Vl(o,i){if(o&1&&(c(0,"div",44),m(1),l()),o&2){let t=f(2);u(),N("",t.invalid_password_new_confirm," ")}}function Bl(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("editPasswordModal"))}),v(2,"i",19),l(),c(3,"h1",40),m(4,"Reset Password"),l(),c(5,"div",73)(6,"label"),m(7,"Current Password"),l(),v(8,"br"),c(9,"input",74),K("ngModelChange",function(n){x(t);let r=f();return X(r.password_current,n)||(r.password_current=n),b(n)}),y("ngModelChange",function(){x(t);let n=f();return b(n.clearAlerts())}),l()(),E(10,Rl,2,1,"div",42),c(11,"div",49)(12,"label"),m(13,"New Password"),l(),v(14,"br"),c(15,"input",74),K("ngModelChange",function(n){x(t);let r=f();return X(r.password_new,n)||(r.password_new=n),b(n)}),y("ngModelChange",function(){x(t);let n=f();return b(n.clearAlerts())}),l(),E(16,zl,2,1,"div",42),c(17,"label"),m(18,"Confirm Password"),l(),v(19,"br"),c(20,"input",74),K("ngModelChange",function(n){x(t);let r=f();return X(r.password_new_confirm,n)||(r.password_new_confirm=n),b(n)}),y("ngModelChange",function(){x(t);let n=f();return b(n.clearAlerts())}),l(),E(21,Vl,2,1,"div",42),l(),c(22,"div",24)(23,"button",69),y("click",function(){x(t);let n=f();return b(n.savePassword())}),m(24,"SUBMIT"),l()()()}if(o&2){let t=f();u(9),G("ngModel",t.password_current),u(),M("ngIf",t.invalid_password_current),u(5),G("ngModel",t.password_new),u(),M("ngIf",t.invalid_password_new),u(4),G("ngModel",t.password_new_confirm),u(),M("ngIf",t.invalid_password_new_confirm)}}function Ll(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("emailVerificationSuccessModal"))}),v(2,"i",19),l(),c(3,"p",75),m(4,"Thank you! Your email has been verified successfully."),l(),c(5,"div",24)(6,"button",69),y("click",function(){x(t);let n=f();return b(n.closeModal("emailVerificationSuccessModal"))}),m(7,"OK"),l()()()}}function Ul(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("phoneVerificationSuccessModal"))}),v(2,"i",19),l(),c(3,"p",75),m(4,"Thank you! Your phone has been verified successfully."),l(),c(5,"div",24)(6,"button",69),y("click",function(){x(t);let n=f();return b(n.closeModal("phoneVerificationSuccessModal"))}),m(7,"OK"),l()()()}}function Nl(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("changePasswordSuccessModal"))}),v(2,"i",19),l(),c(3,"p",75),m(4,"Your password has been changed."),l(),c(5,"div",24)(6,"button",69),y("click",function(){x(t);let n=f();return b(n.closeModal("changePasswordSuccessModal"))}),m(7,"OK"),l()()()}}function Dl(o,i){if(o&1){let t=I();c(0,"div",24)(1,"button",69),y("click",function(){x(t);let n=f(2);return b(n.closeModal("profileImageModal"))}),m(2,"OK"),l()()}}function Fl(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("profileImageModal"))}),v(2,"i",19),l(),c(3,"app-profile-image-upload",76),y("imageLoadedEvent",function(n){x(t);let r=f();return b(r.saveProfileImage(n))})("cropperActiveEvent",function(n){x(t);let r=f();return b(r.setCropperActive(n))}),l(),E(4,Dl,3,0,"div",77),l()}if(o&2){let t=f();u(3),M("previewUrl",t.user.image)("ratio",1/1)("shape","rectangular"),u(),M("ngIf",t.cropper_active!=!0)}}function ql(o,i){if(o&1){let t=I();c(0,"div",24)(1,"button",69),y("click",function(){x(t);let n=f(2);return b(n.closeModal("profileImageModal"))}),m(2,"OK"),l()()}}function Wl(o,i){if(o&1){let t=I();c(0,"div",17)(1,"button",18),y("click",function(){x(t);let n=f();return b(n.closeModal("profileImageModal"))}),v(2,"i",19),l(),c(3,"app-profile-image-upload",76),y("imageLoadedEvent",function(n){x(t);let r=f();return b(r.saveProfileImage(n))})("cropperActiveEvent",function(n){x(t);let r=f();return b(r.setCropperActive(n))}),l(),E(4,ql,3,0,"div",77),l()}if(o&2){let t=f();u(3),M("previewUrl",t.user.image)("ratio",1/1)("shape","rectangular"),u(),M("ngIf",t.cropper_active!=!0)}}var vs=(()=>{let i=class i{constructor(e,n,r,s,d,h){this.userService=e,this.tablesService=n,this.commonService=r,this.myblobService=s,this.router=d,this.document=h,this.user_name="",this.user_email="",this.user_zipcode="",this.user_phone="",this.password_current="",this.password_new="",this.password_new_confirm="",this.invalid_user_name="",this.invalid_user_email="",this.invalid_user_phone="",this.invalid_user_zipcode="",this.invalid_password_current="",this.invalid_password_new="",this.invalid_password_new_confirm="",this.email_verification_code_failed=!1,this.email_change_step=0,this.phone_change_step=0,this.digit_1e="",this.digit_2e="",this.digit_3e="",this.digit_4e="",this.digit_5e="",this.digit_6e="",this.digit_1p="",this.digit_2p="",this.digit_3p="",this.digit_4p="",this.digit_5p="",this.digit_6p="",this.digits="",this.location={},this.profile_image_filename="",this.cropper_active=!1,this.delete_confirm="",this.image_is_preview=!1}ngOnInit(){this.userService._getUser.subscribe(e=>{this.user=e,console.log("this.user",this.user),this.user&&(this.user.sign_up_date&&(this.user.sign_up_date_humanized=this.commonService.getDate(this.user.sign_up_date)),this.notify_via_sms=this.user.notify_by_sms,this.user_zipcode=this.user.location_zipcode,this.location={city:this.user.location_city,state:this.user.location_state})}),this.myblobService._profileImageUploaded.subscribe(e=>{e&&(console.log("filename----",e),this.user.image="https://sportzbattle.blob.core.windows.net/users/"+e,this.saveUserObjectInMemory())})}showEditName(){this.user_name=this.user.username,$("#editNameModal").modal("show")}showEditEmail(){this.clearDigits(),this.email_change_step=1,this.user_email=this.user.email,$("#editEmailModal").modal("show")}showEditPhone(){this.clearDigits(),this.phone_change_step=1,this.user_phone="",$("#editPhoneModal").modal("show")}showEditLocation(){console.log("this.user",this.user),this.user_zipcode=this.user.location_zipcode,this.location.city=this.user.location_city,this.location.state=this.user.location_state,$("#editLocationModal").modal("show")}showEditPassword(){$("#editPasswordModal").modal("show")}saveName(){if(console.log("save name"),!this.user_name){this.invalid_user_name="Please enter a valid name";return}var e={user_id:this.user.user_id,username:this.user_name};this.tablesService.UpdateItem("users","user_id",e).subscribe(()=>{this.user.username=this.user_name,$("#editNameModal").modal("hide"),this.saveUserObjectInMemory()})}clearAlerts(){this.invalid_user_name="",this.invalid_user_email="",this.invalid_user_phone="",this.invalid_user_zipcode="",this.invalid_password_current="",this.invalid_password_new="",this.invalid_password_new_confirm=""}saveUserObjectInMemory(){localStorage.setItem("user",JSON.stringify(this.user))}verifyEmail(){if(!this.user_email)this.invalid_user_email="Please enter a valid email";else{var e=this.user_email.match(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/);e||(this.invalid_user_email="Please enter a valid email")}this.invalid_user_email||(this.email_change_step=2)}evalAccessCodeEmail(e){if(e==1){if(this.digit_1e.length==1){var n=this.document.getElementById("digit_2e");n&&n.focus()}}else if(e==2){if(this.digit_2e.length==1){var n=this.document.getElementById("digit_3e");n&&n.focus()}}else if(e==3){if(this.digit_3e.length==1){var n=this.document.getElementById("digit_4e");n&&n.focus()}}else if(e==4){if(this.digit_4e.length==1){var n=this.document.getElementById("digit_5e");n&&n.focus()}}else if(e==5){if(this.digit_5e.length==1){var n=this.document.getElementById("digit_6e");n&&n.focus()}}else e==6;this.email_verification_code_failed=!1}submitEmailVerificationCode(){}emailVerificationSuccess(){}sendPhoneCode(){}evalAccessCodePhone(e){if(e==1){if(this.digit_1p.length==1){var n=this.document.getElementById("digit_2p");n&&n.focus()}}else if(e==2){if(this.digit_2p.length==1){var n=this.document.getElementById("digit_3p");n&&n.focus()}}else if(e==3){if(this.digit_3p.length==1){var n=this.document.getElementById("digit_4p");n&&n.focus()}}else if(e==4){if(this.digit_4p.length==1){var n=this.document.getElementById("digit_5p");n&&n.focus()}}else if(e==5){if(this.digit_5p.length==1){var n=this.document.getElementById("digit_6p");n&&n.focus()}}else e==6;this.email_verification_code_failed=!1}confirmPhoneCode(){}phoneVerificationSuccess(){}evalZipCode(){}saveZipCode(){if(!this.user_zipcode)this.invalid_user_zipcode="Please enter a valid zip code";else{var e=this.user_zipcode.match(/^\d{5}/);e||(this.invalid_user_zipcode="Please enter a valid zip code")}if(!this.invalid_user_zipcode&&this.location){var n={user_id:this.user.user_id,location_zipcode:this.user_zipcode,location_city:this.location.city,location_state:this.location.state,location_lat:this.location.lat,location_lng:this.location.lng};this.user.location_zipcode=this.user_zipcode,this.tablesService.UpdateItem("users","user_id",n).subscribe(()=>{$("#editLocationModal").modal("hide")})}}savePassword(){}editProfileImage(){console.log("------------------------"),$("#profileImageModal").modal("show")}saveProfileImage(e){console.log("save profile image"),this.profile_image_filename=this.commonService.generateImageName()+".jpeg";var n=this;this.commonService.resizeImage(e,200,.75,this.profile_image_filename).then(function(r){n.user.image=r.base64,n.image_is_preview=!0,n.myblobService.uploadProfileImageBlob(r.base64,n.user.user_id+"/"+r.filename);var s={user_id:n.user.user_id,image:"https://sportzbattle.blob.core.windows.net/users/"+n.user.user_id+"/"+n.profile_image_filename};n.tablesService.UpdateItem("users","user_id",s).subscribe(d=>{})})}clearDigits(){this.digit_1e="",this.digit_2e="",this.digit_3e="",this.digit_4e="",this.digit_5e="",this.digit_6e="",this.digit_1p="",this.digit_2p="",this.digit_3p="",this.digit_4p="",this.digit_5p="",this.digit_6p=""}setCropperActive(e){this.cropper_active=e}goBack(){}logout(){this.userService.logoutUser()}closeModal(e){$("#"+e).modal("hide")}confirmDelete(){$("#confirmDeleteModal").modal("show")}deleteAccount(){}goto(e){this.router.navigate([e])}notifyViaSMS(){setTimeout(()=>{var e={user_id:this.user.user_id,notify_by_sms:this.notify_via_sms};this.user.notify_by_sms=this.notify_via_sms,this.tablesService.UpdateItem("users","user_id",e).subscribe()},200)}};i.\u0275fac=function(n){return new(n||i)(A(Se),A(Le),A(Me),A(Oi),A(xe),A(Ho))},i.\u0275cmp=V({type:i,selectors:[["app-settings"]],decls:67,vars:13,consts:[[1,"background","backgroundx"],[1,"page_title"],[1,"text-start",2,"padding","30px 0"],["class","content_container","style","max-width:450px;",4,"ngIf"],["id","editNameModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],["id","editEmailModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editPhoneModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editLocationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","editPasswordModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","emailVerificationSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","phoneVerificationSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","changePasswordSuccessModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","profileImageModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","confirmDeleteModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"delete_account_title"],[2,"padding-top","26px","text-align","left"],[1,"text-left"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-danger",2,"min-width","150px",3,"click"],[1,"content_container",2,"max-width","450px"],[1,"settings_container"],[2,"position","relative","width","fit-content","display","block","margin","auto"],[2,"list-style-type","none","max-width","400px","padding","0"],[1,"list_itemx"],[1,"btn","btn-default","settings_edit_button",3,"click"],[4,"ngIf"],[1,"list_itemx","logout_button",3,"click"],[1,"list_itemx","delete_account_button",3,"click"],[1,"profile_image",3,"src"],["class","fa fa-pencil edit_image_icon",3,"click",4,"ngIf"],[1,"fa","fa-pencil","edit_image_icon",3,"click"],[1,"fa","fa-check","verified_icon"],[1,"fa","fa-minus","not_verified_icon"],[1,"modal_title"],[2,"padding","30px 0 10px 0"],["class","alert_message",4,"ngIf"],["type","button",1,"btn","btn-default","button_primary",3,"click"],[1,"alert_message"],["class","form-group col-12",4,"ngIf"],["class","form-group col-12","style","padding-top: 30px;",4,"ngIf"],["type","button","class","btn btn-default button_primary",3,"click",4,"ngIf"],[1,"form-group","col-12"],[2,"padding","30px 0"],[2,"padding-left","10px","color","grey"],[1,"fa","fa-lock"],[1,"form-group","col-12",2,"padding-top","30px"],[1,"d-none","d-md-block","text-center"],["id","digit_1e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_2e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_3e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_4e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_5e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_6e","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],[1,"d-block","d-md-none","text-center"],["type","button",1,"btn","btn-default","button_secondary",2,"margin","0 7px",3,"click"],["type","button","class","btn btn-default button_primary","style","min-width:150px",3,"click",4,"ngIf"],["id","digit_1p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_2p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_3p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_4p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_5p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["id","digit_6p","type","text","maxlength","1",1,"form-control","digit_input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-default","button_primary",2,"min-width","150px",3,"click"],[2,"padding","30px 0","max-width","225px","margin","auto"],["type","text",1,"form-control",2,"text-align","center",3,"ngModelChange","ngModel"],[1,"location_text"],[2,"padding-top","30px"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[2,"padding-top","40px","text-align","center"],[3,"imageLoadedEvent","cropperActiveEvent","previewUrl","ratio","shape"],["class","text-center","style","padding: 25px 0;",4,"ngIf"]],template:function(n,r){n&1&&(v(0,"app-user-sidemenu"),c(1,"div",0)(2,"div",1),m(3,"Account"),l(),E(4,ll,3,0,"div",2)(5,dl,3,0)(6,gl,25,6,"div",3),l(),c(7,"div",4)(8,"div",5)(9,"div",6),E(10,_l,11,2,"div",7),l()()(),c(11,"div",8)(12,"div",5)(13,"div",6),E(14,Ml,8,4,"div",7),l()()(),c(15,"div",9)(16,"div",5)(17,"div",6),E(18,kl,10,4,"div",7),l()()(),c(19,"div",10)(20,"div",5)(21,"div",6),E(22,Al,18,4,"div",7),l()()(),c(23,"div",11)(24,"div",5)(25,"div",6),E(26,Bl,25,6,"div",7),l()()(),c(27,"div",12)(28,"div",5)(29,"div",6),E(30,Ll,8,0,"div",7),l()()(),c(31,"div",13)(32,"div",5)(33,"div",6),E(34,Ul,8,0,"div",7),l()()(),c(35,"div",14)(36,"div",5)(37,"div",6),E(38,Nl,8,0,"div",7),l()()(),c(39,"div",15)(40,"div",5)(41,"div",6),E(42,Fl,5,4,"div",7),l()()(),c(43,"div",16)(44,"div",5)(45,"div",6)(46,"div",17)(47,"button",18),y("click",function(){return r.closeModal("confirmDeleteModal")}),v(48,"i",19),l(),c(49,"p",20)(50,"strong"),m(51,"Delete Account"),l()(),c(52,"p",21),m(53,"Please confirm you wish to delete your account. This can not be undone. Your account will be permanently deleted."),l(),c(54,"div",22),m(55," To confirm delete, please type "),c(56,"em"),m(57,"DELETE"),l(),m(58," and click confirm. "),c(59,"input",23),K("ngModelChange",function(d){return X(r.delete_confirm,d)||(r.delete_confirm=d),d}),l()(),c(60,"div",24)(61,"button",25),y("click",function(){return r.deleteAccount()}),m(62,"Confirm delete"),l()()()()()(),c(63,"div",15)(64,"div",5)(65,"div",6),E(66,Wl,5,4,"div",7),l()()()),n&2&&(u(4),R(4,r.user.account_type=="player"?4:5),u(2),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(4),M("ngIf",r.user),u(17),G("ngModel",r.delete_confirm),u(7),M("ngIf",r.user))},dependencies:[_e,Xo,Ko,$o,Jo,$e,bs],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.backgroundx[_ngcontent-%COMP%]{padding-left:260px;color:#fff;padding-right:40px}.content_container[_ngcontent-%COMP%]{max-width:450px;display:block;margin:auto}.profile_image[_ngcontent-%COMP%]{width:125px;height:125px;border:solid 1px lightgrey;border-radius:50%}.stats_button[_ngcontent-%COMP%]{width:100px;font-size:18px}.ccx[_ngcontent-%COMP%]{padding-top:0}.no_items_image[_ngcontent-%COMP%]{width:275px;margin:auto;display:block}.no_items_label[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:18px;padding:30px 0}.profile_name_container[_ngcontent-%COMP%]{display:block;padding:15px 0}.list_itemx[_ngcontent-%COMP%]{border-bottom:solid 1px lightgrey;padding:15px 0}.settings_edit_button[_ngcontent-%COMP%]{float:right;color:#3cf}.digit_input[_ngcontent-%COMP%]{width:35px;display:inline-block;margin:0 3px}.location_text[_ngcontent-%COMP%]{text-align:center;padding:5px;margin:0;font-style:italic;color:gray}.edit_image_icon[_ngcontent-%COMP%]{position:absolute;border:solid 1px lightgrey;border-radius:50%;padding:7px;color:gray;background-color:#fff;right:calc(50% - 70px);cursor:pointer}.edit_image_icon[_ngcontent-%COMP%]:hover{background-color:#3cf;color:#fff;border-color:#3cf}.verified_icon[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;padding:6px;border-radius:50%}.not_verified_icon[_ngcontent-%COMP%]{color:#fff;background-color:#d3d3d3;padding:6px;border-radius:50%}.delete_account_title[_ngcontent-%COMP%]{color:#ff4500;margin:0;font-size:26px}.delete_account_button[_ngcontent-%COMP%]{color:gray;text-align:right;border-bottom:none;cursor:pointer}.profile_button[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;color:gray}.profile_button[_ngcontent-%COMP%]:hover{text-decoration:underline}.logout_button[_ngcontent-%COMP%]{cursor:pointer}.logout_button[_ngcontent-%COMP%]:hover{text-decoration:underline}.not_verified_message[_ngcontent-%COMP%]{background-color:#ff0;color:#000;width:100%;padding:15px 30px}@media only screen and (max-width: 768px){.ccx[_ngcontent-%COMP%]{padding-top:0;top:0}.backgroundx[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}']});let o=i;return o})();var Hl=(o,i)=>i.user_id,Qn=o=>({selected:o});function jl(o,i){if(o&1&&(c(0,"tr")(1,"td",8),v(2,"img",9),l(),c(3,"td",8),m(4),l(),c(5,"td",8),v(6,"img",9),m(7),l(),c(8,"td",8),m(9),l()()),o&2){let t=i.$implicit,e=f(2);u(2),W("src",t.image,F),u(2),k(t.username.slice(0,10)),u(2),W("src",t.level_icon,F),u(),N("\xA0",t.level,""),u(2),k(e.tab=="daily"?t.max_score:t.points)}}function Yl(o,i){if(o&1&&(c(0,"table",7)(1,"thead")(2,"tr"),v(3,"th",8),c(4,"th",8),m(5,"Username"),l(),c(6,"th",8),m(7,"Level"),l(),c(8,"th",8),m(9),l()()(),c(10,"tbody"),Ve(11,jl,10,5,"tr",null,Hl),l()()),o&2){let t=f();u(9),k(t.tab=="daily"?"High Score":"Total Points"),u(2),Be(t.players)}}function Ql(o,i){o&1&&(c(0,"div",10),m(1,"There are no players to show"),l())}var Cs=(()=>{let i=class i{constructor(e,n,r,s){this.userService=e,this.commonService=n,this.tablesService=r,this.router=s,this.players=[],this.data=[],this.games=[],this.tab="all-time",this.data_ready=!1,this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight(),this.monthly_start_time=this.commonService.getFirstDayOfMonthEpoch()}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.loadData()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}loadData(){this.userService.getAllGames().subscribe(e=>{this.games=e,this.filterPlayers()})}filterPlayers(){this.data_ready=!1;var e=[];this.tab=="all-time"?e=this.games:this.tab=="monthly"?e=this.games.filter(n=>n.timestamp>=this.monthly_start_time):this.tab=="daily"&&(e=this.games.filter(n=>n.timestamp>=this.daily_start_time)),this.players=[],e.forEach(n=>{var r=this.players.find(s=>s.user_id==n.user_id);r||this.players.push({user_id:n.user_id,username:n.username,image:n.user_image})}),this.players.forEach(n=>{var r=e.filter(h=>h.user_id==n.user_id);n.games=r.length;var s=0,d=0;r.forEach(h=>{s+=h.score?h.score:0,h.score>d&&(d=h.score)}),n.points=s,n.max_score=d}),this.players=this.players.sort((n,r)=>r.points-n.points),this.tab=="all-time"&&!this.players_map&&(this.players_map=this.players.map(n=>({user_id:n.user_id,all_time_points:n.points}))),this.players.forEach(n=>{var r=this.players_map.find(s=>s.user_id==n.user_id);r&&(n.all_time_points=r.all_time_points)}),this.assignLevels(),this.data_ready=!0}assignLevels(){this.tablesService.GetAll("skill_levels").subscribe(e=>{this.players.forEach(n=>{this.commonService.assignLevel(n,e)})})}};i.\u0275fac=function(n){return new(n||i)(A(Se),A(Me),A(Le),A(xe))},i.\u0275cmp=V({type:i,selectors:[["app-leaderboard"]],decls:17,vars:10,consts:[[1,"background","backgroundx"],[1,"contentsx"],[1,"page_title"],[1,"submenu_container"],[1,"submenu_item",3,"click","ngClass"],[1,"table_container"],[1,"graph_title"],[1,"table","tablex"],[1,"tc"],[1,"player_image",3,"src"],[1,"note"]],template:function(n,r){n&1&&(v(0,"app-user-sidemenu"),c(1,"div",0)(2,"div",1)(3,"div",2),m(4,"Leaderboard"),l(),c(5,"div",3)(6,"div",4),y("click",function(){return r.tab="daily",r.filterPlayers()}),m(7,"Daily"),l(),c(8,"div",4),y("click",function(){return r.tab="monthly",r.filterPlayers()}),m(9,"Monthly"),l(),c(10,"div",4),y("click",function(){return r.tab="all-time",r.filterPlayers()}),m(11,"All-Time"),l()(),c(12,"div",5)(13,"div",6),m(14,"Top Players"),l(),E(15,Yl,13,1,"table",7)(16,Ql,2,0),l()()()),n&2&&(u(6),M("ngClass",ee(4,Qn,r.tab=="daily")),u(2),M("ngClass",ee(6,Qn,r.tab=="monthly")),u(2),M("ngClass",ee(8,Qn,r.tab=="all-time")),u(5),R(15,r.players.length>0?15:16))},dependencies:[we,$e],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.submenu_container[_ngcontent-%COMP%]{padding:20px 0}.submenu_item[_ngcontent-%COMP%]{font-size:20px;display:inline-block;padding:0 15px;color:#fff;font-family:orbitron-medium;cursor:pointer}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600;padding:8px 0}.table_container[_ngcontent-%COMP%]{padding:30px 0}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:28px;color:#fff;text-align:center;padding:0 0 20px}.tablex[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:auto}.player_image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.selected[_ngcontent-%COMP%]{border-bottom:solid 2px white}.contentsx[_ngcontent-%COMP%]{padding:50px}.note[_ngcontent-%COMP%]{padding:30px 0;font-style:italic;color:#fff;font-size:20px;text-align:center}@media screen and (max-width: 768px){.contentsx[_ngcontent-%COMP%]{padding:0}}']});let o=i;return o})();var Ie=Object.create(null);Ie.open="0";Ie.close="1";Ie.ping="2";Ie.pong="3";Ie.message="4";Ie.upgrade="5";Ie.noop="6";var ni=Object.create(null);Object.keys(Ie).forEach(o=>{ni[Ie[o]]=o});var oi={type:"error",data:"parser error"};var Ms=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ss=typeof ArrayBuffer=="function",Es=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,ri=({type:o,data:i},t,e)=>Ms&&i instanceof Blob?t?e(i):ys(i,e):Ss&&(i instanceof ArrayBuffer||Es(i))?t?e(i):ys(new Blob([i]),e):e(Ie[o]+(i||"")),ys=(o,i)=>{let t=new FileReader;return t.onload=function(){let e=t.result.split(",")[1];i("b"+(e||""))},t.readAsDataURL(o)};function ws(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}var Gn;function Ps(o,i){if(Ms&&o.data instanceof Blob)return o.data.arrayBuffer().then(ws).then(i);if(Ss&&(o.data instanceof ArrayBuffer||Es(o.data)))return i(ws(o.data));ri(o,!1,t=>{Gn||(Gn=new TextEncoder),i(Gn.encode(t))})}var Os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",si=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<Os.length;o++)si[Os.charCodeAt(o)]=o;var Ts=o=>{let i=o.length*.75,t=o.length,e,n=0,r,s,d,h;o[o.length-1]==="="&&(i--,o[o.length-2]==="="&&i--);let C=new ArrayBuffer(i),S=new Uint8Array(C);for(e=0;e<t;e+=4)r=si[o.charCodeAt(e)],s=si[o.charCodeAt(e+1)],d=si[o.charCodeAt(e+2)],h=si[o.charCodeAt(e+3)],S[n++]=r<<2|s>>4,S[n++]=(s&15)<<4|d>>2,S[n++]=(d&3)<<6|h&63;return C};var Gl=typeof ArrayBuffer=="function",ai=(o,i)=>{if(typeof o!="string")return{type:"message",data:ks(o,i)};let t=o.charAt(0);return t==="b"?{type:"message",data:Xl(o.substring(1),i)}:ni[t]?o.length>1?{type:ni[t],data:o.substring(1)}:{type:ni[t]}:oi},Xl=(o,i)=>{if(Gl){let t=Ts(o);return ks(t,i)}else return{base64:!0,data:o}},ks=(o,i)=>{switch(i){case"blob":return o instanceof Blob?o:new Blob([o]);case"arraybuffer":default:return o instanceof ArrayBuffer?o:o.buffer}};var Is="",As=(o,i)=>{let t=o.length,e=new Array(t),n=0;o.forEach((r,s)=>{ri(r,!1,d=>{e[s]=d,++n===t&&i(e.join(Is))})})},Rs=(o,i)=>{let t=o.split(Is),e=[];for(let n=0;n<t.length;n++){let r=ai(t[n],i);if(e.push(r),r.type==="error")break}return e};function zs(){return new TransformStream({transform(o,i){Ps(o,t=>{let e=t.length,n;if(e<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,e);else if(e<65536){n=new Uint8Array(3);let r=new DataView(n.buffer);r.setUint8(0,126),r.setUint16(1,e)}else{n=new Uint8Array(9);let r=new DataView(n.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(e))}o.data&&typeof o.data!="string"&&(n[0]|=128),i.enqueue(n),i.enqueue(t)})}})}var Xn;function ji(o){return o.reduce((i,t)=>i+t.length,0)}function Yi(o,i){if(o[0].length===i)return o.shift();let t=new Uint8Array(i),e=0;for(let n=0;n<i;n++)t[n]=o[0][e++],e===o[0].length&&(o.shift(),e=0);return o.length&&e<o[0].length&&(o[0]=o[0].slice(e)),t}function Vs(o,i){Xn||(Xn=new TextDecoder);let t=[],e=0,n=-1,r=!1;return new TransformStream({transform(s,d){for(t.push(s);;){if(e===0){if(ji(t)<1)break;let h=Yi(t,1);r=(h[0]&128)===128,n=h[0]&127,n<126?e=3:n===126?e=1:e=2}else if(e===1){if(ji(t)<2)break;let h=Yi(t,2);n=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),e=3}else if(e===2){if(ji(t)<8)break;let h=Yi(t,8),C=new DataView(h.buffer,h.byteOffset,h.length),S=C.getUint32(0);if(S>Math.pow(2,21)-1){d.enqueue(oi);break}n=S*Math.pow(2,32)+C.getUint32(4),e=3}else{if(ji(t)<n)break;let h=Yi(t,n);d.enqueue(ai(r?h:Xn.decode(h),i)),e=0}if(n===0||n>o){d.enqueue(oi);break}}}})}var Kn=4;function j(o){if(o)return Kl(o)}function Kl(o){for(var i in j.prototype)o[i]=j.prototype[i];return o}j.prototype.on=j.prototype.addEventListener=function(o,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(i),this};j.prototype.once=function(o,i){function t(){this.off(o,t),i.apply(this,arguments)}return t.fn=i,this.on(o,t),this};j.prototype.off=j.prototype.removeListener=j.prototype.removeAllListeners=j.prototype.removeEventListener=function(o,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+o];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var e,n=0;n<t.length;n++)if(e=t[n],e===i||e.fn===i){t.splice(n,1);break}return t.length===0&&delete this._callbacks["$"+o],this};j.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),t=this._callbacks["$"+o],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(t){t=t.slice(0);for(var e=0,n=t.length;e<n;++e)t[e].apply(this,i)}return this};j.prototype.emitReserved=j.prototype.emit;j.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]};j.prototype.hasListeners=function(o){return!!this.listeners(o).length};var pe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Qi(o,...i){return i.reduce((t,e)=>(o.hasOwnProperty(e)&&(t[e]=o[e]),t),{})}var Jl=pe.setTimeout,$l=pe.clearTimeout;function We(o,i){i.useNativeTimers?(o.setTimeoutFn=Jl.bind(pe),o.clearTimeoutFn=$l.bind(pe)):(o.setTimeoutFn=pe.setTimeout.bind(pe),o.clearTimeoutFn=pe.clearTimeout.bind(pe))}var Zl=1.33;function Bs(o){return typeof o=="string"?ed(o):Math.ceil((o.byteLength||o.size)*Zl)}function ed(o){let i=0,t=0;for(let e=0,n=o.length;e<n;e++)i=o.charCodeAt(e),i<128?t+=1:i<2048?t+=2:i<55296||i>=57344?t+=3:(e++,t+=4);return t}function Ls(o){let i="";for(let t in o)o.hasOwnProperty(t)&&(i.length&&(i+="&"),i+=encodeURIComponent(t)+"="+encodeURIComponent(o[t]));return i}function Us(o){let i={},t=o.split("&");for(let e=0,n=t.length;e<n;e++){let r=t[e].split("=");i[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return i}var Gi=class extends Error{constructor(i,t,e){super(i),this.description=t,this.context=e,this.type="TransportError"}},He=class extends j{constructor(i){super(),this.writable=!1,We(this,i),this.opts=i,this.query=i.query,this.socket=i.socket}onError(i,t,e){return super.emitReserved("error",new Gi(i,t,e)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(i){this.readyState==="open"&&this.write(i)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(i){let t=ai(i,this.socket.binaryType);this.onPacket(t)}onPacket(i){super.emitReserved("packet",i)}onClose(i){this.readyState="closed",super.emitReserved("close",i)}pause(i){}createUri(i,t={}){return i+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let i=this.opts.hostname;return i.indexOf(":")===-1?i:"["+i+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(i){let t=Ls(i);return t.length?"?"+t:""}};var qs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Jn=64,td={},Ns=0,Xi=0,Ds;function Fs(o){let i="";do i=qs[o%Jn]+i,o=Math.floor(o/Jn);while(o>0);return i}function Ki(){let o=Fs(+new Date);return o!==Ds?(Ns=0,Ds=o):o+"."+Fs(Ns++)}for(;Xi<Jn;Xi++)td[qs[Xi]]=Xi;var Ws=!1;try{Ws=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Hs=Ws;function $n(o){let i=o.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!i||Hs))return new XMLHttpRequest}catch{}if(!i)try{return new pe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function id(){}var nd=function(){return new $n({xdomain:!1}).responseType!=null}(),$i=class extends He{constructor(i){if(super(i),this.polling=!1,typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&i.hostname!==location.hostname||n!==i.port}let t=i&&i.forceBase64;this.supportsBinary=nd&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(i){this.readyState="pausing";let t=()=>{this.readyState="paused",i()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(i){let t=e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};Rs(i,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let i=()=>{this.write([{type:"close"}])};this.readyState==="open"?i():this.once("open",i)}write(i){this.writable=!1,As(i,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let i=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ki()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(i,t)}request(i={}){return Object.assign(i,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ji(this.uri(),i)}doWrite(i,t){let e=this.request({method:"POST",data:i});e.on("success",t),e.on("error",(n,r)=>{this.onError("xhr post error",n,r)})}doPoll(){let i=this.request();i.on("data",this.onData.bind(this)),i.on("error",(t,e)=>{this.onError("xhr poll error",t,e)}),this.pollXhr=i}},Ji=(()=>{class o extends j{constructor(t,e){super(),We(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=e.data!==void 0?e.data:null,this.create()}create(){var t;let e=Qi(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;let n=this.xhr=new $n(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=o.requestsCount++,o.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=id,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this.index],this.xhr=null}}onLoad(){let t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return o.requestsCount=0,o.requests={},o})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",js);else if(typeof addEventListener=="function"){let o="onpagehide"in pe?"pagehide":"unload";addEventListener(o,js,!1)}}function js(){for(let o in Ji.requests)Ji.requests.hasOwnProperty(o)&&Ji.requests[o].abort()}var pt=typeof Promise=="function"&&typeof Promise.resolve=="function"?i=>Promise.resolve().then(i):(i,t)=>t(i,0),ci=pe.WebSocket||pe.MozWebSocket,Zi=!0,Ys="arraybuffer";var Qs=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",en=class extends He{constructor(i){super(i),this.supportsBinary=!i.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let i=this.uri(),t=this.opts.protocols,e=Qs?{}:Qi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(e.headers=this.opts.extraHeaders);try{this.ws=Zi&&!Qs?t?new ci(i,t):new ci(i):new ci(i,t,e)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=i=>this.onClose({description:"websocket connection closed",context:i}),this.ws.onmessage=i=>this.onData(i.data),this.ws.onerror=i=>this.onError("websocket error",i)}write(i){this.writable=!1;for(let t=0;t<i.length;t++){let e=i[t],n=t===i.length-1;ri(e,this.supportsBinary,r=>{let s={};Zi||(e.options&&(s.compress=e.options.compress),this.opts.perMessageDeflate&&(typeof r=="string"?Buffer.byteLength(r):r.length)<this.opts.perMessageDeflate.threshold&&(s.compress=!1));try{Zi?this.ws.send(r):this.ws.send(r,s)}catch{}n&&pt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let i=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ki()),this.supportsBinary||(t.b64=1),this.createUri(i,t)}check(){return!!ci}};var tn=class extends He{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(i=>{this.onError("webtransport error",i)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(i=>{let t=Vs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),e=i.readable.pipeThrough(t).getReader(),n=zs();n.readable.pipeTo(i.writable),this.writer=n.writable.getWriter();let r=()=>{e.read().then(({done:d,value:h})=>{d||(this.onPacket(h),r())}).catch(d=>{})};r();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(i){this.writable=!1;for(let t=0;t<i.length;t++){let e=i[t],n=t===i.length-1;this.writer.write(e).then(()=>{n&&pt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var i;(i=this.transport)===null||i===void 0||i.close()}};var Zn={websocket:en,webtransport:tn,polling:$i};var od=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rd=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function It(o){if(o.length>2e3)throw"URI too long";let i=o,t=o.indexOf("["),e=o.indexOf("]");t!=-1&&e!=-1&&(o=o.substring(0,t)+o.substring(t,e).replace(/:/g,";")+o.substring(e,o.length));let n=od.exec(o||""),r={},s=14;for(;s--;)r[rd[s]]=n[s]||"";return t!=-1&&e!=-1&&(r.source=i,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=sd(r,r.path),r.queryKey=ad(r,r.query),r}function sd(o,i){let t=/\/{2,9}/g,e=i.replace(t,"/").split("/");return(i.slice(0,1)=="/"||i.length===0)&&e.splice(0,1),i.slice(-1)=="/"&&e.splice(e.length-1,1),e}function ad(o,i){let t={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,n,r){n&&(t[n]=r)}),t}var nn=(()=>{class o extends j{constructor(t,e={}){super(),this.binaryType=Ys,this.writeBuffer=[],t&&typeof t=="object"&&(e=t,t=null),t?(t=It(t),e.hostname=t.host,e.secure=t.protocol==="https"||t.protocol==="wss",e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=It(e.host).host),We(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Us(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let e=Object.assign({},this.opts.query);e.EIO=Kn,e.transport=t,this.id&&(e.sid=this.id);let n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Zn[t](n)}open(){let t;if(this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(t){let e=this.createTransport(t),n=!1;o.priorWebsocketSuccess=!1;let r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",P=>{if(!n)if(P.type==="pong"&&P.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;o.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(O(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let L=new Error("probe error");L.transport=e.name,this.emitReserved("upgradeError",L)}}))};function s(){n||(n=!0,O(),e.close(),e=null)}let d=P=>{let L=new Error("probe error: "+P);L.transport=e.name,s(),this.emitReserved("upgradeError",L)};function h(){d("transport closed")}function C(){d("socket closed")}function S(P){e&&P.name!==e.name&&s()}let O=()=>{e.removeListener("open",r),e.removeListener("error",d),e.removeListener("close",h),this.off("close",C),this.off("upgrading",S)};e.once("open",r),e.once("error",d),e.once("close",h),this.once("close",C),this.once("upgrading",S),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onOpen(){if(this.readyState="open",o.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0,e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){let r=this.writeBuffer[n].data;if(r&&(e+=Bs(r)),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if(typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:t,data:e,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){let t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){o.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let e=[],n=0,r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}return o.protocol=Kn,o})();var gm=nn.protocol;function Gs(o,i="",t){let e=o;t=t||typeof location<"u"&&location,o==null&&(o=t.protocol+"//"+t.host),typeof o=="string"&&(o.charAt(0)==="/"&&(o.charAt(1)==="/"?o=t.protocol+o:o=t.host+o),/^(https?|wss?):\/\//.test(o)||(typeof t<"u"?o=t.protocol+"//"+o:o="https://"+o),e=It(o)),e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443")),e.path=e.path||"/";let r=e.host.indexOf(":")!==-1?"["+e.host+"]":e.host;return e.id=e.protocol+"://"+r+":"+e.port+i,e.href=e.protocol+"://"+r+(t&&t.port===e.port?"":":"+e.port),e}var ro={};qa(ro,{Decoder:()=>no,Encoder:()=>io,PacketType:()=>B,protocol:()=>Zs});var cd=typeof ArrayBuffer=="function",ld=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,Xs=Object.prototype.toString,dd=typeof Blob=="function"||typeof Blob<"u"&&Xs.call(Blob)==="[object BlobConstructor]",pd=typeof File=="function"||typeof File<"u"&&Xs.call(File)==="[object FileConstructor]";function di(o){return cd&&(o instanceof ArrayBuffer||ld(o))||dd&&o instanceof Blob||pd&&o instanceof File}function li(o,i){if(!o||typeof o!="object")return!1;if(Array.isArray(o)){for(let t=0,e=o.length;t<e;t++)if(li(o[t]))return!0;return!1}if(di(o))return!0;if(o.toJSON&&typeof o.toJSON=="function"&&arguments.length===1)return li(o.toJSON(),!0);for(let t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&li(o[t]))return!0;return!1}function Ks(o){let i=[],t=o.data,e=o;return e.data=eo(t,i),e.attachments=i.length,{packet:e,buffers:i}}function eo(o,i){if(!o)return o;if(di(o)){let t={_placeholder:!0,num:i.length};return i.push(o),t}else if(Array.isArray(o)){let t=new Array(o.length);for(let e=0;e<o.length;e++)t[e]=eo(o[e],i);return t}else if(typeof o=="object"&&!(o instanceof Date)){let t={};for(let e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=eo(o[e],i));return t}return o}function Js(o,i){return o.data=to(o.data,i),delete o.attachments,o}function to(o,i){if(!o)return o;if(o&&o._placeholder===!0){if(typeof o.num=="number"&&o.num>=0&&o.num<i.length)return i[o.num];throw new Error("illegal attachments")}else if(Array.isArray(o))for(let t=0;t<o.length;t++)o[t]=to(o[t],i);else if(typeof o=="object")for(let t in o)Object.prototype.hasOwnProperty.call(o,t)&&(o[t]=to(o[t],i));return o}var hd=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Zs=5,B=function(o){return o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK",o}(B||{}),io=class{constructor(i){this.replacer=i}encode(i){return(i.type===B.EVENT||i.type===B.ACK)&&li(i)?this.encodeAsBinary({type:i.type===B.EVENT?B.BINARY_EVENT:B.BINARY_ACK,nsp:i.nsp,data:i.data,id:i.id}):[this.encodeAsString(i)]}encodeAsString(i){let t=""+i.type;return(i.type===B.BINARY_EVENT||i.type===B.BINARY_ACK)&&(t+=i.attachments+"-"),i.nsp&&i.nsp!=="/"&&(t+=i.nsp+","),i.id!=null&&(t+=i.id),i.data!=null&&(t+=JSON.stringify(i.data,this.replacer)),t}encodeAsBinary(i){let t=Ks(i),e=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(e),n}};function $s(o){return Object.prototype.toString.call(o)==="[object Object]"}var no=class o extends j{constructor(i){super(),this.reviver=i}add(i){let t;if(typeof i=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(i);let e=t.type===B.BINARY_EVENT;e||t.type===B.BINARY_ACK?(t.type=e?B.EVENT:B.ACK,this.reconstructor=new oo(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(di(i)||i.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(i),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}decodeString(i){let t=0,e={type:Number(i.charAt(0))};if(B[e.type]===void 0)throw new Error("unknown packet type "+e.type);if(e.type===B.BINARY_EVENT||e.type===B.BINARY_ACK){let r=t+1;for(;i.charAt(++t)!=="-"&&t!=i.length;);let s=i.substring(r,t);if(s!=Number(s)||i.charAt(t)!=="-")throw new Error("Illegal attachments");e.attachments=Number(s)}if(i.charAt(t+1)==="/"){let r=t+1;for(;++t&&!(i.charAt(t)===","||t===i.length););e.nsp=i.substring(r,t)}else e.nsp="/";let n=i.charAt(t+1);if(n!==""&&Number(n)==n){let r=t+1;for(;++t;){let s=i.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===i.length)break}e.id=Number(i.substring(r,t+1))}if(i.charAt(++t)){let r=this.tryParse(i.substr(t));if(o.isPayloadValid(e.type,r))e.data=r;else throw new Error("invalid payload")}return e}tryParse(i){try{return JSON.parse(i,this.reviver)}catch{return!1}}static isPayloadValid(i,t){switch(i){case B.CONNECT:return $s(t);case B.DISCONNECT:return t===void 0;case B.CONNECT_ERROR:return typeof t=="string"||$s(t);case B.EVENT:case B.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&hd.indexOf(t[0])===-1);case B.ACK:case B.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},oo=class{constructor(i){this.packet=i,this.buffers=[],this.reconPack=i}takeBinaryData(i){if(this.buffers.push(i),this.buffers.length===this.reconPack.attachments){let t=Js(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function be(o,i,t){return o.on(i,t),function(){o.off(i,t)}}var ud=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),At=class extends j{constructor(i,t,e){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=i,this.nsp=t,e&&e.auth&&(this.auth=e.auth),this._opts=Object.assign({},e),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let i=this.io;this.subs=[be(i,"open",this.onopen.bind(this)),be(i,"packet",this.onpacket.bind(this)),be(i,"error",this.onerror.bind(this)),be(i,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...i){return i.unshift("message"),this.emit.apply(this,i),this}emit(i,...t){if(ud.hasOwnProperty(i))throw new Error('"'+i.toString()+'" is a reserved event name');if(t.unshift(i),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let e={type:B.EVENT,data:t};if(e.options={},e.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let s=this.ids++,d=t.pop();this._registerAckCallback(s,d),e.id=s}let n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e)),this.flags={},this}_registerAckCallback(i,t){var e;let n=(e=this.flags.timeout)!==null&&e!==void 0?e:this._opts.ackTimeout;if(n===void 0){this.acks[i]=t;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[i];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===i&&this.sendBuffer.splice(d,1);t.call(this,new Error("operation has timed out"))},n),s=(...d)=>{this.io.clearTimeoutFn(r),t.apply(this,d)};s.withError=!0,this.acks[i]=s}emitWithAck(i,...t){return new Promise((e,n)=>{let r=(s,d)=>s?n(s):e(d);r.withError=!0,t.push(r),this.emit(i,...t)})}_addToQueue(i){let t;typeof i[i.length-1]=="function"&&(t=i.pop());let e={id:this._queueSeq++,tryCount:0,pending:!1,args:i,flags:Object.assign({fromQueue:!0},this.flags)};i.push((n,...r)=>e!==this._queue[0]?void 0:(n!==null?e.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...r)),e.pending=!1,this._drainQueue())),this._queue.push(e),this._drainQueue()}_drainQueue(i=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!i||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(i){i.nsp=this.nsp,this.io._packet(i)}onopen(){typeof this.auth=="function"?this.auth(i=>{this._sendConnectPacket(i)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(i){this.packet({type:B.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},i):i})}onerror(i){this.connected||this.emitReserved("connect_error",i)}onclose(i,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",i,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(i=>{if(!this.sendBuffer.some(e=>String(e.id)===i)){let e=this.acks[i];delete this.acks[i],e.withError&&e.call(this,new Error("socket has been disconnected"))}})}onpacket(i){if(i.nsp===this.nsp)switch(i.type){case B.CONNECT:i.data&&i.data.sid?this.onconnect(i.data.sid,i.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case B.EVENT:case B.BINARY_EVENT:this.onevent(i);break;case B.ACK:case B.BINARY_ACK:this.onack(i);break;case B.DISCONNECT:this.ondisconnect();break;case B.CONNECT_ERROR:this.destroy();let e=new Error(i.data.message);e.data=i.data.data,this.emitReserved("connect_error",e);break}}onevent(i){let t=i.data||[];i.id!=null&&t.push(this.ack(i.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(i){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let e of t)e.apply(this,i)}super.emit.apply(this,i),this._pid&&i.length&&typeof i[i.length-1]=="string"&&(this._lastOffset=i[i.length-1])}ack(i){let t=this,e=!1;return function(...n){e||(e=!0,t.packet({type:B.ACK,id:i,data:n}))}}onack(i){let t=this.acks[i.id];typeof t=="function"&&(delete this.acks[i.id],t.withError&&i.data.unshift(null),t.apply(this,i.data))}onconnect(i,t){this.id=i,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(i=>this.emitEvent(i)),this.receiveBuffer=[],this.sendBuffer.forEach(i=>{this.notifyOutgoingListeners(i),this.packet(i)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(i=>i()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:B.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(i){return this.flags.compress=i,this}get volatile(){return this.flags.volatile=!0,this}timeout(i){return this.flags.timeout=i,this}onAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}prependAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}offAny(i){if(!this._anyListeners)return this;if(i){let t=this._anyListeners;for(let e=0;e<t.length;e++)if(i===t[e])return t.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(i),this}prependAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(i),this}offAnyOutgoing(i){if(!this._anyOutgoingListeners)return this;if(i){let t=this._anyOutgoingListeners;for(let e=0;e<t.length;e++)if(i===t[e])return t.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(i){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let e of t)e.apply(this,i.data)}}};function ht(o){o=o||{},this.ms=o.min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}ht.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),t=Math.floor(i*this.jitter*o);o=Math.floor(i*10)&1?o+t:o-t}return Math.min(o,this.max)|0};ht.prototype.reset=function(){this.attempts=0};ht.prototype.setMin=function(o){this.ms=o};ht.prototype.setMax=function(o){this.max=o};ht.prototype.setJitter=function(o){this.jitter=o};var Rt=class extends j{constructor(i,t){var e;super(),this.nsps={},this.subs=[],i&&typeof i=="object"&&(t=i,i=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,We(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((e=t.randomizationFactor)!==null&&e!==void 0?e:.5),this.backoff=new ht({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=i;let n=t.parser||ro;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(i){return arguments.length?(this._reconnection=!!i,this):this._reconnection}reconnectionAttempts(i){return i===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}reconnectionDelay(i){var t;return i===void 0?this._reconnectionDelay:(this._reconnectionDelay=i,(t=this.backoff)===null||t===void 0||t.setMin(i),this)}randomizationFactor(i){var t;return i===void 0?this._randomizationFactor:(this._randomizationFactor=i,(t=this.backoff)===null||t===void 0||t.setJitter(i),this)}reconnectionDelayMax(i){var t;return i===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,(t=this.backoff)===null||t===void 0||t.setMax(i),this)}timeout(i){return arguments.length?(this._timeout=i,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(i){if(~this._readyState.indexOf("open"))return this;this.engine=new nn(this.uri,this.opts);let t=this.engine,e=this;this._readyState="opening",this.skipReconnect=!1;let n=be(t,"open",function(){e.onopen(),i&&i()}),r=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),i?i(d):this.maybeReconnectOnOpen()},s=be(t,"error",r);if(this._timeout!==!1){let d=this._timeout,h=this.setTimeoutFn(()=>{n(),r(new Error("timeout")),t.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(n),this.subs.push(s),this}connect(i){return this.open(i)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let i=this.engine;this.subs.push(be(i,"ping",this.onping.bind(this)),be(i,"data",this.ondata.bind(this)),be(i,"error",this.onerror.bind(this)),be(i,"close",this.onclose.bind(this)),be(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(i){try{this.decoder.add(i)}catch(t){this.onclose("parse error",t)}}ondecoded(i){pt(()=>{this.emitReserved("packet",i)},this.setTimeoutFn)}onerror(i){this.emitReserved("error",i)}socket(i,t){let e=this.nsps[i];return e?this._autoConnect&&!e.active&&e.connect():(e=new At(this,i,t),this.nsps[i]=e),e}_destroy(i){let t=Object.keys(this.nsps);for(let e of t)if(this.nsps[e].active)return;this._close()}_packet(i){let t=this.encoder.encode(i);for(let e=0;e<t.length;e++)this.engine.write(t[e],i.options)}cleanup(){this.subs.forEach(i=>i()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(i,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let i=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let e=this.setTimeoutFn(()=>{i.skipReconnect||(this.emitReserved("reconnect_attempt",i.backoff.attempts),!i.skipReconnect&&i.open(n=>{n?(i._reconnecting=!1,i.reconnect(),this.emitReserved("reconnect_error",n)):i.onreconnect()}))},t);this.opts.autoUnref&&e.unref(),this.subs.push(()=>{this.clearTimeoutFn(e)})}}onreconnect(){let i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}};var pi={};function hi(o,i){typeof o=="object"&&(i=o,o=void 0),i=i||{};let t=Gs(o,i.path||"/socket.io"),e=t.source,n=t.id,r=t.path,s=pi[n]&&r in pi[n].nsps,d=i.forceNew||i["force new connection"]||i.multiplex===!1||s,h;return d?h=new Rt(e,i):(pi[n]||(pi[n]=new Rt(e,i)),h=pi[n]),t.query&&!i.query&&(i.query=t.queryKey),h.socket(t.path,i)}Object.assign(hi,{Manager:Rt,Socket:At,io:hi,connect:hi});var ea=(()=>{let i=class i{constructor(){this._getMessage=new To(void 0),this.connect()}connect(){this.socket=hi(Yo.baseurl),this.socket.on("connect",()=>{console.log("Connected to the server")}),this.socket.on("disconnect",()=>{console.log("Disconnected from the server")}),this.socket.on("message",e=>{console.log("socket message",e),this._getMessage.next(e),this._getMessage.next(void 0)})}sendMessage(e){this.socket.emit("ping",e)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=_t({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var gd=o=>({"animated-circle":o}),on=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-timer"]],inputs:{time:"time"},standalone:!0,features:[Je],decls:2,vars:4,consts:[[1,"timer",3,"ngClass"]],template:function(n,r){n&1&&(c(0,"div",0),m(1),l()),n&2&&(M("ngClass",ee(2,gd,r.time<4&&r.time>0)),u(),N(" ",r.time,`
`))},dependencies:[Ct,we],styles:[".timer[_ngcontent-%COMP%]{width:80px;height:80px;background-color:transparent;border-radius:50%;position:absolute;top:0;right:1%;font-size:3em;padding:0 .4em;color:#fff;border:solid 3px;font-family:orbitron-medium}.animated-circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_colorChange 1s infinite}@media screen and (max-width: 768px){.timer[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2em;padding:.2em .5em;font-family:orbitron-medium;margin-top:5px}}@media screen and (min-width: 768px){.animated-circle[_ngcontent-%COMP%]{animation:none}}@keyframes _ngcontent-%COMP%_colorChange{0%,to{background-color:transparent}50%{background-color:red}}@media screen and (max-height: 500px){.timer[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2em;padding:.2em .5em;font-family:orbitron-medium;margin-top:5px}}"]});let o=i;return o})();var so=o=>({green:o});function _d(o,i){if(o&1&&(v(0,"div",9)(1,"div",9)(2,"div",9),m(3," \xA0 ")),o&2){let t=f(2);M("ngClass",ee(3,so,t.user.lives>=1)),u(),M("ngClass",ee(5,so,t.user.lives>=2)),u(),M("ngClass",ee(7,so,t.user.lives>=3))}}function xd(o,i){if(o&1){let t=I();c(0,"div",0),v(1,"img",5),m(2,"\xA0 "),v(3,"i",6),m(4),E(5,_d,4,9),v(6,"i",7),m(7),c(8,"button",8),y("click",function(){x(t);let n=f();return b(n.confirmExit())}),m(9,"Exit"),l()()}if(o&2){let t=f();u(),W("src",t.user.image,F),u(3),re("\xA0",t.user.points," | ",t.user.daily_high?t.user.daily_high:t.user.points," \xA0 "),u(),R(5,t.show_lives?5:-1),u(2),N("\xA0",t.active_players," ")}}function bd(o,i){if(o&1){let t=I();c(0,"div",10)(1,"em"),v(2,"i",7),m(3),l(),c(4,"button",8),y("click",function(){x(t);let n=f();return b(n.confirmExit())}),m(5,"Exit"),l()()}if(o&2){let t=f();u(3),N("\xA0\xA0Total Daily Plays: ",t.active_players,"")}}function vd(o,i){if(o&1){let t=I();c(0,"div",11)(1,"button",12),y("click",function(){x(t);let n=f();return b(n.closeModal("confirmExitModal"))}),v(2,"i",13),l(),c(3,"h1",14),m(4,"Are you sure you want to exit the game?"),l(),c(5,"div",15)(6,"button",16),y("click",function(){x(t);let n=f();return b(n.exitGame())}),m(7,"YES"),l(),v(8,"br")(9,"br"),c(10,"button",16),y("click",function(){x(t);let n=f();return b(n.closeModal("confirmExitModal"))}),m(11,"NO"),l()()()}}var rn=(()=>{let i=class i{constructor(e){this.router=e}ngOnChanges(e){this.number_of_users=10+Math.round(Math.random()*10)}confirmExit(){$("#confirmExitModal").modal("show")}exitGame(){$("#confirmExitModal").modal("hide"),this.user.account_type=="player"?this.router.navigate(["user/user-dashboard"]):this.router.navigate(["business/business-dashboard"])}closeModal(e){$("#"+e).modal("hide")}};i.\u0275fac=function(n){return new(n||i)(A(xe))},i.\u0275cmp=V({type:i,selectors:[["app-user-stats"]],inputs:{user:"user",counter:"counter",active_players:"active_players",show_lives:"show_lives",on_fire:"on_fire"},standalone:!0,features:[fe,Je],decls:6,vars:2,consts:[[1,"user_stats"],["id","confirmExitModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modal-body modal_body",4,"ngIf"],[1,"user_image",3,"src"],[1,"fa-solid","fa-arrow-trend-up","trend_icon"],[1,"fa-solid","fa-user","user_icon"],[1,"btn","btn-default","button_primary","button_exit",3,"click"],[1,"life_circle",3,"ngClass"],[1,"game_stats"],[1,"modal-body","modal_body"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"modal_title"],[1,"text-center",2,"padding","25px 0"],["type","button",1,"btn","btn-default","button_primary",3,"click"]],template:function(n,r){n&1&&(E(0,xd,10,5,"div",0)(1,bd,6,1),c(2,"div",1)(3,"div",2)(4,"div",3),E(5,vd,12,0,"div",4),l()()()),n&2&&(R(0,r.user.account_type=="player"?0:1),u(5),M("ngIf",r.user))},dependencies:[Ct,we,_e],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_stats[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;padding:0 10px 20px}.life_circle[_ngcontent-%COMP%]{width:12px;height:12px;display:inline-block;border-radius:50%;background-color:red;margin:0 1px;vertical-align:middle}.green[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.trend_icon[_ngcontent-%COMP%]{color:#adff2f;font-size:18px}.game_stats[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;padding:1% 0 0 1%}.user_icon[_ngcontent-%COMP%]{color:#3cf;font-size:20px}.user_image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%;display:inline-block}.button_exit[_ngcontent-%COMP%]{font-size:16px;padding:0 10px;min-width:auto;display:inline-block;margin:0 7px}.user_on_fire[_ngcontent-%COMP%]{width:50px;position:absolute;left:10px}@media screen and (max-height: 500px){.game_stats[_ngcontent-%COMP%]{font-size:1em}}']});let o=i;return o})();var sn=(()=>{let i=class i{ngOnChanges(e){var n=Math.floor(Math.random()*this.banners.length);n==this.banners.length&&(n-=1),this.banner=this.banners[n]}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-question-footer4"]],inputs:{counter:"counter",venue_id:"venue_id",banners:"banners"},standalone:!0,features:[fe,Je],decls:13,vars:5,consts:[["data-ad-client","ca-pub-2657061045143735","data-ad-slot","3693071727","data-ad-format","auto","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"],[1,"row","join_container"],[1,"col-12","col-md-6","qrcode_container"],[1,"join_text"],[1,"text-center"],[3,"qrdata","width","margin","errorCorrectionLevel"],[1,"join_url"],[1,"col-12","col-md-6","logo_container"],["src","../../../assets/images/logo.png",1,"logo_with_words"],[1,"join_text",2,"padding","20px 0"]],template:function(n,r){n&1&&(v(0,"ins",0),c(1,"div",1)(2,"div",2)(3,"div",3),m(4,"Join the game for a chance to win money. It\u2019s free!"),l(),c(5,"div",4),v(6,"qrcode",5),l(),c(7,"div",6),m(8),l()(),c(9,"div",7),v(10,"img",8),c(11,"div",9),m(12,"SportzBattle.com"),l()()()),n&2&&(u(6),M("qrdata","sptzba.com/join/"+r.venue_id)("width",175)("margin",2)("errorCorrectionLevel","M"),u(2),k("sptzba.com/join/"+r.venue_id))},dependencies:[Fi,Di],styles:[".join_container[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin:3% 0;padding-bottom:2%;width:100%;height:20vh}.join_text[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;text-align:center;padding:0 0 1.5%;font-family:orbitron-medium}.join_url[_ngcontent-%COMP%]{color:#ff0;font-size:1.5em;font-family:roboto-bold;text-align:center;padding-top:1.5%}.logo_with_words[_ngcontent-%COMP%]{height:100%;margin:auto;display:block;object-fit:contain}.qrcode_container[_ngcontent-%COMP%]{height:100%}.qr_code[_ngcontent-%COMP%]{height:60%;margin:auto;display:block}.logo_container[_ngcontent-%COMP%]{height:100%}.logo_words_container[_ngcontent-%COMP%]{display:none}.logo_words[_ngcontent-%COMP%]{width:80%;margin:auto;display:block}.button_invite_friend[_ngcontent-%COMP%]{background-color:#b30000;color:#fff;font-family:orbitron-medium;font-size:20px}.invite_friend_container[_ngcontent-%COMP%]{display:none}.banner[_ngcontent-%COMP%]{height:8%;margin:1% auto;display:block}@media screen and (max-width: 768px){.logo_with_words[_ngcontent-%COMP%]{display:none}.join_text[_ngcontent-%COMP%]{padding-top:0}.join_url[_ngcontent-%COMP%]{font-size:1em}.logo_words_container[_ngcontent-%COMP%]{display:block}.qrcode_container[_ngcontent-%COMP%], .logo_container[_ngcontent-%COMP%]{display:none}.join_container[_ngcontent-%COMP%]{height:auto}.invite_friend_container[_ngcontent-%COMP%]{display:block}.banner[_ngcontent-%COMP%]{width:100%;height:auto;margin:3% auto}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:3%}.join_container[_ngcontent-%COMP%]{margin:2% 0}}@media screen and (max-height: 500px){.join_text[_ngcontent-%COMP%], .join_url[_ngcontent-%COMP%]{font-size:.75em}}"]});let o=i;return o})();var ta=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-splash"]],decls:9,vars:0,consts:[["src","../../../assets/images/logo.png",1,"logo"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[2,"position","relative"],[1,"hero_text"],[1,"loading"],[1,"est"]],template:function(n,r){n&1&&(v(0,"img",0)(1,"img",1),c(2,"div",2)(3,"p",3),m(4,"Battle On"),l(),c(5,"div",4),m(6,"Loading..."),l(),c(7,"div",5),m(8,"Est. 2024"),l()())},styles:[".logo[_ngcontent-%COMP%]{width:100%;max-height:50%;margin:auto;display:block;object-fit:contain;padding-top:5%;animation:_ngcontent-%COMP%_blurToClear 3s ease-out forwards}@keyframes _ngcontent-%COMP%_blurToClear{0%{filter:blur(15px)}to{filter:blur(0px)}}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:100%;max-width:760px}.hero_text[_ngcontent-%COMP%]{color:#fff;font-size:2em;text-align:center;font-family:orbitron-bold;padding:0 10px}.loading[_ngcontent-%COMP%]{font-family:orbitron-regular;font-size:1.2em;text-align:center;color:#fff}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%]{width:90%;padding-top:35px}.logo_words[_ngcontent-%COMP%]{width:90%}.hero_text[_ngcontent-%COMP%]{font-size:1.6em}}.est[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:calc(50% - 45px);color:#fff;font-family:orbitron-bold}@media screen and (max-height: 500px){.logo[_ngcontent-%COMP%]{max-height:45%;width:auto;padding-top:35px}.logo_words[_ngcontent-%COMP%]{width:70%}.hero_text[_ngcontent-%COMP%]{font-size:1.2em}}"]});let o=i;return o})();var Md=(o,i)=>i.user_id;function Sd(o,i){if(o&1&&(c(0,"div",6),m(1),l()),o&2){let t=f();u(),k(t.countdown)}}function Ed(o,i){o&1&&(c(0,"div"),m(1,"$0"),l())}function Pd(o,i){o&1&&(c(0,"div"),m(1,"$0"),l())}function Od(o,i){o&1&&(c(0,"div"),m(1,"$0"),l())}function Td(o,i){o&1&&(c(0,"div"),m(1,"$0"),l())}function kd(o,i){o&1&&(c(0,"div"),m(1,"$0"),l())}function Id(o,i){if(o&1&&(c(0,"tr")(1,"td",3),m(2),l(),c(3,"td",4),v(4,"img",7),m(5),l(),c(6,"td",3),m(7),l(),c(8,"td",3),E(9,Ed,2,0,"div",8)(10,Pd,2,0,"div",8)(11,Od,2,0,"div",8)(12,Td,2,0,"div",8)(13,kd,2,0,"div",8),l()()),o&2){let t=i.$implicit;u(2),k(t.position),u(2),W("src",t.image,F),u(),N("\xA0\xA0\xA0",t.username," "),u(2),k(t.max_score),u(2),M("ngIf",t.position==1),u(),M("ngIf",t.position==2),u(),M("ngIf",t.position==3),u(),M("ngIf",t.position==4),u(),M("ngIf",t.position>4)}}var ia=(()=>{let i=class i{constructor(e,n){this.userService=e,this.commonService=n,this.is_mobile=window.innerWidth<768,this.users_o=[],this.games=[],this.players=[],this.data_ready=!1,this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight()}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(n=>{this.user=n,this.loadData()}),this.position_label=this.is_mobile?"Pos.":"Position",this.points_label=this.is_mobile?"Pts.":"Points",this.winnings_label=this.is_mobile?"PW":"Potential Winnings",this.users=this.users_o.slice(0,5),setTimeout(()=>{this.users=this.users_o.slice(5,10)},7e3),this.countdown_interval=setInterval(()=>{this.countdown=this.timeUntil3AMET()},1e3);var e=Math.floor(Math.random()*this.banners.length);e==this.banners.length&&(e-=1),this.banner=this.banners[e]}ngOnDestroy(){clearInterval(this.countdown_interval)}loadData(){this.userService.getAllGames().subscribe(e=>{this.games=e.filter(n=>n.timestamp>=this.daily_start_time),this.filterPlayers()})}filterPlayers(){this.data_ready=!1,this.players=[],this.games.forEach(e=>{var n=this.players.find(r=>r.user_id==e.user_id);n||this.players.push({user_id:e.user_id,username:e.username,image:e.user_image})}),this.players.forEach(e=>{var n=this.games.filter(d=>d.user_id==e.user_id);e.games=n.length;var r=0,s=0;n.forEach(d=>{r+=d.score?d.score:0}),n.forEach(d=>{d.score>s&&(s=d.score)}),e.points=r,e.max_score=s}),this.players=this.players.sort((e,n)=>e.score-n.score),this.players.forEach((e,n)=>{e.position=n+1}),this.data_ready=!0}timeUntil3AMET(){let e=new Date,n=4;var r=new Date(e.getTime()+n*60*60*1e3),s=new Date(r);s.setHours(3,0,0,0),r.getHours()>=3&&s.setDate(s.getDate()+1);var d=s-r,h=Math.floor(d/(1e3*60*60)),C=Math.floor(d%(1e3*60*60)/(1e3*60)),S=Math.floor(d%(1e3*60)/1e3),O,P;return O=C<10?"0"+C:C,P=S<10?"0"+S:S,this.is_mobile==!0?`${h}:${O}::${P}`:`${h} hrs, ${C} min, ${S} sec`}};i.\u0275fac=function(n){return new(n||i)(A(Se),A(Me))},i.\u0275cmp=V({type:i,selectors:[["app-leaderboard-table"]],inputs:{banners:"banners"},decls:18,vars:5,consts:[["class","countdown",4,"ngIf"],[1,"title"],[1,"table","leaderboard_table"],[1,"tc",2,"text-align","center"],[1,"tc"],[1,"banner",3,"src"],[1,"countdown"],[1,"user_image",3,"src"],[4,"ngIf"]],template:function(n,r){n&1&&(E(0,Sd,2,1,"div",0),c(1,"div",1),m(2,"Daily Leaderboard"),l(),c(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),m(7),l(),c(8,"th",4),m(9,"Player"),l(),c(10,"th",3),m(11),l(),c(12,"th",3),m(13),l()()(),c(14,"tbody"),Ve(15,Id,14,9,"tr",null,Md),l()(),v(17,"img",5)),n&2&&(M("ngIf",r.countdown),u(7),k(r.position_label),u(4),k(r.points_label),u(2),k(r.winnings_label),u(2),Be(r.players),u(2),W("src",r.banner,F))},dependencies:[_e],styles:[".tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:1.2em;font-family:orbitron-medium}.leaderboard_table[_ngcontent-%COMP%]{width:80%;margin:auto}.title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:4em;color:#fff;text-align:center;padding:2% 0}.user_image[_ngcontent-%COMP%]{width:2.5em;border-radius:50%;height:2.5em;object-fit:cover}.countdown[_ngcontent-%COMP%]{text-align:right;font-size:1.5em;color:#fff;font-style:italic;padding:.5% 1.5%;position:absolute;top:1%;right:1%;background-color:red;font-family:orbitron-medium}.banner[_ngcontent-%COMP%]{width:80%;margin:2% auto;display:block}@media screen and (max-width: 768px){.tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:.8em}.title[_ngcontent-%COMP%]{font-size:2em}.leaderboard_table[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.countdown[_ngcontent-%COMP%]{font-size:1em}.banner[_ngcontent-%COMP%]{width:100%;max-width:none}}@media screen and (max-height: 500px){.title[_ngcontent-%COMP%]{font-size:2em}.tc[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-size:.8em}}"]});let o=i;return o})();var na=(()=>{let i=class i{ngOnInit(){var e=Math.floor(Math.random()*this.ads.length);e==this.ads.length&&(e-=1),this.advertisement=this.ads[e]}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-advertisement-page"]],inputs:{ads:"ads"},decls:1,vars:1,consts:[[1,"hero_image",3,"src"]],template:function(n,r){n&1&&v(0,"img",0),n&2&&W("src",r.advertisement,F)},styles:[".hero_image[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover}"]});let o=i;return o})();function zd(o,i){if(o&1){let t=I();c(0,"button",6),y("click",function(){x(t);let n=f(2);return b(n.makeDouble())}),m(1,"Double or Nothing"),l()}}function Vd(o,i){o&1&&(c(0,"button",5),m(1,"Double or Nothing"),l())}function Bd(o,i){if(o&1&&E(0,zd,2,0,"button",4)(1,Vd,2,0,"button",5),o&2){let t=f();R(0,t.double_option_has_been_used==!1?0:-1),u(),R(1,t.option_selected?1:-1)}}var oa=(()=>{let i=class i{constructor(){this.make_double=new de,this.option_selected=!1,this.countdown_timer=4}ngOnInit(){this.timerInterval=setInterval(()=>{this.countdown_timer-=1,this.countdown_timer<0&&(this.countdown_timer=0)},1e3);var e=Math.floor(Math.random()*this.banners.length);e==this.banners.length&&(e-=1),this.banner=this.banners[e]}ngOnDestroy(){clearInterval(this.timerInterval)}makeDouble(){this.option_selected=!0,this.make_double.emit()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-prepare-screen"]],inputs:{banners:"banners",double_option_has_been_used:"double_option_has_been_used",account_type:"account_type"},outputs:{make_double:"make_double"},decls:6,vars:2,consts:[[1,"countdown_timer"],["src","../../../assets/images/logo.png",1,"logo_prepare"],["src","../../../assets/images/logo_words.png",1,"logo_words_prepare"],["data-ad-client","ca-pub-2657061045143735","data-ad-slot","3693071727","data-ad-format","auto","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"],[1,"btn","btn-default","button_primary","shiny-button"],["disabled","",1,"btn","btn-default","button_primary","double_or_nothing_selected"],[1,"btn","btn-default","button_primary","shiny-button",3,"click"]],template:function(n,r){n&1&&(c(0,"h1",0),m(1),l(),E(2,Bd,2,2),v(3,"img",1)(4,"img",2)(5,"ins",3)),n&2&&(u(),k(r.countdown_timer),u(),R(2,r.account_type=="player"?2:-1))},styles:['.countdown_timer[_ngcontent-%COMP%]{font-size:12em;color:#fff;font-family:roboto-bold;text-align:center;padding:0}.logo_prepare[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words_prepare[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.banner[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:3% auto;display:block}.double_or_nothing[_ngcontent-%COMP%]{background-color:transparent;border-radius:0;color:#fff;font-weight:600;font-size:16px;border:solid 2px gold;display:block;margin:-10px auto 30px}.double_or_nothing_selected[_ngcontent-%COMP%]{color:#000;background-color:gold;border-radius:0;font-weight:600;font-size:16px;border:solid 2x black;display:block;margin:-10px auto 30px}@media screen and (max-width: 768px){.countdown_timer[_ngcontent-%COMP%]{font-size:10em;padding:2% 0}.logo_prepare[_ngcontent-%COMP%], .logo_words_prepare[_ngcontent-%COMP%]{width:80%}}@media screen and (max-height: 500px){.countdown_timer[_ngcontent-%COMP%]{font-size:5em;padding:2% 0}}.shiny-button[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:15px 30px;font-size:16px;font-weight:700;color:#000;background:linear-gradient(45deg,gold,#fff);border:none;border-radius:5px;cursor:pointer;overflow:hidden;outline:none;margin:0 auto 30px;display:block}.shiny-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(120deg,#fff3,#fff9,#fff3);transform:rotate(45deg);filter:blur(5px);animation:_ngcontent-%COMP%_shine-animation 3s linear infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_shine-animation{0%{transform:rotate(45deg) translate(-200%)}50%{transform:rotate(45deg) translate(0)}to{transform:rotate(45deg) translate(200%)}}']});let o=i;return o})();var ra=(()=>{let i=class i{constructor(e){this.router=e,this.playAgain=new de}startAgain(){this.playAgain.emit()}gotoDashboard(){this.router.navigate(["user/user-dashboard"])}};i.\u0275fac=function(n){return new(n||i)(A(xe))},i.\u0275cmp=V({type:i,selectors:[["app-game-over"]],outputs:{playAgain:"playAgain"},decls:11,vars:0,consts:[["src","../../../assets/images/logo.png",1,"logo",2,"padding-top","50px"],["src","../../../assets/images/logo_words.png",1,"logo_words"],[1,"game_over"],[1,"text-center",2,"padding","30px 0"],[1,"btn","btn-default","play_again_button",3,"click"],[1,"btn","btn-default","dashboard_button",3,"click"]],template:function(n,r){n&1&&(v(0,"img",0)(1,"img",1),c(2,"div",2),m(3,"Game Over"),l(),v(4,"br"),c(5,"div",3)(6,"button",4),y("click",function(){return r.startAgain()}),m(7,"Play Again"),l(),v(8,"br"),c(9,"button",5),y("click",function(){return r.gotoDashboard()}),m(10,"Go to Dashboard"),l()())},styles:[".logo[_ngcontent-%COMP%]{height:20%;margin:auto;display:block;object-fit:contain}.logo_words[_ngcontent-%COMP%]{margin:auto;display:block;padding:30px 0;width:30%;max-width:760px}.game_over[_ngcontent-%COMP%]{color:#fff;font-size:2em;font-family:orbitron-bold;text-align:center}.play_again_button[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;font-size:1.5em;font-family:orbitron-medium;padding:10px 30px}.dashboard_button[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-medium;font-size:18px;padding:20px 0}@media screen and (max-width: 768px){.logo[_ngcontent-%COMP%], .logo_words[_ngcontent-%COMP%]{width:80%}}"]});let o=i;return o})();var sa=(()=>{let i=class i{ngOnInit(){this.width=window.innerWidth/2>275?275:window.innerWidth/2,this.getBanner()}ngOnChanges(e){this.getBanner()}getBanner(){var e=Math.floor(Math.random()*this.banners.length);e==this.banners.length&&(e-=1),this.banner=this.banners[e]}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-qrcode"]],inputs:{banners:"banners",venue_id:"venue_id"},features:[fe],decls:11,vars:5,consts:[["src","../../../assets/images/logo.png",1,"logo"],[1,"join_text","text-center"],[1,"text-center",2,"padding","40px 0"],[3,"qrdata","width","margin","errorCorrectionLevel"],[1,"banner",3,"src"]],template:function(n,r){n&1&&(v(0,"img",0),c(1,"div",1),m(2," Advertise here on this screen today with SportzBattle via full page and banner ads "),v(3,"br")(4,"br"),m(5,`
Contact:\xA0tony@sportzbattle.com`),v(6,"br"),m(7,`
551-486-2793
`),l(),c(8,"div",2),v(9,"qrcode",3),l(),v(10,"img",4)),n&2&&(u(9),M("qrdata","sportzbattle.com/contact-8")("width",r.width)("margin",2)("errorCorrectionLevel","M"),u(),W("src",r.banner,F))},dependencies:[Di],styles:[".join_container[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin:3% 0;padding-bottom:2%;width:100%;height:20vh}.join_text[_ngcontent-%COMP%]{font-size:1.9em;color:#fff;text-align:center;padding:40px 0 1.5%;font-family:orbitron-medium}.join_url[_ngcontent-%COMP%]{color:#ff0;font-size:2em;font-family:roboto-bold;text-align:center;padding:20px 0}.banner[_ngcontent-%COMP%]{height:8%;margin:1% auto;display:block}.qrcode[_ngcontent-%COMP%]{padding:40px 0}.logo[_ngcontent-%COMP%]{width:240px;margin:auto;display:block;padding:20px 0}@media screen and (max-width: 768px){.banner[_ngcontent-%COMP%]{width:100%;height:auto;margin:3% auto}.join_text[_ngcontent-%COMP%]{font-size:1.3em}.join_url[_ngcontent-%COMP%]{font-size:2em}.logo[_ngcontent-%COMP%]{width:220px}}"]});let o=i;return o})();var Dd=(o,i)=>i.text,Fd=(o,i)=>({"font-size":o,"padding-top":i}),qd=o=>({invisible:o}),Wd=(o,i,t)=>({greenyellow:o,red:i,invisible:t});function Hd(o,i){if(o&1&&(c(0,"div",10),m(1),l()),o&2){let t=f(3);M("ngStyle",Do(2,Fd,t.points_value>99?"40px":"48px",t.value_points>99?"30px":"10px")),u(),N("+",t.user_on_fire?2*t.value_points:t.value_points,"")}}function jd(o,i){o&1&&v(0,"app-on-fire-popup")}function Yd(o,i){o&1&&v(0,"app-double-or-nothing-popup")}function Qd(o,i){o&1&&v(0,"app-double-or-nothing-failed-popup")}function Gd(o,i){o&1&&v(0,"app-gridion-popup")}function Xd(o,i){o&1&&v(0,"app-hardwood-popup")}function Kd(o,i){o&1&&v(0,"app-park-popup")}function Jd(o,i){o&1&&v(0,"app-high-roller-popup")}function $d(o,i){o&1&&v(0,"app-brainiac-popup")}function Zd(o,i){o&1&&v(0,"app-hit-the-cycle-popup")}function ep(o,i){if(o&1&&v(0,"app-timer",11),o&2){let t=f(3);M("time",t.time)}}function tp(o,i){o&1&&v(0,"img",12)}function ip(o,i){if(o&1&&(E(0,tp,1,0,"img",12),c(1,"div",6)(2,"em"),m(3),l()()),o&2){let t=f(3);R(0,t.user_on_fire&&t.question_active?0:-1),u(),M("ngClass",ee(3,qd,t.question_active==!1)),u(2),k(t.value_points>0?t.value_points:0)}}function np(o,i){if(o&1&&(c(0,"div",13)(1,"em"),m(2),l()()),o&2){let t=f(3);u(2),k(t.question_notification)}}function op(o,i){if(o&1){let t=I();c(0,"div",8)(1,"div",14),y("click",function(){let n=x(t).$implicit,r=f(3);return b(r.answerSelected(n))}),m(2),l()()}if(o&2){let t=i.$implicit,e=f(3);u(),M("ngClass",Fo(2,Wd,t.show_green,t.show_red,e.time_is_up==!0&&t.is_right_answer==!1||t.hide)),u(),N(" ",t.text,"")}}function rp(o,i){if(o&1&&v(0,"app-question-footer4",9),o&2){let t=f(3);M("counter",t.counter)("venue_id",t.user.venue_id)("banners",t.banners)}}function sp(o,i){if(o&1&&(v(0,"app-user-stats",1),E(1,Hd,2,5,"div",2)(2,jd,1,0,"app-on-fire-popup")(3,Yd,1,0,"app-double-or-nothing-popup")(4,Qd,1,0,"app-double-or-nothing-failed-popup")(5,Gd,1,0,"app-gridion-popup")(6,Xd,1,0,"app-hardwood-popup")(7,Kd,1,0,"app-park-popup")(8,Jd,1,0,"app-high-roller-popup")(9,$d,1,0,"app-brainiac-popup")(10,Zd,1,0,"app-hit-the-cycle-popup")(11,ep,1,1,"app-timer",3),c(12,"div",4)(13,"div",5),m(14),l(),E(15,ip,4,5,"div",6)(16,np,3,1),c(17,"div",7),Ve(18,op,3,6,"div",8,Dd),l()(),E(20,rp,1,3,"app-question-footer4",9)),o&2){let t=f(2);M("user",t.user)("counter",t.counter)("show_lives",!0)("active_players",t.active_players)("on_fire",t.user_on_fire),u(),M("ngIf",t.show_point_animation),u(),R(2,t.popup=="on-fire"?2:-1),u(),R(3,t.popup=="double-or-nothing"?3:-1),u(),R(4,t.popup=="double-or-nothing-failed"?4:-1),u(),R(5,t.popup=="gridion"?5:-1),u(),R(6,t.popup=="hardwood"?6:-1),u(),R(7,t.popup=="park"?7:-1),u(),R(8,t.popup=="high-roller"?8:-1),u(),R(9,t.popup=="brainiac"?9:-1),u(),R(10,t.popup=="hit-the-cycle"?10:-1),u(),M("ngIf",t.show_timer),u(3),k(t.message.question),u(),R(15,t.question_notification?16:15),u(3),Be(t.options),u(2),R(20,t.banners?20:-1)}}function ap(o,i){if(o&1&&v(0,"app-user-stats",15)(1,"app-leaderboard-table",16),o&2){let t=f(2);M("user",t.user)("show_lives",!1)("active_players",t.active_players),u(),M("banners",t.banners)}}function cp(o,i){if(o&1&&v(0,"app-advertisement-page",17),o&2){let t=f(2);M("ads",t.ads)}}function lp(o,i){if(o&1&&v(0,"app-qrcode",18),o&2){let t=f(2);M("banners",t.banners)("venue_id",t.user.venue_id)}}function dp(o,i){if(o&1){let t=I();c(0,"app-prepare-screen",19),y("make_double",function(){x(t);let n=f(2);return b(n.makeDouble())}),l()}if(o&2){let t=f(2);M("banners",t.banners)("account_type",t.user.account_type)("double_option_has_been_used",t.double_option_has_been_used)}}function pp(o,i){o&1&&v(0,"app-warrior-popup")}function hp(o,i){if(o&1){let t=I();E(0,pp,1,0,"app-warrior-popup"),c(1,"app-game-over",20),y("playAgain",function(){x(t);let n=f(2);return b(n.playAgain())}),l()}if(o&2){let t=f(2);R(0,t.popup=="warrior"?0:-1)}}function up(o,i){if(o&1&&E(0,sp,21,19)(1,ap,2,4)(2,cp,1,1)(3,lp,1,2)(4,dp,1,3)(5,hp,2,1),o&2){let t=f();R(0,t.page=="game"?0:t.page=="leaderboard"?1:t.page=="advertisement"&&t.ads?2:t.page=="qrcode"?3:t.page=="prepare_screen"?4:t.page=="game_over"?5:-1)}}function mp(o,i){o&1&&v(0,"app-splash")}var aa=(()=>{let i=class i{constructor(e,n,r,s,d,h){this.socketioService=e,this.commonService=n,this.userService=r,this.tablesService=s,this.myblobService=d,this.router=h,this.options=[],this.has_joined=!1,this.page="game",this.debug=!1,this.show_timer=!1,this.time_is_up=!1,this.ads=[],this.show_point_animation=!1,this.points_value=0,this.screen_width=window.innerWidth,this.question_active=!1,this.users=[],this.start_timestamp=Date.now(),this.counter=0,this.cycle_counter=1,this.game_is_active=!1,this.user_on_fire=!1,this.correct_answers_in_a_row=0,this.is_double_or_nothing=!1,this.double_option_has_been_used=!1,this.debug_ctr=0,this.hit_football=!1,this.hit_basketball=!1,this.hit_baseball=!1,this.user_points_o=0,this.popup="none",this.has_warrior_badge=!1,this.has_hit_the_cycle=!1}ngOnInit(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?console.log("Tab is in the background"):console.log("Tab is active again")}),this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.user.lives=3,this.user.points=0,this.user.rank=3,this.user.account_type=="player"?(this.createGame(),this.getUserDailyHighScore(),this.getUserBadges()):this.user.account_type=="business"&&this.loadScreens(),this.loadAdvertisements()}),this.subscribeToSocket()}loadScreens(){this.tablesService.GetFiltered("screens","venue_id",this.user.venue_id).subscribe(e=>{var n=e,r=window.innerWidth+" x "+window.innerHeight,s=n.find(h=>h.dimensions==r);if(!s){var d={venue_id:this.user.venue_id,dimensions:r};this.tablesService.AddItem("screens",d).subscribe()}})}ngOnDestroy(){this.messagesSubscription&&this.messagesSubscription.unsubscribe(),this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}subscribeToSocket(){this.messagesSubscription=this.socketioService._getMessage.subscribe(e=>{var n=Date.now()-this.start_timestamp;if(this.user.account_type=="business"&&this.socketioService.sendMessage("ping"),e&&n>5e3){if(clearInterval(this.timerInterval),clearInterval(this.timer2Interval),this.user.lives<=0){this.gameOver();return}this.message=e,console.log("this.message",this.message),this.has_joined=!0,this.message.message=="leaderboard"?this.page="leaderboard":this.message.message=="advertisement"?(this.page="advertisement",this.cycle_counter+=1):this.message.message=="qrcode"?this.page="qrcode":this.message.message=="question"&&(this.counter+=1,this.page="prepare_screen",this.is_double_or_nothing=!1,this.question_notification=void 0,setTimeout(()=>{this.page="game",this.time_is_up=!1,this.has_joined=!0,this.question_active=!0,this.message.question=this.commonService.decrypt("sb",e.question),this.right_answer=this.commonService.decrypt("sb",e.key),this.hiding_order=JSON.parse(this.commonService.decrypt("sb",e.hiding_order)),console.log("this.hiding_order",this.hiding_order),this.options=[],this.message.answers.forEach(s=>{this.options.push({text:s,is_right_answer:s==this.right_answer})}),this.time=10,this.show_timer=!0;var r=0;this.question_start_time=Date.now(),this.timerInterval&&clearInterval(this.timerInterval),this.timer2Interval&&clearInterval(this.timer2Interval),this.timer2Interval=setInterval(()=>{this.value_points=100-Math.round((Date.now()-this.question_start_time)/100)},200),this.timerInterval=setInterval(()=>{if(this.time-=1,r+=1,this.time<0&&(this.time=0,this.time_is_up=!0,this.question_active==!0&&this.answerSelected(void 0)),r==4&&(this.options[this.hiding_order[0]].hide=!0),r==7&&(this.options[this.hiding_order[1]].hide=!0),r==12&&this.tablesService.GetFiltered("user_activity","question_id",this.message.question_id).subscribe(s=>{var d=Date.now()-11e3,h=s.filter(O=>O.timestamp_question>d),C=0;h.forEach(O=>{O.got_it_right==1&&C++});var S={message:"results",percent:Math.round(100*C/h.length),got_right:C,total_players:h.length};this.percent_correct=S.percent,h.length>0&&(this.question_notification=S.percent+"% answered correctly"),this.active_players=S.total_players}),r==14&&this.user.lives<=0){this.gameOver();return}},1e3)},4e3))}})}answerSelected(e){return ne(this,null,function*(){if(!(this.user.account_type=="business"||this.question_active==!1)){if(this.question_active=!1,this.timer2Interval&&clearInterval(this.timer2Interval),e?.text==this.right_answer){e.show_green=!0,this.user.points+=this.user_on_fire?2*this.value_points:this.value_points,this.points_value=this.user_on_fire?2*this.value_points:this.value_points,this.show_point_animation=!0,this.updateGameRecord(),this.storeAnswer(!0),this.correct_answers_in_a_row+=1,yield this.delay(1500),this.show_point_animation=!1,this.correct_answers_in_a_row==3&&(this.user_on_fire=!0,yield this.showPopUp("on-fire")),this.is_double_or_nothing&&(this.user.points+=this.user.points,yield this.showPopUp("double-or-nothing")),this.message.category=="NFL"?this.hit_football=!0:this.message.category=="NBA"?this.hit_basketball=!0:this.message.category=="MLB"&&(this.hit_baseball=!0),this.correct_answers_in_a_row==7&&(yield this.giveAward("brainiac")),this.hit_football==!0&&this.hit_baseball==!0&&this.hit_basketball==!0&&(this.has_hit_the_cycle==!1&&(yield this.giveAward("hit-the-cycle")),this.has_hit_the_cycle=!0),this.user.points>=1500&&this.user_points_o<1500&&(yield this.giveAward("high-roller"));var n=yield ko(this.userService.updateBadgesCounter(this.user.user_id,this.message.category));console.log("^^^^^^^^^^^^ update counters",n);var r=n.award;r=="gridion"?yield this.giveAward("gridion"):r=="hardwood"?yield this.giveAward("hardwood"):r=="park"&&(yield this.giveAward("park")),this.user_points_o=this.user.points}else e&&(e.show_red=!0),this.storeAnswer(!1),this.user.lives-=1,this.user_on_fire=!1,this.correct_answers_in_a_row=0,this.is_double_or_nothing&&(this.user.points=0,this.showPopUp("double-or-nothing-failed"));this.stopTimer()}})}delay(e){return ne(this,null,function*(){return new Promise(n=>setTimeout(n,e))})}gameOver(){this.page="game_over",this.game_is_active=!1,this.has_warrior_badge==!1&&(this.has_warrior_badge=!0,this.giveAward("warrior")),clearInterval(this.timerInterval),clearInterval(this.timer2Interval),this.messagesSubscription&&this.messagesSubscription.unsubscribe()}updateGameRecord(){var e={game_id:this.game_id,score:this.user.points};this.tablesService.UpdateItem("games","game_id",e).subscribe()}stopTimer(){this.show_timer=!1}playAgain(){this.user.lives=3,this.has_joined=!1,this.double_option_has_been_used=!1,this.correct_answers_in_a_row=0,this.hit_football=!1,this.hit_basketball=!1,this.hit_baseball=!1,this.page="game",this.getUserDailyHighScore(),this.subscribeToSocket()}storeAnswer(e){if(this.game_is_active==!0){var n={user_id:this.user.user_id,got_it_right:e,game_id:this.game_id,question_id:this.message.question_id};this.tablesService.StoreUserActivity(n).subscribe()}}createGame(){var e={user_id:this.user.user_id,venue_id:1,timestamp:Date.now(),score:0,dimensions:window.innerWidth+" x "+window.innerHeight};this.tablesService.AddItem("games",e).subscribe(n=>{this.game_id=n.id,this.game_is_active=!0}),this.user_on_fire=!1}getUserDailyHighScore(){this.userService.getUserDailyHighScore(this.user.user_id).subscribe(e=>{var n=e[0];n&&(this.user.daily_high=n.score)})}loadAdvertisements(){Io([this.myblobService.getActiveFiles(),this.tablesService.GetFiltered("advertisement_accounts","venue_id",this.user.venue_id)]).subscribe(e=>{var n=e[1][0],r=e[0].filter(s=>s.indexOf(n.advertisement_account_id+"/")==0);console.log("active files",r),this.screen_width<540?(this.ads=r.filter(s=>s.indexOf("/mobile/")>-1).map(s=>"https://sportzbattle.blob.core.windows.net/advertisements/"+s),this.ads.length==0&&this.ads.push("https://sportzbattle.blob.core.windows.net/system/mobile_ad.jpg")):(this.ads=r.filter(s=>s.indexOf("/desktop/")>-1).map(s=>"https://sportzbattle.blob.core.windows.net/advertisements/"+s),this.ads.length==0&&this.ads.push("https://sportzbattle.blob.core.windows.net/system/desktop_ad.jpg")),this.banners=r.filter(s=>s.indexOf("/banner/")>-1).map(s=>"https://sportzbattle.blob.core.windows.net/advertisements/"+s),this.banners.length==0&&this.banners.push("https://sportzbattle.blob.core.windows.net/system/banner_ad.jpg")})}makeDouble(){this.is_double_or_nothing=!0,this.double_option_has_been_used=!0}giveAward(e){return ne(this,null,function*(){console.log("GIVE AWARD!",e);var n={user_id:this.user.user_id,timestamp:Date.now(),badge_name:e,badge_icon:this.selectIcon(e)};this.tablesService.AddItem("user_badges",n).subscribe(),yield this.showPopUp(e)})}showPopUp(e){return ne(this,null,function*(){this.popup=e,yield this.delay(3e3),this.popup="none"})}getUserBadges(){this.tablesService.GetFiltered("user_badges","user_id",this.user.user_id).subscribe(e=>{var n=e,r=n.find(s=>s.badge_name=="warrior");r&&(this.has_warrior_badge=!0)})}selectIcon(e){return e=="high-roller"?"https://sportzbattle.blob.core.windows.net/system/dice.png":e=="brainiac"?"https://sportzbattle.blob.core.windows.net/system/brain.png":e=="hit-the-cycle"?"https://sportzbattle.blob.core.windows.net/system/cycle.png":e=="warrior"?"https://sportzbattle.blob.core.windows.net/system/sword.png":e=="gridion"?"https://sportzbattle.blob.core.windows.net/system/football.png":e=="hardwood"?"https://sportzbattle.blob.core.windows.net/system/basketball.png":e=="park"?"https://sportzbattle.blob.core.windows.net/system/baseball.png":void 0}};i.\u0275fac=function(n){return new(n||i)(A(ea),A(Me),A(Se),A(Le),A(Oi),A(xe))},i.\u0275cmp=V({type:i,selectors:[["app-game-screen"]],decls:3,vars:1,consts:[[1,"game_screen"],[3,"user","counter","show_lives","active_players","on_fire"],["class","points_animation",3,"ngStyle",4,"ngIf"],[3,"time",4,"ngIf"],[1,"question_container"],[1,"question"],[1,"question_value",3,"ngClass"],[1,"row"],[1,"col-12","col-md-6"],[3,"counter","venue_id","banners"],[1,"points_animation",3,"ngStyle"],[3,"time"],["src","../../../assets/images/fire-flame.gif",1,"user_on_fire"],[1,"question_valuex","blue"],[1,"option","op1",3,"click","ngClass"],[3,"user","show_lives","active_players"],[3,"banners"],[3,"ads"],[3,"banners","venue_id"],[3,"make_double","banners","account_type","double_option_has_been_used"],[3,"playAgain"]],template:function(n,r){n&1&&(c(0,"div",0),E(1,up,6,1)(2,mp,1,0),l()),n&2&&(u(),R(1,r.has_joined?1:2))},dependencies:[we,_e,Pi,lr,tr,ir,cr,ar,sr,dr,nr,or,rr,on,rn,sn,ta,ia,na,oa,ra,sa],styles:[".game_screen[_ngcontent-%COMP%]{width:100%;height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative}.hero[_ngcontent-%COMP%]{height:calc(100vh - 100px);position:absolute;bottom:0;right:0}.message[_ngcontent-%COMP%]{position:absolute;top:50px;color:#fff}.question_value[_ngcontent-%COMP%]{text-align:center;padding:10px 25px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto;display:inline-block;border-radius:10px;background-color:transparent;border:solid 2px gold;width:150px}.question_valuex[_ngcontent-%COMP%]{text-align:center;padding:10px 25px;font-family:orbitron-medium;font-size:1.2em;color:#fff;width:fit-content;margin:1.5% auto;border-radius:0;background-color:transparent}.pts100[_ngcontent-%COMP%]{font-size:.8em}.green[_ngcontent-%COMP%]{background-color:green!important}.greenyellow[_ngcontent-%COMP%]{background-color:#adff2f!important}.red[_ngcontent-%COMP%]{background-color:red!important}.blue[_ngcontent-%COMP%]{background-color:#3cf!important}.orange[_ngcontent-%COMP%]{background-color:orange!important}.question_container[_ngcontent-%COMP%]{width:100%;display:block;padding:0% 5% 0;text-align:center;margin:0}.question[_ngcontent-%COMP%]{color:#fff;font-size:3.5em;margin:0 0 0%;min-height:150px}.option[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:2.5em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3;z-index:100}.advertisement_text[_ngcontent-%COMP%]{position:absolute;color:#fff;font-family:roboto-bold;font-size:4em;top:20%;right:20px;width:50%;text-align:center}.invisible[_ngcontent-%COMP%]{visibility:hidden}.points_animation[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;background:linear-gradient(45deg,#3cf,#000);color:#fff;top:27px;left:calc(50% + -0px);border-radius:50%;font-size:48px;padding:10px 4px;transform:translate(-50%);opacity:0;animation:_ngcontent-%COMP%_flash 1s ease-in-out forwards}.user_on_fire[_ngcontent-%COMP%]{width:40px;display:inline-block}.question[_ngcontent-%COMP%]{font-size:2.7em}.option[_ngcontent-%COMP%]{font-size:2.2em}@keyframes _ngcontent-%COMP%_flash{0%{opacity:1;transform:translate(-50%,-20px) scale(1.5)}50%{opacity:1;transform:translate(-50%) scale(1)}to{opacity:0;transform:translate(-50%,20px) scale(.5)}}@media screen and (max-width: 768px){.option[_ngcontent-%COMP%]{font-size:2em;margin:15px 0;border-radius:100px;box-shadow:5px 8px #d3d3d3}.question[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin:0 0 2%;min-height:0px}.question_container[_ngcontent-%COMP%]{padding-top:10px}}@media screen and (max-height: 750px){.question_container[_ngcontent-%COMP%]{padding-top:0%}.option[_ngcontent-%COMP%]{font-size:2em}}@media screen and (max-height: 500px){.question[_ngcontent-%COMP%]{font-size:1.7em}.option[_ngcontent-%COMP%]{font-size:1.25em;margin:15px 0}}"]});let o=i;return o})();var gp=Si(Qo());function fp(o,i){if(o&1&&v(0,"plotly-plot",3),o&2){let t=f();M("data",t.graph.data)("layout",t.graph.layout)("config",t.graph.config)}}wt.plotlyjs=gp;var ca=(()=>{let i=class i{constructor(){this.graph_data=[],this.ready=!1,this.graph={layout:{width:document.getElementById("myrow")?.offsetWidth,height:300,plot_bgcolor:"rgba(0,0,0,0)",paper_bgcolor:"rgba(0,0,0,0)",title:{text:"",font:{color:"white"}},xaxis:{title:{font:{color:"white"}},tickfont:{color:"white"}},yaxis:{title:{text:"High Score",font:{color:"white"}},tickfont:{color:"white"}}},config:{displayModeBar:!1,responsive:!0,editable:!1}}}ngOnChanges(){this.graph_data=[],this.graph.data=[{x:this.games.map(r=>r.date),y:this.games.map(r=>r.score),type:"bar",marker:{color:"33ccff"}}];var e=document.getElementById("myrow");if(e){var n=e.offsetWidth;this.graph.layout.width=n}this.ready=!0}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=V({type:i,selectors:[["app-user-dashboard-graph"]],inputs:{games:"games"},features:[fe],decls:4,vars:1,consts:[[1,"graph_container"],[1,"graph_title"],[3,"data","layout","config",4,"ngIf"],[3,"data","layout","config"]],template:function(n,r){n&1&&(c(0,"div",0)(1,"div",1),m(2,"Games History"),l(),E(3,fp,1,3,"plotly-plot",2),l()),n&2&&(u(3),M("ngIf",r.ready))},dependencies:[_e,Go],styles:[".graph_container[_ngcontent-%COMP%]{position:relative}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:20px;color:#fff;text-align:center;position:absolute;top:50px;left:calc(50% - 82px)}"]});let o=i;return o})();var xp=(o,i)=>i.user_badge_id;function bp(o,i){if(o&1&&(c(0,"div",15),v(1,"img",25),c(2,"div"),m(3),l()()),o&2){let t=i.$implicit;u(),W("src",t.badge_icon,F),u(2),N("X",t.count,"")}}function vp(o,i){if(o&1&&(c(0,"div",21),m(1),l()),o&2){let t=f();u(),re("",t.stats.all_time_points_rank_suffix," out of ",t.stats.all_time_points_number_players,"")}}function Cp(o,i){o&1&&(c(0,"div",21),m(1,"-"),l())}function yp(o,i){if(o&1&&(c(0,"div",21),m(1),l()),o&2){let t=f();u(),re("",t.stats.high_points_today_rank_suffix," out of ",t.stats.high_points_today_number_players,"")}}function wp(o,i){o&1&&(c(0,"div",21),m(1,"-"),l())}function Mp(o,i){if(o&1&&(c(0,"div",21),m(1),l()),o&2){let t=f();u(),re("",t.stats.monthly_points_rank_suffix," out of ",t.stats.monthly_points_number_players,"")}}function Sp(o,i){o&1&&(c(0,"div",21),m(1,"-"),l())}function Ep(o,i){if(o&1&&(c(0,"div",21),m(1),l()),o&2){let t=f();u(),re("",t.stats.top_score_all_time_rank_suffix," out of ",t.stats.top_score_all_time_number_players,"")}}function Pp(o,i){o&1&&(c(0,"div",21),m(1,"-"),l())}function Op(o,i){if(o&1&&(c(0,"div",21),m(1),l()),o&2){let t=f();u(),re("",t.stats.games_today_rank_suffix," out of ",t.stats.games_today_number_players,"")}}function Tp(o,i){o&1&&(c(0,"div",21),m(1,"-"),l())}function kp(o,i){if(o&1&&(c(0,"div",21),m(1),l()),o&2){let t=f();u(),re("",t.stats.number_of_games_rank_suffix," out of ",t.stats.number_of_games_number_players,"")}}function Ip(o,i){o&1&&(c(0,"div",21),m(1,"-"),l())}var la=(()=>{let i=class i{constructor(e,n,r,s){this.userService=e,this.commonService=n,this.tablesService=r,this.router=s,this.games=[],this.activity=[],this.stats={}}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.user.wallet||(this.user.wallet=0),this.user.wallet_value=(this.user.wallet/1e3).toFixed(2),this.getData()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}getData(){this.userService.getUserStats(this.user.user_id).subscribe(e=>{this.stats=e,this.user.all_time_points=e.all_time_points,this.getLevel()}),this.userService.getUserActivity(this.user.user_id).subscribe(e=>{var n=e;this.activity=n,this.games=[],n.forEach(r=>{var s=this.games.find(h=>h.game_id==r.game_id);if(!s){var d={game_id:r.game_id,timestamp:r.timestamp,score:r.score};this.games.push(d)}}),this.games.forEach(r=>{r.date=this.commonService.getDateString(r.timestamp)})}),this.tablesService.GetFiltered("user_badges","user_id",this.user.user_id).subscribe(e=>{var n=e;this.number_of_badges=n.length,this.badges=[],n.forEach(r=>{var s=this.badges.find(h=>h.badge_name==r.badge_name);if(!s){var d={badge_name:r.badge_name,badge_icon:r.badge_icon,count:n.filter(h=>h.badge_name==r.badge_name).length};this.badges.push(d)}}),console.log("badges",this.badges)})}goPlay(){this.router.navigate(["user/play"])}getLevel(){this.tablesService.GetAll("skill_levels").subscribe(e=>{this.commonService.assignLevel(this.user,e)})}};i.\u0275fac=function(n){return new(n||i)(A(Se),A(Me),A(Le),A(xe))},i.\u0275cmp=V({type:i,selectors:[["app-user-dashboard"]],decls:130,vars:36,consts:[[1,"background","backgroundx"],[1,"dashboard_contents"],[1,"user_details"],[1,"user_image",3,"src"],[1,"user_name"],[1,"level_container"],[1,"level_icon",3,"src"],[1,"level_name"],["src","https://sportzbattle.blob.core.windows.net/system/tokens_logo.png",1,"level_icon"],[1,"level_name",2,"text-align","center"],[1,"wallet_value"],[1,"text-end"],[1,"btn","btn-default","button_primary","play_now_button",3,"click"],[1,"user_badges"],[1,"user_name",2,"padding-bottom","15px"],[1,"badgex"],[3,"games"],["id","myrow",1,"row","rowx"],[1,"col-6"],[1,"box_title"],[1,"box_number"],[1,"box_rank"],[1,"table_container"],[1,"table"],[1,"tc"],[1,"user_badge",3,"src"]],template:function(n,r){n&1&&(v(0,"app-user-sidemenu"),c(1,"div",0)(2,"div",1)(3,"div",2),v(4,"img",3),c(5,"div",4),m(6),l(),c(7,"div",5),v(8,"img",6),c(9,"div",7),m(10),l()(),c(11,"div",5),v(12,"img",8),c(13,"div",9),m(14),l(),c(15,"div",10),m(16),l()(),c(17,"div",11)(18,"button",12),y("click",function(){return r.goPlay()}),m(19,"Play Now"),l()()(),c(20,"div",13)(21,"div",14),m(22),l(),v(23,"br"),Ve(24,bp,4,2,"div",15,xp),l(),v(26,"app-user-dashboard-graph",16),c(27,"div",17)(28,"div",18)(29,"div",19),m(30,"Total Points"),l(),c(31,"div",20),m(32),l(),E(33,vp,2,2,"div",21)(34,Cp,2,0),l(),c(35,"div",18)(36,"div",19),m(37,"Daily High Points"),l(),c(38,"div",20),m(39),l(),E(40,yp,2,2,"div",21)(41,wp,2,0),l()(),c(42,"div",17)(43,"div",18)(44,"div",19),m(45,"Monthly Points"),l(),c(46,"div",20),m(47),l(),E(48,Mp,2,2,"div",21)(49,Sp,2,0),l(),c(50,"div",18)(51,"div",19),m(52,"All-time Top Score"),l(),c(53,"div",20),m(54),l(),E(55,Ep,2,2,"div",21)(56,Pp,2,0),l()(),c(57,"div",17)(58,"div",18)(59,"div",19),m(60,"Today Games"),l(),c(61,"div",20),m(62),l(),E(63,Op,2,2,"div",21)(64,Tp,2,0),l(),c(65,"div",18)(66,"div",19),m(67,"Total Games"),l(),c(68,"div",20),m(69),l(),E(70,kp,2,2,"div",21)(71,Ip,2,0),l()(),c(72,"div",22)(73,"table",23)(74,"thead")(75,"tr"),v(76,"th",24),c(77,"th",24),m(78,"Questions"),l(),c(79,"th",24),m(80,"Correct"),l(),c(81,"th",24),m(82,"Pct %"),l(),c(83,"th",24),m(84,"Ranking"),l()()(),c(85,"tbody")(86,"tr")(87,"td",24),m(88,"All"),l(),c(89,"td",24),m(90),l(),c(91,"td",24),m(92),l(),c(93,"td",24),m(94),l(),c(95,"td",24),m(96),l()(),c(97,"tr")(98,"td",24),m(99,"Basketball"),l(),c(100,"td",24),m(101),l(),c(102,"td",24),m(103),l(),c(104,"td",24),m(105),l(),c(106,"td",24),m(107),l()(),c(108,"tr")(109,"td",24),m(110,"Football"),l(),c(111,"td",24),m(112),l(),c(113,"td",24),m(114),l(),c(115,"td",24),m(116),l(),c(117,"td",24),m(118),l()(),c(119,"tr")(120,"td",24),m(121,"Baseball"),l(),c(122,"td",24),m(123),l(),c(124,"td",24),m(125),l(),c(126,"td",24),m(127),l(),c(128,"td",24),m(129),l()()()()()()()),n&2&&(u(4),W("src",r.user.image,F),u(2),k(r.user.name),u(2),W("src",r.user.level_icon,F),u(2),k(r.user.level),u(4),k(r.user.wallet),u(2),N("$",r.user.wallet_value,""),u(6),N("Badges (",r.number_of_badges,")"),u(2),Be(r.badges),u(2),M("games",r.games),u(6),k(r.stats.all_time_points),u(),R(33,r.stats.all_time_points_number_players>0&&r.stats.number_of_games>0?33:34),u(6),k(r.stats.high_points_today),u(),R(40,r.stats.high_points_today_number_players>0&&r.stats.games_today>0?40:41),u(7),k(r.stats.monthly_points),u(),R(48,r.stats.monthly_points_number_players>0&&r.stats.number_of_games>0?48:49),u(6),k(r.stats.top_score_all_time),u(),R(55,r.stats.top_score_all_time_number_players>0&&r.stats.number_of_games>0?55:56),u(7),k(r.stats.games_today),u(),R(63,r.stats.games_today_number_players>0&&r.stats.games_today>0?63:64),u(6),k(r.stats.number_of_games),u(),R(70,r.stats.number_of_games_number_players>0&&r.stats.number_of_games>0?70:71),u(20),k(r.stats.all_questions),u(2),k(r.stats.all_correct),u(2),N("",r.stats.all_pct,"%"),u(2),k(r.stats.all_pct_rank_suffix),u(5),k(r.stats.all_nba),u(2),k(r.stats.nba_correct),u(2),N("",r.stats.nba_pct,"%"),u(2),k(r.stats.nba_pct_rank_suffix),u(5),k(r.stats.all_nfl),u(2),k(r.stats.nfl_correct),u(2),N("",r.stats.nfl_pct,"%"),u(2),k(r.stats.nfl_pct_rank_suffix),u(5),k(r.stats.all_mlb),u(2),k(r.stats.mlb_correct),u(2),N("",r.stats.mlb_pct,"%"),u(2),k(r.stats.mlb_pct_rank_suffix))},dependencies:[$e,ca],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_details[_ngcontent-%COMP%]{padding:60px 40px 0;position:relative;margin:auto;display:block}.dashboard_contents[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;display:block;padding-bottom:100px}.user_image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;display:inline-block}.user_name[_ngcontent-%COMP%]{font-size:20px;font-family:orbitron-bold;display:inline-block;vertical-align:middle;padding-left:20px;color:#fff}.level_icon[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;display:block;margin:auto}.level_name[_ngcontent-%COMP%]{font-size:16px;font-family:orbitron-bold;vertical-align:middle;color:#fff}.box_title[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:24px;text-align:center;padding:7px 0;margin:auto}.box_number[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:20px;text-align:center;background-color:#3cf;padding:25px 0;border-radius:50%;width:80px;height:80px;margin:auto}.box_rank[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#fff;text-align:center}.rowx[_ngcontent-%COMP%]{margin:0;border-bottom:solid 1px white;padding-bottom:10px;padding-top:10px;border-top:solid 1px white}.play_now_button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.table_container[_ngcontent-%COMP%]{padding:30px 0}.level_container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:60px}.user_badge[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;padding:0;margin:0 7px}.user_badges[_ngcontent-%COMP%]{padding:50px 0 30px}.badgex[_ngcontent-%COMP%]{font-family:orbitron-bold;display:inline-block;color:#fff;text-align:center;font-size:13px}.wallet_value[_ngcontent-%COMP%]{font-family:orbitron-bold;color:#00bfff;font-size:14px;padding-left:5px}@media screen and (max-width: 768px){.user_name[_ngcontent-%COMP%]{font-size:16px}.user_image[_ngcontent-%COMP%]{width:60px;height:60px}.level_name[_ngcontent-%COMP%]{font-size:15px}.backgroundx[_ngcontent-%COMP%]{padding:0}.box_title[_ngcontent-%COMP%]{max-width:166px}.user_details[_ngcontent-%COMP%]{padding:60px 5px 0}.level_container[_ngcontent-%COMP%]{padding-left:20px}}']});let o=i;return o})();var Ap=(o,i)=>i.user_id,ao=o=>({selected:o});function Rp(o,i){if(o&1){let t=I();c(0,"div",12)(1,"div",22),y("click",function(){x(t);let n=f();return n.tab="search",b(n.filterPlayers())}),m(2,"Search"),l(),c(3,"div",22),y("click",function(){x(t);let n=f();return n.tab="scouting",b(n.filterPlayers())}),m(4),l(),c(5,"div",22),y("click",function(){x(t);let n=f();return n.tab="scouted-by",b(n.filterPlayers())}),m(6),l()()}if(o&2){let t=f();u(),M("ngClass",ee(5,ao,t.tab=="search")),u(2),M("ngClass",ee(7,ao,t.tab=="scouting")),u(),N("Scouting (",t.scouts.scouts.length,")"),u(),M("ngClass",ee(9,ao,t.tab=="scouted-by")),u(),N("Scouted by (",t.scouts.prospects.length,")")}}function zp(o,i){o&1&&v(0,"th",23)(1,"th",23)(2,"th",23)}function Vp(o,i){o&1&&v(0,"th",23)}function Bp(o,i){if(o&1&&(c(0,"td",23),v(1,"img",24),m(2),l()),o&2){let t=f().$implicit;u(),W("src",t.level_icon,F),u(),N("\xA0",t.level," ")}}function Lp(o,i){if(o&1&&(c(0,"td",23),v(1,"img",24),l()),o&2){let t=f().$implicit;u(),W("src",t.level_icon,F)}}function Up(o,i){if(o&1){let t=I();c(0,"button",26),y("click",function(){x(t);let n=f(2).$implicit,r=f(2);return b(r.scoutPlayer(n))}),m(1,"SCOUT"),l()}}function Np(o,i){if(o&1){let t=I();c(0,"button",27),y("click",function(){x(t);let n=f(2).$implicit,r=f(2);return b(r.removeScout(n))}),m(1,"REMOVE"),l()}}function Dp(o,i){if(o&1){let t=I();c(0,"td",23)(1,"button",25),m(2,"BATTLE H2H"),l()(),c(3,"td",23)(4,"button",26),y("click",function(){x(t);let n=f().$implicit,r=f(2);return b(r.userMatchUp(n.user_id))}),m(5,"MATCH UP"),l()(),c(6,"td",23),E(7,Up,2,0,"button",25)(8,Np,2,0),l()}if(o&2){let t=f().$implicit,e=f(2);u(7),R(7,t.scouting==!1?7:t.scouting==!0&&e.tab=="scouting"?8:-1)}}function Fp(o,i){if(o&1){let t=I();c(0,"td",23)(1,"button",28),y("click",function(){x(t);let n=f().$implicit,r=f(2);return b(r.openOptions(n))}),v(2,"i",29),l()()}}function qp(o,i){if(o&1&&(c(0,"tr")(1,"td",23),v(2,"img",24),l(),c(3,"td",23),m(4),l(),E(5,Bp,3,2,"td",23)(6,Lp,2,1),c(7,"td",23),m(8),l(),E(9,Dp,9,1)(10,Fp,3,0),l()),o&2){let t=i.$implicit,e=f(2);u(2),W("src",t.image,F),u(2),k(t.username.slice(0,10)),u(),R(5,e.screen_large?5:6),u(3),k(e.tab=="daily"?t.max_score:t.points),u(),R(9,e.screen_large?9:10)}}function Wp(o,i){if(o&1&&(c(0,"table",14)(1,"thead")(2,"tr"),v(3,"th",23),c(4,"th",23),m(5,"Username"),l(),c(6,"th",23),m(7,"Level"),l(),c(8,"th",23),m(9,"Total Points"),l(),E(10,zp,3,0)(11,Vp,1,0),l()(),c(12,"tbody"),Ve(13,qp,11,5,"tr",null,Ap),l()()),o&2){let t=f();u(10),R(10,t.screen_large?10:11),u(3),Be(t.players)}}function Hp(o,i){o&1&&(c(0,"div",30),m(1,"There are no players to show"),l())}function jp(o,i){if(o&1){let t=I();c(0,"div",18)(1,"button",31),y("click",function(){x(t);let n=f();return b(n.closeModal("scoutNotificationModal"))}),v(2,"i",32),l(),c(3,"p",33),m(4),l(),c(5,"div",34)(6,"button",35),y("click",function(){x(t);let n=f();return b(n.closeModal("scoutNotificationModal"))}),m(7,"Ok"),l()()()}if(o&2){let t=f();u(4),N("",t.itemx.username," has been added to your scouting list")}}function Yp(o,i){if(o&1){let t=I();c(0,"div",18)(1,"button",31),y("click",function(){x(t);let n=f();return b(n.closeModal("matchupModal"))}),v(2,"i",32),l(),c(3,"table",36)(4,"tr"),v(5,"td"),c(6,"td",37)(7,"strong",23),m(8),l()(),c(9,"td",37)(10,"strong",23),m(11),l()()(),c(12,"tr"),v(13,"td"),c(14,"td",33),v(15,"img",38),l(),c(16,"td",33),v(17,"img",38),l()(),c(18,"tr")(19,"td"),m(20,"All-Time Points"),l(),c(21,"td",33),m(22),l(),c(23,"td",33),m(24),l()(),c(25,"tr")(26,"td"),m(27,"Number of Games"),l(),c(28,"td",33),m(29),l(),c(30,"td",33),m(31),l()(),c(32,"tr")(33,"td"),m(34,"All-Time Rank"),l(),c(35,"td",33),m(36),l(),c(37,"td",33),m(38),l()(),c(39,"tr")(40,"td"),m(41,"Top Score All-Time"),l(),c(42,"td",33),m(43),l(),c(44,"td",33),m(45),l()(),c(46,"tr")(47,"td"),m(48,"Football Pct (Rank)"),l(),c(49,"td",33),m(50),l(),c(51,"td",33),m(52),l()(),c(53,"tr")(54,"td"),m(55,"Basketball Pct (Rank)"),l(),c(56,"td",33),m(57),l(),c(58,"td",33),m(59),l()(),c(60,"tr")(61,"td"),m(62,"Baseball Pct (Rank)"),l(),c(63,"td",33),m(64),l(),c(65,"td",33),m(66),l()()(),c(67,"div",34)(68,"button",35),y("click",function(){x(t);let n=f();return b(n.closeModal("matchupModal"))}),m(69,"Ok"),l()()()}if(o&2){let t=f();u(8),k(t.user.stats.username),u(3),k(t.matchup.username),u(4),W("src",t.user.image,F),u(2),W("src",t.matchup.image,F),u(5),k(t.user.stats.all_time_points),u(2),k(t.matchup.all_time_points),u(5),k(t.user.stats.number_of_games),u(2),k(t.matchup.number_of_games),u(5),k(t.user.stats.all_time_points_rank_suffix),u(2),k(t.matchup.all_time_points_rank_suffix),u(5),k(t.user.stats.top_score_all_time),u(2),k(t.matchup.top_score_all_time),u(5),re("",t.user.stats.nfl_pct,"%\xA0(",t.user.stats.nfl_pct_rank_suffix,")"),u(2),re("",t.matchup.nfl_pct,"%\xA0(",t.matchup.nfl_pct_rank_suffix,")"),u(5),re("",t.user.stats.nba_pct,"%\xA0(",t.user.stats.nba_pct_rank_suffix,")"),u(2),re("",t.matchup.nba_pct,"%\xA0(",t.matchup.nba_pct_rank_suffix,")"),u(5),re("",t.user.stats.mlb_pct,"%\xA0(",t.user.stats.mlb_pct_rank_suffix,")"),u(2),re("",t.matchup.mlb_pct,"%\xA0(",t.matchup.mlb_pct_rank_suffix,")")}}function Qp(o,i){if(o&1){let t=I();c(0,"button",35),y("click",function(){x(t);let n=f(2);return b(n.scoutPlayer(n.itemx))}),m(1,"SCOUT"),l(),v(2,"br")(3,"br")}}function Gp(o,i){if(o&1){let t=I();c(0,"button",35),y("click",function(){x(t);let n=f(2);return b(n.removeScout(n.itemx))}),m(1,"REMOVE"),l(),v(2,"br")(3,"br")}}function Xp(o,i){if(o&1){let t=I();c(0,"div",18)(1,"button",31),y("click",function(){x(t);let n=f();return b(n.closeModal("optionsModal"))}),v(2,"i",32),l(),c(3,"div",39)(4,"strong"),m(5),l()(),c(6,"div",33)(7,"button",40),m(8,"BATTLE H2H"),l(),v(9,"br")(10,"br"),c(11,"button",35),y("click",function(){x(t);let n=f();return b(n.userMatchUp(n.itemx.user_id))}),m(12,"MATCH UP"),l(),v(13,"br")(14,"br"),E(15,Qp,4,0)(16,Gp,4,0),l()()}if(o&2){let t=f();u(5),k(t.itemx.username),u(10),R(15,t.itemx.scouting==!1?15:t.itemx.scouting==!0&&t.tab=="scouting"?16:-1)}}function Kp(o,i){if(o&1){let t=I();c(0,"div",18)(1,"button",31),y("click",function(){x(t);let n=f();return b(n.closeModal("confirmDeleteScoutModal"))}),v(2,"i",32),l(),c(3,"div",41)(4,"p"),m(5,"Please confirm you wish to remove "),c(6,"em"),m(7),l(),m(8," from your scouting list. "),l()(),c(9,"div",33)(10,"button",35),y("click",function(){x(t);let n=f();return b(n.deleteScoutingRecord())}),m(11,"REMOVE"),l()()()}if(o&2){let t=f();u(7),k(t.itemx.username)}}var da=(()=>{let i=class i{constructor(e,n,r,s){this.userService=e,this.commonService=n,this.tablesService=r,this.router=s,this.players=[],this.data_ready=!1,this.tab="search",this.daily_start_time=this.commonService.getEpochTimeForTodayAtMidnight(),this.monthly_start_time=this.commonService.getFirstDayOfMonthEpoch(),this.screen_large=window.innerWidth>768}ngOnInit(){this.userServiceSubscription=this.userService._getUser.subscribe(e=>{if(!e){this.router.navigate(["login"]);return}this.user=e,this.user.wallet||(this.user.wallet=0),this.user.wallet_value=(this.user.wallet/1e3).toFixed(2),this.loadData(),this.loadScouts()})}ngOnDestroy(){this.userServiceSubscription&&this.userServiceSubscription.unsubscribe()}loadData(){this.userService.getUserStats(this.user.user_id).subscribe(e=>{this.user.stats=e,this.user.all_time_points=e.all_time_points,this.getLevel()})}loadPlayers(){this.userService.getAllGames().subscribe(e=>{this.games=e,this.filterPlayers()})}loadScouts(){this.userService.getUserScouts(this.user.user_id).subscribe(e=>{console.log("scouts",e),this.scouts=e,this.loadPlayers()})}filterPlayers(){this.data_ready=!1;var e=[];e=this.games.filter(n=>n.user_id!=this.user.user_id),this.players=[],e.forEach(n=>{var r=this.players.find(s=>s.user_id==n.user_id);r||this.players.push({user_id:n.user_id,username:n.username,image:n.user_image})}),this.tab=="scouting"?(console.log("this.scouts.scounts",this.scouts.scouts),this.players=this.players.filter(n=>this.scouts.scouts.map(r=>r.prospect_user_id).indexOf(n.user_id)>-1)):this.tab=="scouted-by"&&(this.players=this.players.filter(n=>this.scouts.prospects.map(r=>r.scout_user_id).indexOf(n.user_id)>-1)),this.players.forEach(n=>{var r=e.filter(h=>h.user_id==n.user_id);n.games=r.length;var s=0,d=0;r.forEach(h=>{s+=h.score?h.score:0,h.score>d&&(d=h.score)}),n.points=s,n.max_score=d,n.scouting=this.scouts.scouts.map(h=>h.prospect_user_id).indexOf(n.user_id)>-1}),this.players=this.players.sort((n,r)=>r.points-n.points),this.tab=="search"&&!this.players_map&&(this.players_map=this.players.map(n=>({user_id:n.user_id,all_time_points:n.points}))),this.players.forEach(n=>{var r=this.players_map.find(s=>s.user_id==n.user_id);r&&(n.all_time_points=r.all_time_points)}),this.assignLevels(),this.data_ready=!0}assignLevels(){this.tablesService.GetAll("skill_levels").subscribe(e=>{this.players.forEach(n=>{this.commonService.assignLevel(n,e)})})}getLevel(){this.tablesService.GetAll("skill_levels").subscribe(e=>{this.commonService.assignLevel(this.user,e)})}closeModal(e){$("#"+e).modal("hide")}scoutPlayer(e){this.itemx=e,console.log("this.itemx",this.itemx),$("#optionsModal").modal("hide");var n={scout_user_id:this.user.user_id,prospect_user_id:this.itemx.user_id};this.tablesService.AddItem("scouting_actions",n).subscribe(r=>{this.loadScouts()}),$("#scoutNotificationModal").modal("show")}userMatchUp(e){$("#optionsModal").modal("hide"),this.userService.getUserStats(e).subscribe(n=>{this.matchup=n,$("#matchupModal").modal("show")})}removeScout(e){this.itemx=e,$("#confirmDeleteScoutModal").modal("show")}openOptions(e){this.itemx=e,$("#optionsModal").modal("show")}deleteScoutingRecord(){var e=this.scouts.scouts.find(n=>n.prospect_user_id==this.itemx.user_id&&n.scout_user_id==this.user.user_id);e&&this.tablesService.DeleteFiltered("scouting_actions","scouting_action_id",e.scouting_action_id).subscribe(()=>{this.loadScouts(),$("#confirmDeleteScoutModal").modal("hide")})}};i.\u0275fac=function(n){return new(n||i)(A(Se),A(Me),A(Le),A(xe))},i.\u0275cmp=V({type:i,selectors:[["app-scouting"]],decls:39,vars:12,consts:[[1,"background","backgroundx"],[1,"dashboard_contents"],[1,"user_details"],[1,"user_image",3,"src"],[1,"user_name"],[1,"level_container"],[1,"level_icon",3,"src"],[1,"level_name"],["src","https://sportzbattle.blob.core.windows.net/system/tokens_logo.png",1,"level_icon"],[1,"level_name",2,"text-align","center"],[1,"wallet_value"],[1,"page_title"],[1,"submenu_container"],[1,"table_container"],[1,"table","tablex"],["id","scoutNotificationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","modal_body","modal_bodyx"],["id","matchupModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","optionsModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],["id","confirmDeleteScoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden"],[1,"submenu_item",3,"click","ngClass"],[1,"tc"],[1,"player_image",3,"src"],[1,"btn","btn-default","button_primary","table_button"],[1,"btn","btn-default","button_primary","table_button",3,"click"],[1,"btn","btn-default","button_primary","remove_button",3,"click"],[1,"btn","btn-default",3,"click"],[1,"fa-solid","fa-ellipsis-vertical",2,"color","white"],[1,"note"],["data-dismiss","modal",1,"btn","btn-default","modal_close_button",3,"click"],[1,"fa","fa-times","modal_close_icon"],[1,"text-center"],[1,"text-center",2,"padding","35px 0 0 0"],[1,"btn","btn-default","button_primary",3,"click"],[1,"table"],[1,"text-center","tc"],[1,"table_image",3,"src"],[2,"padding","20px 0"],[1,"btn","btn-default","button_primary"],[1,"text-center",2,"padding","20px 0"]],template:function(n,r){n&1&&(v(0,"app-user-sidemenu"),c(1,"div",0)(2,"div",1)(3,"div",2),v(4,"img",3),c(5,"div",4),m(6),l(),c(7,"div",5),v(8,"img",6),c(9,"div",7),m(10),l()(),c(11,"div",5),v(12,"img",8),c(13,"div",9),m(14),l(),c(15,"div",10),m(16),l()()(),c(17,"div",11),m(18,"Scouting"),l(),E(19,Rp,7,11,"div",12),c(20,"div",13),E(21,Wp,15,1,"table",14)(22,Hp,2,0),l()()(),c(23,"div",15)(24,"div",16)(25,"div",17),E(26,jp,8,1,"div",18),l()()(),c(27,"div",19)(28,"div",16)(29,"div",17),E(30,Yp,70,24,"div",18),l()()(),c(31,"div",20)(32,"div",16)(33,"div",17),E(34,Xp,17,2,"div",18),l()()(),c(35,"div",21)(36,"div",16)(37,"div",17),E(38,Kp,12,1,"div",18),l()()()),n&2&&(u(4),W("src",r.user.image,F),u(2),k(r.user.name),u(2),W("src",r.user.level_icon,F),u(2),k(r.user.level),u(4),k(r.user.wallet),u(2),N("$",r.user.wallet_value,""),u(3),R(19,r.scouts?19:-1),u(2),R(21,r.players.length>0?21:22),u(5),R(26,r.itemx?26:-1),u(4),R(30,r.matchup?30:-1),u(4),R(34,r.itemx?34:-1),u(4),R(38,r.itemx?38:-1))},dependencies:[we,$e],styles:['.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:linear-gradient(45deg,#3cf,#000,#000);position:relative;padding-left:220px}.page_title[_ngcontent-%COMP%]{color:#3cf;padding:20px 0;font-size:38px;font-family:roboto-bold}.contents[_ngcontent-%COMP%]{padding:20px 20px 100px 240px}.button_primary[_ngcontent-%COMP%]{color:#fff;background-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_primary[_ngcontent-%COMP%]:hover{background-color:#0086b3}.button_secondary[_ngcontent-%COMP%]{color:#3cf;background-color:#fff;border-color:#3cf;min-width:150px;border-radius:0;font-family:roboto-bold}.button_secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3cf}.button_default[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3;min-width:150px;border-color:#d3d3d3}.button_default[_ngcontent-%COMP%]:hover{color:gray;border-color:gray}.button_discrete[_ngcontent-%COMP%]{padding:20px 0;color:gray;border:none;outline:none}.button_discrete[_ngcontent-%COMP%]:hover{border:none;outline:none;text-decoration:underline}.back_button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:16px;outline:none;border:none}.back_button_words[_ngcontent-%COMP%]{cursor:pointer}.back_button_words[_ngcontent-%COMP%]:hover{text-decoration:underline;border:none;outline:none}.search_icon[_ngcontent-%COMP%]{color:gray;border-radius:50%;padding:5px 8px;width:33px;height:33px;position:absolute;top:3px;left:7px}.clickable[_ngcontent-%COMP%]{cursor:pointer}.modal_header[_ngcontent-%COMP%]{background-color:#3cf;color:#fff;height:54px}.modal_body[_ngcontent-%COMP%]{padding:60px 40px 40px;max-height:calc(100vh - 66px);overflow:auto}.modal_footer[_ngcontent-%COMP%]{background-color:#fff}.modal_title[_ngcontent-%COMP%]{color:#7f7f7f;font-size:30px;text-align:center;font-family:roboto-medium}.modal_close_button[_ngcontent-%COMP%]{color:#1e4f7a;position:absolute;top:15px;right:15px}.modal_close_icon[_ngcontent-%COMP%]{font-size:24px}.modal_close_button[_ngcontent-%COMP%]:hover{border:none;outline:none;color:#3cf}.modal_success_text[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:gray;margin:20px 0 0}.labelf[_ngcontent-%COMP%]{margin:20px 0 5px;color:#fff;font-family:roboto-medium}.labelfd[_ngcontent-%COMP%]{margin:20px 0 5px;color:gray;font-family:roboto-medium}.form_alert[_ngcontent-%COMP%]{color:#e2667d;font-style:italic;font-size:15px;text-align:right}.form_title[_ngcontent-%COMP%]{color:gray;font-size:32px;padding:20px 0}.form_label[_ngcontent-%COMP%]{margin:10px 0 0;width:200px}.form_input[_ngcontent-%COMP%]{border-radius:0;font-family:roboto-medium}.search_input_container[_ngcontent-%COMP%]{height:60px;padding-top:12px;padding-left:20px;display:inline-block}.remove_search_icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:80px;color:#d3d3d3;cursor:pointer;background-color:gray;padding:5px 6px 2px 5px;border-radius:50%;color:#f7f8fc}.search_input[_ngcontent-%COMP%]{border:solid 1px lightgrey;padding:5px 0 5px 55px;font-style:italic;color:#5a5b5f;border-radius:24px;width:350px;height:48px;box-shadow:1px 1px 1px #d3d3d3}.search_input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::placeholder{color:#5a5b5f;opacity:1;font-style:italic}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#5a5b5f}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a5b5f}.invalid_feedback[_ngcontent-%COMP%]{text-align:right}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;height:24px;width:45px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.checkbox_container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#d3d3d3}.checkbox_container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#3cf}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox_container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.mz[_ngcontent-%COMP%]{margin:0}.pz[_ngcontent-%COMP%]{padding:0}.brz[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 992px){.cc[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.content_container[_ngcontent-%COMP%]{padding:20px 10px}.page_title[_ngcontent-%COMP%]{margin:0;padding:45px 5px 0}}@media screen and (max-width: 768px){.cc[_ngcontent-%COMP%]{padding-bottom:200px}.remove_search_icon[_ngcontent-%COMP%]{top:12px}.background[_ngcontent-%COMP%]{padding:20px}}.user_details[_ngcontent-%COMP%]{padding:60px 40px 0;position:relative;margin:auto;display:block}.dashboard_contents[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;display:block;padding-bottom:100px}.user_image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;display:inline-block}.user_name[_ngcontent-%COMP%]{font-size:20px;font-family:orbitron-bold;display:inline-block;vertical-align:middle;padding-left:20px;color:#fff}.level_icon[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;display:block;margin:auto}.level_name[_ngcontent-%COMP%]{font-size:16px;font-family:orbitron-bold;vertical-align:middle;color:#fff}.box_title[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:24px;text-align:center;padding:7px 0;margin:auto}.box_number[_ngcontent-%COMP%]{color:#fff;font-family:orbitron-bold;font-size:20px;text-align:center;background-color:#3cf;padding:25px 0;border-radius:50%;width:80px;height:80px;margin:auto}.box_rank[_ngcontent-%COMP%]{font-style:italic;font-size:18px;color:#fff;text-align:center}.rowx[_ngcontent-%COMP%]{margin:0;border-bottom:solid 1px white;padding-bottom:10px;padding-top:10px;border-top:solid 1px white}.play_now_button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600}.level_container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:60px}.user_badge[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;padding:0;margin:0 7px}.user_badges[_ngcontent-%COMP%]{padding:50px 0 30px}.badgex[_ngcontent-%COMP%]{font-family:orbitron-bold;display:inline-block;color:#fff;text-align:center;font-size:13px}.wallet_value[_ngcontent-%COMP%]{font-family:orbitron-bold;color:#00bfff;font-size:14px;padding-left:5px}.modal_bodyx[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3cf,#000,#000);color:#fff;border:solid 2px white}@media screen and (max-width: 768px){.user_name[_ngcontent-%COMP%]{font-size:16px}.user_image[_ngcontent-%COMP%]{width:60px;height:60px}.level_name[_ngcontent-%COMP%]{font-size:15px}.backgroundx[_ngcontent-%COMP%]{padding:0}.box_title[_ngcontent-%COMP%]{max-width:166px}.user_details[_ngcontent-%COMP%]{padding:60px 5px 0}.level_container[_ngcontent-%COMP%]{padding-left:20px}.tc[_ngcontent-%COMP%]{height:50px}}.submenu_container[_ngcontent-%COMP%]{padding:20px 0}.submenu_item[_ngcontent-%COMP%]{font-size:20px;display:inline-block;padding:0 15px;color:#fff;font-family:orbitron-medium;cursor:pointer}.tc[_ngcontent-%COMP%]{background-color:transparent;color:#fff;text-align:center;font-weight:600;padding:8px 0}.table_container[_ngcontent-%COMP%]{padding:30px 0}.graph_title[_ngcontent-%COMP%]{font-family:orbitron-bold;font-size:28px;color:#fff;text-align:center;padding:0 0 20px}.tablex[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:auto}.player_image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.selected[_ngcontent-%COMP%]{border-bottom:solid 2px white}.contentsx[_ngcontent-%COMP%]{padding:50px}.note[_ngcontent-%COMP%]{padding:30px 0;font-style:italic;color:#fff;font-size:20px;text-align:center}.table_button[_ngcontent-%COMP%]{padding:0;min-width:105px;margin:0 2px}.table_image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:transparent}.remove_button[_ngcontent-%COMP%]{background-color:transparent;border-color:solid 1px white;color:#fff;padding:0;min-width:105px;margin:0 2px}@media screen and (max-width: 768px){.contentsx[_ngcontent-%COMP%]{padding:0}}']});let o=i;return o})();var Jp=[{path:"settings",component:vs},{path:"leaderboard",component:Cs},{path:"play",component:aa},{path:"user-dashboard",component:la},{path:"scouting",component:da}],pa=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=bt({type:i}),i.\u0275inj=xt({imports:[Cn.forChild(Jp),Cn]});let o=i;return o})();var $p=Si(Qo());wt.plotlyjs=$p;var ag=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=bt({type:i}),i.\u0275inj=xt({imports:[Ct,pa,Zo,er,Fi,wt,pr,Wi,on,rn,sn]});let o=i;return o})();export{ag as UserModule};
